var fs=Object.defineProperty;var ds=(n,e,t)=>e in n?fs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ue=(n,e,t)=>(ds(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function H(){}const Un=n=>n;function qt(n,e){for(const t in e)n[t]=e[t];return n}function _s(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Vi(n){return n()}function Cl(){return Object.create(null)}function we(n){n.forEach(Vi)}function nn(n){return typeof n=="function"}function be(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function ps(n){return Object.keys(n).length===0}function Ht(n,...e){if(n==null){for(const l of e)l(void 0);return H}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Xe(n){let e;return Ht(n,t=>e=t)(),e}function Ye(n,e,t){n.$$.on_destroy.push(Ht(e,t))}function Bt(n,e,t,l){if(n){const i=Qi(n,e,t,l);return n[0](i)}}function Qi(n,e,t,l){return n[1]&&l?qt(t.ctx.slice(),n[1](l(e))):t.ctx}function Ut(n,e,t,l){if(n[2]&&l){const i=n[2](l(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],r=Math.max(e.dirty.length,i.length);for(let o=0;o<r;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function Yt(n,e,t,l,i,s){if(i){const r=Qi(e,t,l,s);n.p(r,i)}}function Gt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function nl(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function Sl(n,e){const t={};e=new Set(e);for(const l in n)!e.has(l)&&l[0]!=="$"&&(t[l]=n[l]);return t}function Mn(n,e,t){return n.set(t),e}function al(n){return n&&nn(n.destroy)?n.destroy:H}function Pl(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const Xi=typeof window<"u";let ul=Xi?()=>window.performance.now():()=>Date.now(),fl=Xi?n=>requestAnimationFrame(n):H;const dn=new Set;function Zi(n){dn.forEach(e=>{e.c(n)||(dn.delete(e),e.f())}),dn.size!==0&&fl(Zi)}function dl(n){let e;return dn.size===0&&fl(Zi),{promise:new Promise(t=>{dn.add(e={c:n,f:t})}),abort(){dn.delete(e)}}}function a(n,e){n.appendChild(e)}function xi(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function hs(n){const e=_("style");return e.textContent="/* empty */",ms(xi(n),e),e.sheet}function ms(n,e){return a(n.head||n,e),e.sheet}function y(n,e,t){n.insertBefore(e,t||null)}function $(n){n.parentNode&&n.parentNode.removeChild(n)}function Ne(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function _(n){return document.createElement(n)}function A(n){return document.createTextNode(n)}function v(){return A(" ")}function ke(){return A("")}function Y(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function St(n){return function(e){return e.preventDefault(),n.call(this,e)}}function h(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const bs=["width","height"];function Ol(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const l in e)e[l]==null?n.removeAttribute(l):l==="style"?n.style.cssText=e[l]:l==="__value"?n.value=n[l]=e[l]:t[l]&&t[l].set&&bs.indexOf(l)===-1?n[l]=e[l]:h(n,l,e[l])}function Pt(n){return n===""?null:+n}function gs(n){return Array.from(n.childNodes)}function B(n,e){e=""+e,n.data!==e&&(n.data=e)}function ae(n,e){n.value=e??""}function G(n,e,t,l){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,l?"important":"")}function Qe(n,e,t){n.classList.toggle(e,!!t)}function es(n,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:l})}function hn(n,e){return new n(e)}const qn=new Map;let Hn=0;function vs(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function ks(n,e){const t={stylesheet:hs(e),rules:{}};return qn.set(n,t),t}function Dn(n,e,t,l,i,s,r,o=0){const c=16.666/l;let u=`{
`;for(let S=0;S<=1;S+=c){const g=e+(t-e)*s(S);u+=S*100+`%{${r(g,1-g)}}
`}const f=u+`100% {${r(t,1-t)}}
}`,d=`__svelte_${vs(f)}_${o}`,p=xi(n),{stylesheet:m,rules:b}=qn.get(p)||ks(p,n);b[d]||(b[d]=!0,m.insertRule(`@keyframes ${d} ${f}`,m.cssRules.length));const k=n.style.animation||"";return n.style.animation=`${k?`${k}, `:""}${d} ${l}ms linear ${i}ms 1 both`,Hn+=1,d}function In(n,e){const t=(n.style.animation||"").split(", "),l=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-l.length;i&&(n.style.animation=l.join(", "),Hn-=i,Hn||$s())}function $s(){fl(()=>{Hn||(qn.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&$(e)}),qn.clear())})}let yn;function Rt(n){yn=n}function gn(){if(!yn)throw new Error("Function called outside component initialization");return yn}function ln(n){gn().$$.on_mount.push(n)}function ys(n){gn().$$.on_destroy.push(n)}function ws(){const n=gn();return(e,t,{cancelable:l=!1}={})=>{const i=n.$$.callbacks[e];if(i){const s=es(e,t,{cancelable:l});return i.slice().forEach(r=>{r.call(n,s)}),!s.defaultPrevented}return!0}}function Kn(n,e){return gn().$$.context.set(n,e),e}function _n(n){return gn().$$.context.get(n)}function jl(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const fn=[],Ee=[];let pn=[];const ll=[],Cs=Promise.resolve();let il=!1;function Ss(){il||(il=!0,Cs.then(_l))}function ft(n){pn.push(n)}function Ge(n){ll.push(n)}const Vn=new Set;let an=0;function _l(){if(an!==0)return;const n=yn;do{try{for(;an<fn.length;){const e=fn[an];an++,Rt(e),Ps(e.$$)}}catch(e){throw fn.length=0,an=0,e}for(Rt(null),fn.length=0,an=0;Ee.length;)Ee.pop()();for(let e=0;e<pn.length;e+=1){const t=pn[e];Vn.has(t)||(Vn.add(t),t())}pn.length=0}while(fn.length);for(;ll.length;)ll.pop()();il=!1,Vn.clear(),Rt(n)}function Ps(n){if(n.fragment!==null){n.update(),we(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ft)}}function Os(n){const e=[],t=[];pn.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),pn=e}let $n;function pl(){return $n||($n=Promise.resolve(),$n.then(()=>{$n=null})),$n}function Xt(n,e,t){n.dispatchEvent(es(`${e?"intro":"outro"}${t}`))}const Tn=new Set;let Ct;function Ae(){Ct={r:0,c:[],p:Ct}}function Me(){Ct.r||we(Ct.c),Ct=Ct.p}function R(n,e){n&&n.i&&(Tn.delete(n),n.i(e))}function q(n,e,t,l){if(n&&n.o){if(Tn.has(n))return;Tn.add(n),Ct.c.push(()=>{Tn.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}const hl={duration:0};function js(n,e,t){const l={direction:"in"};let i=e(n,t,l),s=!1,r,o,c=0;function u(){r&&In(n,r)}function f(){const{delay:p=0,duration:m=300,easing:b=Un,tick:k=H,css:S}=i||hl;S&&(r=Dn(n,0,1,m,p,b,S,c++)),k(0,1);const g=ul()+p,C=g+m;o&&o.abort(),s=!0,ft(()=>Xt(n,!0,"start")),o=dl(T=>{if(s){if(T>=C)return k(1,0),Xt(n,!0,"end"),u(),s=!1;if(T>=g){const w=b((T-g)/m);k(w,1-w)}}return s})}let d=!1;return{start(){d||(d=!0,In(n),nn(i)?(i=i(l),pl().then(f)):f())},invalidate(){d=!1},end(){s&&(u(),s=!1)}}}function As(n,e,t){const l={direction:"out"};let i=e(n,t,l),s=!0,r;const o=Ct;o.r+=1;let c;function u(){const{delay:f=0,duration:d=300,easing:p=Un,tick:m=H,css:b}=i||hl;b&&(r=Dn(n,1,0,d,f,p,b));const k=ul()+f,S=k+d;ft(()=>Xt(n,!1,"start")),"inert"in n&&(c=n.inert,n.inert=!0),dl(g=>{if(s){if(g>=S)return m(0,1),Xt(n,!1,"end"),--o.r||we(o.c),!1;if(g>=k){const C=p((g-k)/d);m(1-C,C)}}return s})}return nn(i)?pl().then(()=>{i=i(l),u()}):u(),{end(f){f&&"inert"in n&&(n.inert=c),f&&i.tick&&i.tick(1,0),s&&(r&&In(n,r),s=!1)}}}function Fn(n,e,t,l){let s=e(n,t,{direction:"both"}),r=l?0:1,o=null,c=null,u=null,f;function d(){u&&In(n,u)}function p(b,k){const S=b.b-r;return k*=Math.abs(S),{a:r,b:b.b,d:S,duration:k,start:b.start,end:b.start+k,group:b.group}}function m(b){const{delay:k=0,duration:S=300,easing:g=Un,tick:C=H,css:T}=s||hl,w={start:ul()+k,b};b||(w.group=Ct,Ct.r+=1),"inert"in n&&(b?f!==void 0&&(n.inert=f):(f=n.inert,n.inert=!0)),o||c?c=w:(T&&(d(),u=Dn(n,r,b,S,k,g,T)),b&&C(0,1),o=p(w,S),ft(()=>Xt(n,b,"start")),dl(L=>{if(c&&L>c.start&&(o=p(c,S),c=null,Xt(n,o.b,"start"),T&&(d(),u=Dn(n,r,o.b,o.duration,0,g,s.css))),o){if(L>=o.end)C(r=o.b,1-r),Xt(n,o.b,"end"),c||(o.b?d():--o.group.r||we(o.group.c)),o=null;else if(L>=o.start){const F=L-o.start;r=o.a+o.d*g(F/o.duration),C(r,1-r)}}return!!(o||c)}))}return{run(b){nn(s)?pl().then(()=>{s=s({direction:b?"in":"out"}),m(b)}):m(b)},end(){d(),o=c=null}}}function zn(n,e){const t=e.token={};function l(i,s,r,o){if(e.token!==t)return;e.resolved=o;let c=e.ctx;r!==void 0&&(c=c.slice(),c[r]=o);const u=i&&(e.current=i)(c);let f=!1;e.block&&(e.blocks?e.blocks.forEach((d,p)=>{p!==s&&d&&(Ae(),q(d,1,1,()=>{e.blocks[p]===d&&(e.blocks[p]=null)}),Me())}):e.block.d(1),u.c(),R(u,1),u.m(e.mount(),e.anchor),f=!0),e.block=u,e.blocks&&(e.blocks[s]=u),f&&_l()}if(_s(n)){const i=gn();if(n.then(s=>{Rt(i),l(e.then,1,e.value,s),Rt(null)},s=>{if(Rt(i),l(e.catch,2,e.error,s),Rt(null),!e.hasCatch)throw s}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,n),!0;e.resolved=n}}function ts(n,e,t){const l=e.slice(),{resolved:i}=n;n.current===n.then&&(l[n.value]=i),n.current===n.catch&&(l[n.error]=i),n.block.p(l,t)}function ne(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Yn(n,e){q(n,1,1,()=>{e.delete(n.key)})}function Gn(n,e,t,l,i,s,r,o,c,u,f,d){let p=n.length,m=s.length,b=p;const k={};for(;b--;)k[n[b].key]=b;const S=[],g=new Map,C=new Map,T=[];for(b=m;b--;){const I=d(i,s,b),M=t(I);let N=r.get(M);N?l&&T.push(()=>N.p(I,e)):(N=u(M,I),N.c()),g.set(M,S[b]=N),M in k&&C.set(M,Math.abs(b-k[M]))}const w=new Set,L=new Set;function F(I){R(I,1),I.m(o,f),r.set(I.key,I),f=I.first,m--}for(;p&&m;){const I=S[m-1],M=n[p-1],N=I.key,Z=M.key;I===M?(f=I.first,p--,m--):g.has(Z)?!r.has(N)||w.has(N)?F(I):L.has(Z)?p--:C.get(N)>C.get(Z)?(L.add(N),F(I)):(w.add(Z),p--):(c(M,r),p--)}for(;p--;){const I=n[p];g.has(I.key)||c(I,r)}for(;m;)F(S[m-1]);return we(T),S}function tn(n,e){const t={},l={},i={$$scope:1};let s=n.length;for(;s--;){const r=n[s],o=e[s];if(o){for(const c in r)c in o||(l[c]=1);for(const c in o)i[c]||(t[c]=o[c],i[c]=1);n[s]=o}else for(const c in r)i[c]=1}for(const r in l)r in t||(t[r]=void 0);return t}function zt(n){return typeof n=="object"&&n!==null?n:{}}function We(n,e,t){const l=n.$$.props[e];l!==void 0&&(n.$$.bound[l]=t,t(n.$$.ctx[l]))}function X(n){n&&n.c()}function V(n,e,t){const{fragment:l,after_update:i}=n.$$;l&&l.m(e,t),ft(()=>{const s=n.$$.on_mount.map(Vi).filter(nn);n.$$.on_destroy?n.$$.on_destroy.push(...s):we(s),n.$$.on_mount=[]}),i.forEach(ft)}function Q(n,e){const t=n.$$;t.fragment!==null&&(Os(t.after_update),we(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ms(n,e){n.$$.dirty[0]===-1&&(fn.push(n),Ss(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function $e(n,e,t,l,i,s,r=null,o=[-1]){const c=yn;Rt(n);const u=n.$$={fragment:null,ctx:[],props:s,update:H,not_equal:i,bound:Cl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Cl(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};r&&r(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(d,p,...m)=>{const b=m.length?m[0]:p;return u.ctx&&i(u.ctx[d],u.ctx[d]=b)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](b),f&&Ms(n,d)),p}):[],u.update(),f=!0,we(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const d=gs(e.target);u.fragment&&u.fragment.l(d),d.forEach($)}else u.fragment&&u.fragment.c();e.intro&&R(n.$$.fragment),V(n,e.target,e.anchor),_l()}Rt(c)}class ye{constructor(){ue(this,"$$");ue(this,"$$set")}$destroy(){Q(this,1),this.$destroy=H}$on(e,t){if(!nn(t))return H;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const i=l.indexOf(t);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!ps(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Es="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Es);function Ls(n){const e=n-1;return e*e*e+1}function Al(n,{delay:e=0,duration:t=400,easing:l=Un}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:l,css:s=>`opacity: ${s*i}`}}function Ml(n,{delay:e=0,duration:t=400,easing:l=Ls,x:i=0,y:s=0,opacity:r=0}={}){const o=getComputedStyle(n),c=+o.opacity,u=o.transform==="none"?"":o.transform,f=c*(1-r),[d,p]=Pl(i),[m,b]=Pl(s);return{delay:e,duration:t,easing:l,css:(k,S)=>`
			transform: ${u} translate(${(1-k)*d}${p}, ${(1-k)*m}${b});
			opacity: ${c-f*S}`}}const sl={},Bn={},ns={},ls=/^:(.+)/,El=4,Ns=3,Ts=2,Rs=1,qs=1,wn=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),Qn=n=>n.replace(/(^\/+|\/+$)/g,""),Hs=(n,e)=>{const t=n.default?0:wn(n.path).reduce((l,i)=>(l+=El,i===""?l+=qs:ls.test(i)?l+=Ts:i[0]==="*"?l-=El+Rs:l+=Ns,l),0);return{route:n,score:t,index:e}},Ds=n=>n.map(Hs).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index),Ll=(n,e)=>{let t,l;const[i]=e.split("?"),s=wn(i),r=s[0]==="",o=Ds(n);for(let c=0,u=o.length;c<u;c++){const f=o[c].route;let d=!1;if(f.default){l={route:f,params:{},uri:e};continue}const p=wn(f.path),m={},b=Math.max(s.length,p.length);let k=0;for(;k<b;k++){const S=p[k],g=s[k];if(S&&S[0]==="*"){const T=S==="*"?"*":S.slice(1);m[T]=s.slice(k).map(decodeURIComponent).join("/");break}if(typeof g>"u"){d=!0;break}const C=ls.exec(S);if(C&&!r){const T=decodeURIComponent(g);m[C[1]]=T}else if(S!==g){d=!0;break}}if(!d){t={route:f,params:m,uri:"/"+s.slice(0,k).join("/")};break}}return t||l||null},Xn=(n,e)=>n+(e?`?${e}`:""),Is=(n,e)=>{if(n.startsWith("/"))return n;const[t,l]=n.split("?"),[i]=e.split("?"),s=wn(t),r=wn(i);if(s[0]==="")return Xn(i,l);if(!s[0].startsWith(".")){const u=r.concat(s).join("/");return Xn((i==="/"?"":"/")+u,l)}const o=r.concat(s),c=[];return o.forEach(u=>{u===".."?c.pop():u!=="."&&c.push(u)}),Xn("/"+c.join("/"),l)},Nl=(n,e)=>`${Qn(e==="/"?n:`${Qn(n)}/${Qn(e)}`)}/`,is=n=>!n.defaultPrevented&&n.button===0&&!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey),Fs=n=>{const e=location.host;return n.host===e||n.href.indexOf(`https://${e}`)===0||n.href.indexOf(`http://${e}`)===0},ss=()=>typeof window<"u"&&"document"in window&&"location"in window,zs=n=>({active:n&4}),Tl=n=>({active:!!n[2]});function Bs(n){let e,t,l,i;const s=n[17].default,r=Bt(s,n,n[16],Tl);let o=[{href:n[0]},{"aria-current":n[2]},n[1],n[6]],c={};for(let u=0;u<o.length;u+=1)c=qt(c,o[u]);return{c(){e=_("a"),r&&r.c(),Ol(e,c)},m(u,f){y(u,e,f),r&&r.m(e,null),t=!0,l||(i=Y(e,"click",n[5]),l=!0)},p(u,[f]){r&&r.p&&(!t||f&65540)&&Yt(r,s,u,u[16],t?Ut(s,u[16],f,zs):Gt(u[16]),Tl),Ol(e,c=tn(o,[(!t||f&1)&&{href:u[0]},(!t||f&4)&&{"aria-current":u[2]},f&2&&u[1],f&64&&u[6]]))},i(u){t||(R(r,u),t=!0)},o(u){q(r,u),t=!1},d(u){u&&$(e),r&&r.d(u),l=!1,i()}}}function Us(n,e,t){let l;const i=["to","replace","state","getProps","preserveScroll"];let s=Sl(e,i),r,o,{$$slots:c={},$$scope:u}=e,{to:f="#"}=e,{replace:d=!1}=e,{state:p={}}=e,{getProps:m=()=>({})}=e,{preserveScroll:b=!1}=e;const k=_n(sl);Ye(n,k,M=>t(14,r=M));const{base:S}=_n(Bn);Ye(n,S,M=>t(15,o=M));const{navigate:g}=_n(ns),C=ws();let T,w,L,F;const I=M=>{if(C("click",M),is(M)){M.preventDefault();const N=r.pathname===T||d;g(T,{state:p,replace:N,preserveScroll:b})}};return n.$$set=M=>{e=qt(qt({},e),nl(M)),t(6,s=Sl(e,i)),"to"in M&&t(7,f=M.to),"replace"in M&&t(8,d=M.replace),"state"in M&&t(9,p=M.state),"getProps"in M&&t(10,m=M.getProps),"preserveScroll"in M&&t(11,b=M.preserveScroll),"$$scope"in M&&t(16,u=M.$$scope)},n.$$.update=()=>{n.$$.dirty&32896&&t(0,T=f==="/"?o.uri:Is(f,o.uri)),n.$$.dirty&16385&&t(12,w=r.pathname.startsWith(T)),n.$$.dirty&16385&&t(13,L=T===r.pathname),n.$$.dirty&8192&&t(2,l=L?"page":void 0),t(1,F=m({location:r,href:T,isPartiallyCurrent:w,isCurrent:L,existingProps:s}))},[T,F,l,k,S,I,s,f,d,p,m,b,w,L,r,o,u,c]}class rt extends ye{constructor(e){super(),$e(this,e,Us,Bs,be,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const Ys=n=>({params:n&4}),Rl=n=>({params:n[2]});function ql(n){let e,t,l,i;const s=[Ws,Gs],r=[];function o(c,u){return c[0]?0:1}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(c,u){r[e].m(c,u),y(c,l,u),i=!0},p(c,u){let f=e;e=o(c),e===f?r[e].p(c,u):(Ae(),q(r[f],1,1,()=>{r[f]=null}),Me(),t=r[e],t?t.p(c,u):(t=r[e]=s[e](c),t.c()),R(t,1),t.m(l.parentNode,l))},i(c){i||(R(t),i=!0)},o(c){q(t),i=!1},d(c){c&&$(l),r[e].d(c)}}}function Gs(n){let e;const t=n[8].default,l=Bt(t,n,n[7],Rl);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&132)&&Yt(l,t,i,i[7],e?Ut(t,i[7],s,Ys):Gt(i[7]),Rl)},i(i){e||(R(l,i),e=!0)},o(i){q(l,i),e=!1},d(i){l&&l.d(i)}}}function Ws(n){let e,t,l,i={ctx:n,current:null,token:null,hasCatch:!1,pending:Vs,then:Ks,catch:Js,value:12,blocks:[,,,]};return zn(t=n[0],i),{c(){e=ke(),i.block.c()},m(s,r){y(s,e,r),i.block.m(s,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,l=!0},p(s,r){n=s,i.ctx=n,r&1&&t!==(t=n[0])&&zn(t,i)||ts(i,n,r)},i(s){l||(R(i.block),l=!0)},o(s){for(let r=0;r<3;r+=1){const o=i.blocks[r];q(o)}l=!1},d(s){s&&$(e),i.block.d(s),i.token=null,i=null}}}function Js(n){return{c:H,m:H,p:H,i:H,o:H,d:H}}function Ks(n){var o;let e,t,l;const i=[n[2],n[3]];var s=((o=n[12])==null?void 0:o.default)||n[12];function r(c,u){let f={};if(u!==void 0&&u&12)f=tn(i,[u&4&&zt(c[2]),u&8&&zt(c[3])]);else for(let d=0;d<i.length;d+=1)f=qt(f,i[d]);return{props:f}}return s&&(e=hn(s,r(n))),{c(){e&&X(e.$$.fragment),t=ke()},m(c,u){e&&V(e,c,u),y(c,t,u),l=!0},p(c,u){var f;if(u&1&&s!==(s=((f=c[12])==null?void 0:f.default)||c[12])){if(e){Ae();const d=e;q(d.$$.fragment,1,0,()=>{Q(d,1)}),Me()}s?(e=hn(s,r(c,u)),X(e.$$.fragment),R(e.$$.fragment,1),V(e,t.parentNode,t)):e=null}else if(s){const d=u&12?tn(i,[u&4&&zt(c[2]),u&8&&zt(c[3])]):{};e.$set(d)}},i(c){l||(e&&R(e.$$.fragment,c),l=!0)},o(c){e&&q(e.$$.fragment,c),l=!1},d(c){c&&$(t),e&&Q(e,c)}}}function Vs(n){return{c:H,m:H,p:H,i:H,o:H,d:H}}function Qs(n){let e,t,l=n[1]&&n[1].route===n[5]&&ql(n);return{c(){l&&l.c(),e=ke()},m(i,s){l&&l.m(i,s),y(i,e,s),t=!0},p(i,[s]){i[1]&&i[1].route===i[5]?l?(l.p(i,s),s&2&&R(l,1)):(l=ql(i),l.c(),R(l,1),l.m(e.parentNode,e)):l&&(Ae(),q(l,1,1,()=>{l=null}),Me())},i(i){t||(R(l),t=!0)},o(i){q(l),t=!1},d(i){i&&$(e),l&&l.d(i)}}}function Xs(n,e,t){let l,{$$slots:i={},$$scope:s}=e,{path:r=""}=e,{component:o=null}=e,c={},u={};const{registerRoute:f,unregisterRoute:d,activeRoute:p}=_n(Bn);Ye(n,p,b=>t(1,l=b));const m={path:r,default:r===""};return f(m),ys(()=>{d(m)}),n.$$set=b=>{t(11,e=qt(qt({},e),nl(b))),"path"in b&&t(6,r=b.path),"component"in b&&t(0,o=b.component),"$$scope"in b&&t(7,s=b.$$scope)},n.$$.update=()=>{if(l&&l.route===m){t(2,c=l.params);const{component:b,path:k,...S}=e;t(3,u=S),b&&(b.toString().startsWith("class ")?t(0,o=b):t(0,o=b())),ss()&&!l.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=nl(e),[o,l,c,u,p,m,r,s,i]}class st extends ye{constructor(e){super(),$e(this,e,Xs,Qs,be,{path:6,component:0})}}const un=[];function Zs(n,e){return{subscribe:Ze(n,e).subscribe}}function Ze(n,e=H){let t;const l=new Set;function i(o){if(be(n,o)&&(n=o,t)){const c=!un.length;for(const u of l)u[1](),un.push(u,n);if(c){for(let u=0;u<un.length;u+=2)un[u][0](un[u+1]);un.length=0}}}function s(o){i(o(n))}function r(o,c=H){const u=[o,c];return l.add(u),l.size===1&&(t=e(i,s)||H),o(n),()=>{l.delete(u),l.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:r}}function xs(n,e,t){const l=!Array.isArray(n),i=l?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Zs(t,(r,o)=>{let c=!1;const u=[];let f=0,d=H;const p=()=>{if(f)return;d();const b=e(l?u[0]:u,r,o);s?r(b):d=nn(b)?b:H},m=i.map((b,k)=>Ht(b,S=>{u[k]=S,f&=~(1<<k),c&&p()},()=>{f|=1<<k}));return c=!0,p(),function(){we(m),d(),c=!1}})}const Zn=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),er=n=>{const e=[];let t=Zn(n);return{get location(){return t},listen(l){e.push(l);const i=()=>{t=Zn(n),l({location:t,action:"POP"})};return n.addEventListener("popstate",i),()=>{n.removeEventListener("popstate",i);const s=e.indexOf(l);e.splice(s,1)}},navigate(l,{state:i,replace:s=!1,preserveScroll:r=!1}={}){i={...i,key:Date.now()+""};try{s?n.history.replaceState(i,"",l):n.history.pushState(i,"",l)}catch{n.location[s?"replace":"assign"](l)}t=Zn(n),e.forEach(o=>o({location:t,action:"PUSH",preserveScroll:r})),document.activeElement.blur()}}},tr=(n="/")=>{let e=0;const t=[{pathname:n,search:""}],l=[];return{get location(){return t[e]},addEventListener(i,s){},removeEventListener(i,s){},history:{get entries(){return t},get index(){return e},get state(){return l[e]},pushState(i,s,r){const[o,c=""]=r.split("?");e++,t.push({pathname:o,search:c}),l.push(i)},replaceState(i,s,r){const[o,c=""]=r.split("?");t[e]={pathname:o,search:c},l[e]=i}}}},rs=er(ss()?window:tr()),{navigate:Cn}=rs,nr=n=>({route:n&4,location:n&2}),Hl=n=>({route:n[2]&&n[2].uri,location:n[1]}),lr=n=>({route:n&4,location:n&2}),Dl=n=>({route:n[2]&&n[2].uri,location:n[1]});function ir(n){let e;const t=n[15].default,l=Bt(t,n,n[14],Hl);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&16390)&&Yt(l,t,i,i[14],e?Ut(t,i[14],s,nr):Gt(i[14]),Hl)},i(i){e||(R(l,i),e=!0)},o(i){q(l,i),e=!1},d(i){l&&l.d(i)}}}function sr(n){let e=n[1].pathname,t,l,i=Il(n);return{c(){i.c(),t=ke()},m(s,r){i.m(s,r),y(s,t,r),l=!0},p(s,r){r&2&&be(e,e=s[1].pathname)?(Ae(),q(i,1,1,H),Me(),i=Il(s),i.c(),R(i,1),i.m(t.parentNode,t)):i.p(s,r)},i(s){l||(R(i),l=!0)},o(s){q(i),l=!1},d(s){s&&$(t),i.d(s)}}}function Il(n){let e,t,l,i;const s=n[15].default,r=Bt(s,n,n[14],Dl);return{c(){e=_("div"),r&&r.c()},m(o,c){y(o,e,c),r&&r.m(e,null),i=!0},p(o,c){r&&r.p&&(!i||c&16390)&&Yt(r,s,o,o[14],i?Ut(s,o[14],c,lr):Gt(o[14]),Dl)},i(o){i||(R(r,o),o&&ft(()=>{i&&(l&&l.end(1),t=js(e,n[3],{}),t.start())}),i=!0)},o(o){q(r,o),t&&t.invalidate(),o&&(l=As(e,n[3],{})),i=!1},d(o){o&&$(e),r&&r.d(o),o&&l&&l.end()}}}function rr(n){let e,t,l,i;const s=[sr,ir],r=[];function o(c,u){return c[0]?0:1}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(c,u){r[e].m(c,u),y(c,l,u),i=!0},p(c,[u]){let f=e;e=o(c),e===f?r[e].p(c,u):(Ae(),q(r[f],1,1,()=>{r[f]=null}),Me(),t=r[e],t?t.p(c,u):(t=r[e]=s[e](c),t.c()),R(t,1),t.m(l.parentNode,l))},i(c){i||(R(t),i=!0)},o(c){q(t),i=!1},d(c){c&&$(l),r[e].d(c)}}}function or(n,e,t){let l,i,s,r,{$$slots:o={},$$scope:c}=e,{basepath:u="/"}=e,{url:f=null}=e,{viewtransition:d=null}=e,{history:p=rs}=e;const m=(N,Z,O)=>{const j=d(O);return typeof(j==null?void 0:j.fn)=="function"?j.fn(N,j):j};Kn(ns,p);const b=_n(sl),k=_n(Bn),S=Ze([]);Ye(n,S,N=>t(12,i=N));const g=Ze(null);Ye(n,g,N=>t(2,r=N));let C=!1;const T=b||Ze(f?{pathname:f}:p.location);Ye(n,T,N=>t(1,l=N));const w=k?k.routerBase:Ze({path:u,uri:u});Ye(n,w,N=>t(13,s=N));const L=xs([w,g],([N,Z])=>{if(!Z)return N;const{path:O}=N,{route:j,uri:U}=Z;return{path:j.default?O:j.path.replace(/\*.*$/,""),uri:U}}),F=N=>{const{path:Z}=s;let{path:O}=N;if(N._path=O,N.path=Nl(Z,O),typeof window>"u"){if(C)return;const j=Ll([N],l.pathname);j&&(g.set(j),C=!0)}else S.update(j=>[...j,N])},I=N=>{S.update(Z=>Z.filter(O=>O!==N))};let M=!1;return b||(ln(()=>p.listen(Z=>{t(11,M=Z.preserveScroll||!1),T.set(Z.location)})),Kn(sl,T)),Kn(Bn,{activeRoute:g,base:w,routerBase:L,registerRoute:F,unregisterRoute:I}),n.$$set=N=>{"basepath"in N&&t(8,u=N.basepath),"url"in N&&t(9,f=N.url),"viewtransition"in N&&t(0,d=N.viewtransition),"history"in N&&t(10,p=N.history),"$$scope"in N&&t(14,c=N.$$scope)},n.$$.update=()=>{if(n.$$.dirty&8192){const{path:N}=s;S.update(Z=>Z.map(O=>Object.assign(O,{path:Nl(N,O._path)})))}if(n.$$.dirty&6146){const N=Ll(i,l.pathname);g.set({...N,preserveScroll:M})}},[d,l,r,m,S,g,T,w,u,f,p,M,i,s,c,o]}class ml extends ye{constructor(e){super(),$e(this,e,or,rr,be,{basepath:8,url:9,viewtransition:0,history:10})}}const bl=n=>{const e=t=>{const l=t.currentTarget;l.target===""&&Fs(l)&&is(t)&&(t.preventDefault(),Cn(l.pathname+l.search,{replace:l.hasAttribute("replace"),preserveScroll:l.hasAttribute("preserveScroll")}))};return n.addEventListener("click",e),{destroy(){n.removeEventListener("click",e)}}},Zt=Ze(!1),xt=Ze(null),en=Ze([]),os=Ze(null);function cr(n=1){var l,i;const e=Xe(en).length,t=Xe(en)[e-1];return Xe(xt)||(l=t==null?void 0:t.callbacks)!=null&&l.onBeforeClose&&((i=t==null?void 0:t.callbacks)==null?void 0:i.onBeforeClose())===!1?!1:(Xe(Zt)&&e>0&&xt.set(!0),Zt.set(!1),os.set("pop"),ar(n),!0)}function sn(){return cr(1)}function rl(n,e,t){Xe(xt)||(os.set("push"),Xe(Zt)&&Xe(en).length&&xt.set(!0),Zt.set(!1),t!=null&&t.replace?en.update(l=>[...l.slice(0,l.length-1),{component:n,props:e}]):en.update(l=>[...l,{component:n,props:e}]))}function ar(n=1){en.update(e=>e.slice(0,Math.max(0,e.length-n)))}function Fl(n,e,t){const l=n.slice();return l[9]=e[t],l[11]=t,l}const ur=n=>({}),zl=n=>({}),fr=n=>({}),Bl=n=>({});function Ul(n){let e;const t=n[4].backdrop,l=Bt(t,n,n[3],Bl);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&8)&&Yt(l,t,i,i[3],e?Ut(t,i[3],s,fr):Gt(i[3]),Bl)},i(i){e||(R(l,i),e=!0)},o(i){q(l,i),e=!1},d(i){l&&l.d(i)}}}function dr(n){let e,t,l;const i=[{isOpen:n[11]===n[0].length-1&&!n[1]},n[9].props];var s=n[9].component;function r(o,c){let u={};if(c!==void 0&&c&3)u=tn(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&zt(o[9].props)]);else for(let f=0;f<i.length;f+=1)u=qt(u,i[f]);return{props:u}}return s&&(e=hn(s,r(n)),e.$on("introstart",n[7]),e.$on("outroend",n[8])),{c(){e&&X(e.$$.fragment),t=ke()},m(o,c){e&&V(e,o,c),y(o,t,c),l=!0},p(o,c){if(c&1&&s!==(s=o[9].component)){if(e){Ae();const u=e;q(u.$$.fragment,1,0,()=>{Q(u,1)}),Me()}s?(e=hn(s,r(o,c)),e.$on("introstart",o[7]),e.$on("outroend",o[8]),X(e.$$.fragment),R(e.$$.fragment,1),V(e,t.parentNode,t)):e=null}else if(s){const u=c&3?tn(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&zt(o[9].props)]):{};e.$set(u)}},i(o){l||(e&&R(e.$$.fragment,o),l=!0)},o(o){e&&q(e.$$.fragment,o),l=!1},d(o){o&&$(t),e&&Q(e,o)}}}function _r(n){let e,t,l,i={ctx:n,current:null,token:null,hasCatch:!1,pending:mr,then:hr,catch:pr,value:12,blocks:[,,,]};return zn(t=Gl(n[9].component),i),{c(){e=ke(),i.block.c()},m(s,r){y(s,e,r),i.block.m(s,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,l=!0},p(s,r){n=s,i.ctx=n,r&1&&t!==(t=Gl(n[9].component))&&zn(t,i)||ts(i,n,r)},i(s){l||(R(i.block),l=!0)},o(s){for(let r=0;r<3;r+=1){const o=i.blocks[r];q(o)}l=!1},d(s){s&&$(e),i.block.d(s),i.token=null,i=null}}}function pr(n){return{c:H,m:H,p:H,i:H,o:H,d:H}}function hr(n){let e,t,l;const i=[{isOpen:n[11]===n[0].length-1&&!n[1]},n[9].props];var s=n[12];function r(o,c){let u={};if(c!==void 0&&c&3)u=tn(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&zt(o[9].props)]);else for(let f=0;f<i.length;f+=1)u=qt(u,i[f]);return{props:u}}return s&&(e=hn(s,r(n)),e.$on("introstart",n[5]),e.$on("outroend",n[6])),{c(){e&&X(e.$$.fragment),t=v()},m(o,c){e&&V(e,o,c),y(o,t,c),l=!0},p(o,c){if(c&1&&s!==(s=o[12])){if(e){Ae();const u=e;q(u.$$.fragment,1,0,()=>{Q(u,1)}),Me()}s?(e=hn(s,r(o,c)),e.$on("introstart",o[5]),e.$on("outroend",o[6]),X(e.$$.fragment),R(e.$$.fragment,1),V(e,t.parentNode,t)):e=null}else if(s){const u=c&3?tn(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&zt(o[9].props)]):{};e.$set(u)}},i(o){l||(e&&R(e.$$.fragment,o),l=!0)},o(o){e&&q(e.$$.fragment,o),l=!1},d(o){o&&$(t),e&&Q(e,o)}}}function mr(n){let e,t;const l=n[4].loading,i=Bt(l,n,n[3],zl);return{c(){i&&i.c(),e=v()},m(s,r){i&&i.m(s,r),y(s,e,r),t=!0},p(s,r){i&&i.p&&(!t||r&8)&&Yt(i,l,s,s[3],t?Ut(l,s[3],r,ur):Gt(s[3]),zl)},i(s){t||(R(i,s),t=!0)},o(s){q(i,s),t=!1},d(s){s&&$(e),i&&i.d(s)}}}function Yl(n,e){let t,l,i,s,r,o;const c=[_r,dr],u=[];function f(d,p){return p&1&&(l=null),l==null&&(l=!!vr(d[9].component)),l?0:1}return i=f(e,-1),s=u[i]=c[i](e),{key:n,first:null,c(){t=ke(),s.c(),r=ke(),this.first=t},m(d,p){y(d,t,p),u[i].m(d,p),y(d,r,p),o=!0},p(d,p){e=d;let m=i;i=f(e,p),i===m?u[i].p(e,p):(Ae(),q(u[m],1,1,()=>{u[m]=null}),Me(),s=u[i],s?s.p(e,p):(s=u[i]=c[i](e),s.c()),R(s,1),s.m(r.parentNode,r))},i(d){o||(R(s),o=!0)},o(d){q(s),o=!1},d(d){d&&($(t),$(r)),u[i].d(d)}}}function br(n){let e=[],t=new Map,l,i,s=ne(n[0]);const r=o=>o[11];for(let o=0;o<s.length;o+=1){let c=Fl(n,s,o),u=r(c);t.set(u,e[o]=Yl(u,c))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=ke()},m(o,c){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,c);y(o,l,c),i=!0},p(o,c){c&15&&(s=ne(o[0]),Ae(),e=Gn(e,c,r,1,o,s,t,l.parentNode,Yn,Yl,l,Fl),Me())},i(o){if(!i){for(let c=0;c<s.length;c+=1)R(e[c]);i=!0}},o(o){for(let c=0;c<e.length;c+=1)q(e[c]);i=!1},d(o){o&&$(l);for(let c=0;c<e.length;c+=1)e[c].d(o)}}}function gr(n){let e,t,l=n[0].length>0&&Ul(n);const i=n[4].default,s=Bt(i,n,n[3],null),r=s||br(n);return{c(){l&&l.c(),e=v(),r&&r.c()},m(o,c){l&&l.m(o,c),y(o,e,c),r&&r.m(o,c),t=!0},p(o,[c]){o[0].length>0?l?(l.p(o,c),c&1&&R(l,1)):(l=Ul(o),l.c(),R(l,1),l.m(e.parentNode,e)):l&&(Ae(),q(l,1,1,()=>{l=null}),Me()),s?s.p&&(!t||c&8)&&Yt(s,i,o,o[3],t?Ut(i,o[3],c,null):Gt(o[3]),null):r&&r.p&&(!t||c&15)&&r.p(o,t?c:-1)},i(o){t||(R(l),R(r,o),t=!0)},o(o){q(l),q(r,o),t=!1},d(o){o&&$(e),l&&l.d(o),r&&r.d(o)}}}function vr(n){return typeof n.prototype>"u"}async function Gl(n){return n().then(e=>e.default)}function kr(n,e,t){let l,i,s;Ye(n,en,p=>t(0,l=p)),Ye(n,xt,p=>t(1,i=p)),Ye(n,Zt,p=>t(2,s=p));let{$$slots:r={},$$scope:o}=e;const c=()=>{Mn(Zt,s=!0,s)},u=()=>{Mn(xt,i=!1,i)},f=()=>{Mn(Zt,s=!0,s)},d=()=>{Mn(xt,i=!1,i)};return n.$$set=p=>{"$$scope"in p&&t(3,o=p.$$scope)},[l,i,s,o,r,c,u,f,d]}class $r extends ye{constructor(e){super(),$e(this,e,kr,gr,be,{})}}const yr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wn(n){return typeof n=="string"&&yr.test(n)}const mn="00000000-0000-0000-0000-000000000000";let cs=[{id:"bc98c68d-980d-445d-9d09-1b3ee57cd011",name:"Mortal Soul",shortDescription:"You have a mortal soul. On death, you fight on as a spirit.",longDescription:"You have a mortal soul. On death, you fight on as a spirit..."},{id:"90269767-285b-4ce2-8a19-d82044fcf8e0",name:"Plane-bound Spirit",shortDescription:"Your health and vitality are halved, but only magic and silver can hurt you. On death, you cease to exist.",longDescription:"Your health and vitality are halved, but only magic and silver can hurt you. On death, you cease to exist..."},{id:"456ab2e2-fc47-4e87-a4b3-209c0245049a",name:"Immortal",shortDescription:"Your vitality is doubled. On death, you cease to exist.",longDescription:"Your vitality is doubled. On death, you cease to exist..."},{id:"bdb6b358-47a7-4061-adeb-5acfb3f2ecf7",name:"Automaton",shortDescription:"You are a machine. Your health is converted to vitality, which can only be mended, not healed. On death, you cease to exist.",longDescription:"You are a machine. Your health is converted to vitality, which can only be mended, not healed. On death, you cease to exist..."},{id:"ae9aab6f-aa68-4bcd-838c-3fe3346b55b4",name:"Vampirism",shortDescription:"You are a vampire. You have half the vitality, but can only be killed by magic or a stake to the heart.",longDescription:"You are a vampire. You have half the vitality, but can only be killed by magic or a stake to the heart..."},{id:"711dcbef-291d-4bcf-852c-3062d2586bc4",name:"Swarmism",shortDescription:"You are a living swarm. Your health is converted to vitality. On death, you fight on as a discorporated swarm.",longDescription:"You are a living swarm. Your health is converted to vitality. On death, you fight on as a discorporated swarm..."}];class wr{constructor(e){ue(this,"id",mn);ue(this,"compendiumId",mn);ue(this,"_compendiumRes");this.compendiumId=e}get compendiumRes(){var e;return((e=this._compendiumRes)==null?void 0:e.id)===this.compendiumId?this._compendiumRes:(this._compendiumRes=this.compendium.find(t=>t.id===this.compendiumId)??{id:this.compendiumId},this._compendiumRes)}get name(){return this.compendiumRes.name??"--Error--"}get shortDescription(){return this.compendiumRes.shortDescription??"--Error--"}get longDescription(){return this.compendiumRes.longDescription??"--Error--"}}class Cr extends wr{get compendium(){return cs}}class Sr{constructor(){ue(this,"stats",{Pressure:{mod:1},Captivation:{mod:1},Credibility:{mod:1}});ue(this,"passives",{Composure:{stat:"Pressure",mod:0},Awareness:{stat:"Captivation",mod:0},Insight:{stat:"Credibility",mod:0}});ue(this,"sways",{Provocation:{stat:"Pressure",mod:0},Enthrallment:{stat:"Captivation",mod:0},Candor:{stat:"Credibility",mod:0},Parlaying:{stat:"Pressure",mod:0},Poignancy:{stat:"Captivation",mod:0},Deception:{stat:"Credibility",mod:0}})}}class Pr{constructor(){ue(this,"stats",{Might:{mod:1},Finesse:{mod:1},Tuning:{mod:1}});ue(this,"saves",{Fortitude:{stat:"Might",mod:0},Cunning:{stat:"Finesse",mod:0},Willpower:{stat:"Tuning",mod:0}});ue(this,"perceptions",{Tracking:{stat:"Might",mod:0},Analysis:{stat:"Finesse",mod:0},Sensing:{stat:"Tuning",mod:0}});ue(this,"explorations",{Athletics:{stat:"Might",mod:0},Tinkering:{stat:"Finesse",mod:0},Rituals:{stat:"Tuning",mod:0},Sleight:{stat:"Might",mod:0},Stealth:{stat:"Finesse",mod:0},Hiding:{stat:"Tuning",mod:0}});ue(this,"knowledges",{Security:{stat:"Might",mod:0},History:{stat:"Finesse",mod:0},Discordance:{stat:"Tuning",mod:0},Wayfaring:{stat:"Might",mod:0},Rumor:{stat:"Finesse",mod:0},Harmony:{stat:"Tuning",mod:0}});ue(this,"equipments",{Heavy:{stat:"Might",mod:0},Complex:{stat:"Finesse",mod:0},Dissonant:{stat:"Tuning",mod:0},Simple:{stat:"Might",mod:0},Light:{stat:"Finesse",mod:0},Harmonic:{stat:"Tuning",mod:0}})}}class bn{constructor(e=""){ue(this,"_id","");ue(this,"name","");ue(this,"description","");ue(this,"constitutionFeat");ue(this,"traitFeats",[]);ue(this,"socialFeats",[]);ue(this,"socialGeneration","manual");ue(this,"socialGen_Feat");ue(this,"socialGen_ExtraSkill");ue(this,"socialGen_Manual_Stats",{Pressure:{mod:0},Captivation:{mod:0},Credibility:{mod:0}});ue(this,"socialGen_Role_Id",mn);ue(this,"socialGen_Roll_Array");ue(this,"socialGen_Roll_Assignments");ue(this,"socialGen_Buy_Spending",{Pressure:0,Captivation:0,Credibility:0});ue(this,"socialProfile",new Sr);ue(this,"explorerProfile",new Pr);this.id=e,this.name=""}get id(){return this._id}set id(e){if(!Wn(e)){this._id=mn;return}this._id=e}static FromJson(e){return Object.assign(new bn,JSON.parse(e))}}class Jn{constructor(){ue(this,"_id","");ue(this,"name","");ue(this,"class","");ue(this,"subclass","");ue(this,"class2","");ue(this,"subclass2","")}get id(){return this._id}set id(e){if(!Wn(e)){this._id=mn;return}this._id=e}static FromJson(e){return Object.assign(new Jn,JSON.parse(e))}}let En=class{constructor(){ue(this,"name","");ue(this,"email","")}};const Tt={}.HNS_API_URL,Rn=typeof window<"u";console.log("IsBrowser: "+Rn);const Or=()=>{const n=Ze(null),{subscribe:e,set:t,update:l}=n;return fetch(Tt+"Api/Account/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}).then(i=>{i.ok?i.json().then(s=>t(Object.assign(new En,s))):console.log(i.statusText)}),{subscribe:e,set:t,update:l,createAccount:async(i,s,r,o)=>{if(Xe(n)){o(["Already logged-in. Log out first."]);return}const c=await fetch(Tt+"Api/Account/Create",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:r})});switch(c.status){case 200:c.json().then(u=>t(Object.assign(new En,u)));break;case 400:c.json().then(u=>{let f=Object.values(u.errors).flatMap(d=>d);o(f)});break;case 422:c.json().then(u=>{let f=Object.values(u).flatMap(d=>d);o(f)});break;default:console.error(`Unrecognized response status ${c.status}: ${c.statusText}.`);break}},login:async(i,s,r)=>{if(Xe(n)){console.log("Tried to login while already logged in. Log out first.");return}const o=await fetch(Tt+"Api/Account/Login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:i,password:s})});switch(o.status){case 200:o.json().then(c=>t(Object.assign(new En,c)));break;case 400:o.json().then(c=>{let u=Object.values(c.errors).flatMap(f=>f);r(u)});break;case 401:o.json().then(c=>{let u=Object.values(c).flatMap(f=>f.errors.map(d=>d.errorMessage));r(u)});break;default:console.error("Unrecognized response status '"+o.status+": "+o.statusText+"'");break}},logout:async()=>{await fetch(Tt+"Api/Account/Logout",{method:"POST",credentials:"include"}).then(i=>{ut.set(null),location.reload()},i=>console.log(i))},updateAccount:async(i,s,r,o,c,u)=>{const f=await fetch(Tt+"Api/Account",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:r,currentPassword:o})});switch(f.status){case 200:f.json().then(d=>t(Object.assign(new En,d))),c();break;case 400:f.json().then(d=>{let p=Object.values(d.errors).flatMap(m=>m);u(p)});break;case 401:f.json().then(d=>{let p=Object.values(d).flatMap(m=>m.errors.map(b=>b.errorMessage));u(p)});break;case 422:f.json().then(d=>{let p=Object.values(d).flatMap(m=>m);u(p)});break;default:console.error("Unrecognized response status '"+f.status+": "+f.statusText+"'");break}}}},ut=Or(),Wl=async()=>fetch(Tt+"Api/Characters/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function Jl(n,e){const t=n={};return l=>{n===t&&(l.ok?l.json().then(i=>{let s=i.map(r=>Object.assign(new Jn,r));e(s)}):(e([]),console.log(l.statusText)))}}const jr=async()=>fetch(Tt+"Api/Characters/",{method:"POST",credentials:"include",headers:{Accept:"application/json"}});function Ar(n,e,t){const l=n={};return i=>{i.ok?i.json().then(s=>{if(n===l){let r=s.map(o=>Object.assign(new Jn,o));e(o=>(o.push(r),o)),t(r.id)}}):console.log(i.statusText)}}function Mr(){var n=[];const{subscribe:e,set:t,update:l}=Ze(n);let i={};return Promise.resolve(Wl()).then(Jl(i,t)),{subscribe:e,refresh:()=>{Promise.resolve(Wl()).then(Jl(i,t))},create:s=>{Promise.resolve(jr()).then(Ar(i,l,s))}}}const ol=Mr(),Er=async n=>fetch(Tt+"Api/Characters/"+n,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function xn(n,e){const t=n={};return l=>{n===t&&(l.ok?l.json().then(i=>{e(Object.assign(new bn,i))}):console.log(l.statusText))}}const Kl=async n=>fetch(Tt+"Api/Characters/"+n.id,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)}),Ln="HnsCharacter/local";function Lr(){const n=Ze(new bn),{subscribe:e,set:t,update:l}=n;let i=t,s=l;if(Rn){const r=localStorage.getItem(Ln);r!==null?(console.log("Loading char "+r),t(bn.FromJson(r))):(console.log("New char"),localStorage.setItem(Ln,JSON.stringify(Xe(n)))),i=o=>{console.log("Set char"),Rn&&localStorage.setItem(Ln,JSON.stringify(o)),t(o)},s=o=>{console.log("Update char");const c=o(Xe(n));Rn&&localStorage.setItem(Ln,JSON.stringify(c)),t(c)}}return{subscribe:e,set:i,update:s}}const Nr=Lr(),el={};function Tr(n){if(Object.hasOwn(el,n))return el[n];let e={};const t=Ze(new bn(n)),{subscribe:l,set:i,update:s}=t;if(!Wn(n))return console.error("Invalid id '"+n+"'"),{subscribe:l,set:i,update:s};Promise.resolve(Er(n)).then(xn(e,i));const r={subscribe:l,set:o=>{if(console.log("Set char"),n!=o.id){console.error("Id did not match");return}Promise.resolve(Kl(o)).then(xn(e,i))},update:o=>{console.log("Update char");const c=o(Xe(t));Promise.resolve(Kl(c)).then(xn(e,i))}};return el[n]=r,r}function Vl(n,e,t){const l=n.slice();return l[12]=e[t],l}function Rr(n){let e,t,l,i=n[4].name+"",s,r,o;function c(d,p){return d[3]?Dr:Hr}let u=c(n),f=u(n);return{c(){e=_("div"),t=_("p"),l=A("Hello "),s=A(i),r=A("!"),o=v(),f.c(),h(t,"class","svelte-9xzto8"),h(e,"class","logout-box svelte-9xzto8")},m(d,p){y(d,e,p),a(e,t),a(t,l),a(t,s),a(t,r),a(e,o),f.m(e,null)},p(d,p){p&16&&i!==(i=d[4].name+"")&&B(s,i),u===(u=c(d))&&f?f.p(d,p):(f.d(1),f=u(d),f&&(f.c(),f.m(e,null)))},d(d){d&&$(e),f.d()}}}function qr(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S,g,C,T=ne(n[2]),w=[];for(let L=0;L<T.length;L+=1)w[L]=Ql(Vl(n,T,L));return{c(){e=_("form"),t=_("div"),l=_("label"),l.textContent="Name",i=v(),s=_("input"),r=v(),o=_("div"),c=_("label"),c.textContent="Password",u=v(),f=_("input"),d=v(),p=_("div"),m=_("button"),m.textContent="Sign-Upâ€¦",b=v(),k=_("button"),k.textContent="Login",S=v();for(let L=0;L<w.length;L+=1)w[L].c();h(l,"for","nameOrEmail"),h(l,"class","svelte-9xzto8"),h(s,"name","nameOrEmail"),h(s,"type","text"),h(s,"placeholder","or Email"),h(s,"class","svelte-9xzto8"),h(t,"class","svelte-9xzto8"),h(c,"for","password"),h(c,"class","svelte-9xzto8"),h(f,"name","password"),h(f,"type","password"),h(f,"class","svelte-9xzto8"),h(o,"class","svelte-9xzto8"),h(m,"type","button"),h(k,"class","bright"),h(k,"type","submit"),h(p,"class","svelte-9xzto8"),h(e,"class","login-box svelte-9xzto8"),h(e,"method","post")},m(L,F){y(L,e,F),a(e,t),a(t,l),a(t,i),a(t,s),ae(s,n[0]),a(e,r),a(e,o),a(o,c),a(o,u),a(o,f),ae(f,n[1]),a(e,d),a(e,p),a(p,m),a(p,b),a(p,k),a(e,S);for(let I=0;I<w.length;I+=1)w[I]&&w[I].m(e,null);g||(C=[Y(s,"input",n[8]),Y(f,"input",n[9]),Y(m,"click",St(n[10])),Y(e,"submit",St(n[6]))],g=!0)},p(L,F){if(F&1&&s.value!==L[0]&&ae(s,L[0]),F&2&&f.value!==L[1]&&ae(f,L[1]),F&4){T=ne(L[2]);let I;for(I=0;I<T.length;I+=1){const M=Vl(L,T,I);w[I]?w[I].p(M,F):(w[I]=Ql(M),w[I].c(),w[I].m(e,null))}for(;I<w.length;I+=1)w[I].d(1);w.length=T.length}},d(L){L&&$(e),Ne(w,L),g=!1,we(C)}}}function Hr(n){let e,t,l;return{c(){e=_("button"),e.textContent="Logout",h(e,"class","logout-button")},m(i,s){y(i,e,s),t||(l=Y(e,"click",n[5]),t=!0)},p:H,d(i){i&&$(e),t=!1,l()}}}function Dr(n){let e,t,l,i,s,r,o;return{c(){e=_("div"),t=A(`Logout?
        `),l=_("button"),l.textContent="No",i=v(),s=_("button"),s.textContent="Yes",h(l,"class","logout-confirm-button svelte-9xzto8"),h(s,"class","bright-red logout-confirm-button svelte-9xzto8"),h(e,"class","logout-confirmation svelte-9xzto8")},m(c,u){y(c,e,u),a(e,t),a(e,l),a(e,i),a(e,s),r||(o=[Y(l,"click",n[5]),Y(s,"click",n[7])],r=!0)},p:H,d(c){c&&$(e),r=!1,we(o)}}}function Ql(n){let e,t=n[12]+"",l;return{c(){e=_("label"),l=A(t),G(e,"text-align","left"),h(e,"for","errors"),h(e,"class","svelte-9xzto8")},m(i,s){y(i,e,s),a(e,l)},p(i,s){s&4&&t!==(t=i[12]+"")&&B(l,t)},d(i){i&&$(e)}}}function Ir(n){let e;function t(s,r){return s[4]?Rr:qr}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),y(s,e,r)},p(s,[r]){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:H,o:H,d(s){s&&$(e),i.d(s)}}}function Fr(n,e,t){let l;Ye(n,ut,b=>t(4,l=b));let i="",s="",r=[],o=!1;function c(){t(3,o=!o)}async function u(){t(2,r=[]),await ut.login(i,s,b=>{t(2,r=b)})}async function f(){await ut.logout()}function d(){i=this.value,t(0,i)}function p(){s=this.value,t(1,s)}return[i,s,r,o,l,c,u,f,d,p,()=>Cn("/account")]}class zr extends ye{constructor(e){super(),$e(this,e,Fr,Ir,be,{})}}function Xl(n,e,t){const l=n.slice();return l[2]=e[t][0],l[3]=e[t][1],l}function Br(n){let e;return{c(){e=A("Rulebook")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Ur(n){let e;return{c(){e=A("Dice Roller")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Yr(n){let e;return{c(){e=A("AGE Roller")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Gr(n){let e;return{c(){e=A("Eye Roller")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Wr(n){let e;return{c(){e=A("My Account")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Jr(n){let e;return{c(){e=A("Characters")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Kr(n){let e=n[3].name+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p:H,d(l){l&&$(t)}}}function Zl(n){let e,t;return e=new rt({props:{to:"/character/"+n[2],getProps:cl,$$slots:{default:[Kr]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(l,i){V(e,l,i),t=!0},p(l,i){const s={};i&64&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Vr(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S,g,C,T,w,L,F,I;o=new rt({props:{to:"/srd",getProps:Nn,$$slots:{default:[Br]},$$scope:{ctx:n}}}),u=new rt({props:{to:"/dice",getProps:Nn,$$slots:{default:[Ur]},$$scope:{ctx:n}}}),d=new rt({props:{to:"/dice/ageroller",getProps:cl,$$slots:{default:[Yr]},$$scope:{ctx:n}}}),m=new rt({props:{to:"/dice/eyeroller",getProps:cl,$$slots:{default:[Gr]},$$scope:{ctx:n}}}),g=new rt({props:{to:"/account",getProps:Nn,$$slots:{default:[Wr]},$$scope:{ctx:n}}}),T=new rt({props:{to:"/character",getProps:Nn,$$slots:{default:[Jr]},$$scope:{ctx:n}}});let M=ne(Object.entries(n[0])),N=[];for(let O=0;O<M.length;O+=1)N[O]=Zl(Xl(n,M,O));const Z=O=>q(N[O],1,1,()=>{N[O]=null});return F=new zr({}),{c(){e=_("div"),t=_("nav"),l=_("a"),l.innerHTML='<img src="/img/HnsBig.svg" alt="H&amp;S"/>',i=v(),s=_("h4"),s.textContent="Hammer & Steel",r=v(),X(o.$$.fragment),c=v(),X(u.$$.fragment),f=v(),X(d.$$.fragment),p=v(),X(m.$$.fragment),b=v(),k=_("span"),k.textContent="---",S=v(),X(g.$$.fragment),C=v(),X(T.$$.fragment),w=v();for(let O=0;O<N.length;O+=1)N[O].c();L=v(),X(F.$$.fragment),h(l,"href","/"),h(l,"id","home-button"),h(s,"class","title svelte-2gacrc"),G(k,"text-align","center"),h(t,"class","banded-menu"),h(e,"class","contents svelte-2gacrc")},m(O,j){y(O,e,j),a(e,t),a(t,l),a(t,i),a(t,s),a(t,r),V(o,t,null),a(t,c),V(u,t,null),a(t,f),V(d,t,null),a(t,p),V(m,t,null),a(t,b),a(t,k),a(t,S),V(g,t,null),a(t,C),V(T,t,null),a(t,w);for(let U=0;U<N.length;U+=1)N[U]&&N[U].m(t,null);a(e,L),V(F,e,null),I=!0},p(O,[j]){const U={};j&64&&(U.$$scope={dirty:j,ctx:O}),o.$set(U);const D={};j&64&&(D.$$scope={dirty:j,ctx:O}),u.$set(D);const J={};j&64&&(J.$$scope={dirty:j,ctx:O}),d.$set(J);const x={};j&64&&(x.$$scope={dirty:j,ctx:O}),m.$set(x);const Pe={};j&64&&(Pe.$$scope={dirty:j,ctx:O}),g.$set(Pe);const se={};if(j&64&&(se.$$scope={dirty:j,ctx:O}),T.$set(se),j&1){M=ne(Object.entries(O[0]));let W;for(W=0;W<M.length;W+=1){const ee=Xl(O,M,W);N[W]?(N[W].p(ee,j),R(N[W],1)):(N[W]=Zl(ee),N[W].c(),R(N[W],1),N[W].m(t,null))}for(Ae(),W=M.length;W<N.length;W+=1)Z(W);Me()}},i(O){if(!I){R(o.$$.fragment,O),R(u.$$.fragment,O),R(d.$$.fragment,O),R(m.$$.fragment,O),R(g.$$.fragment,O),R(T.$$.fragment,O);for(let j=0;j<M.length;j+=1)R(N[j]);R(F.$$.fragment,O),I=!0}},o(O){q(o.$$.fragment,O),q(u.$$.fragment,O),q(d.$$.fragment,O),q(m.$$.fragment,O),q(g.$$.fragment,O),q(T.$$.fragment,O),N=N.filter(Boolean);for(let j=0;j<N.length;j+=1)q(N[j]);q(F.$$.fragment,O),I=!1},d(O){O&&$(e),Q(o),Q(u),Q(d),Q(m),Q(g),Q(T),Ne(N,O),Q(F)}}}function Nn(n){return n.isPartiallyCurrent?{class:"curr-path"}:{class:""}}function cl(n){let{location:e,href:t,isPartiallyCurrent:l,isCurrent:i}=n;if(i)return{class:"ml20 active curr-path"};if(l)return{class:"ml20 active"};let s=e.pathname;if(console.log("pathname: "+s),s.length<=1||s[0]!=="/")return{class:"ml20 hidden"};const r=s.indexOf("/",1),o=r>0?s.slice(0,r):s;return console.log("rootpath: "+o),o.length<2?{class:"ml20 hidden"}:t.startsWith(o)?{class:"ml20 active"}:t.startsWith("/"+o)?{class:"ml20 active"}:{class:"ml20 hidden"}}function Qr(n,e,t){let l;return Ye(n,ol,s=>t(1,l=s)),[l]}class as extends ye{constructor(e){super(),$e(this,e,Qr,Vr,be,{})}}function xl(n){let e,t,l,i,s,r;return t=new as({}),{c(){e=_("div"),X(t.$$.fragment),h(e,"role","dialog"),h(e,"class","modal svelte-1e2i3ow")},m(o,c){y(o,e,c),V(t,e,null),i=!0,s||(r=[Y(e,"introstart",n[2]),Y(e,"outroend",n[3])],s=!0)},i(o){i||(R(t.$$.fragment,o),o&&ft(()=>{i&&(l||(l=Fn(e,Ml,{x:-100},!0)),l.run(1))}),i=!0)},o(o){q(t.$$.fragment,o),o&&(l||(l=Fn(e,Ml,{x:-100},!1)),l.run(0)),i=!1},d(o){o&&$(e),Q(t),o&&l&&l.end(),s=!1,we(r)}}}function Xr(n){let e,t,l,i;ft(n[4]);let s=n[0]&&xl(n);return{c(){s&&s.c(),e=ke()},m(r,o){s&&s.m(r,o),y(r,e,o),t=!0,l||(i=Y(window,"resize",n[4]),l=!0)},p(r,[o]){r[0]?s?o&1&&R(s,1):(s=xl(r),s.c(),R(s,1),s.m(e.parentNode,e)):s&&(Ae(),q(s,1,1,()=>{s=null}),Me())},i(r){t||(R(s),t=!0)},o(r){q(s),t=!1},d(r){r&&$(e),s&&s.d(r),l=!1,i()}}}function Zr(n,e,t){let{isOpen:l=!1}=e,i=0;function s(c){jl.call(this,n,c)}function r(c){jl.call(this,n,c)}function o(){t(1,i=window.innerWidth)}return n.$$set=c=>{"isOpen"in c&&t(0,l=c.isOpen)},n.$$.update=()=>{n.$$.dirty&3&&l&&i>=1e3&&sn()},[l,i,s,r,o]}class xr extends ye{constructor(e){super(),$e(this,e,Zr,Xr,be,{isOpen:0})}}function ei(n,e,t){const l=n.slice();return l[29]=e[t],l}function ti(n,e,t){const l=n.slice();return l[29]=e[t],l}function eo(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S,g,C,T,w,L,F,I;function M(W,ee){return W[0]?lo:no}let N=M(n),Z=N(n);function O(W,ee){return W[1]?so:io}let j=O(n),U=j(n);function D(W,ee){return W[2]?oo:ro}let J=D(n),x=J(n),Pe=ne(n[10]),se=[];for(let W=0;W<Pe.length;W+=1)se[W]=ni(ei(n,Pe,W));return{c(){e=_("form"),t=_("label"),t.textContent="Account Name",l=v(),Z.c(),i=v(),s=_("label"),s.textContent="Email",r=v(),U.c(),o=v(),c=_("label"),c.textContent="Password",u=v(),x.c(),f=v(),d=_("div"),p=v(),m=_("label"),m.textContent="Current Password",b=v(),k=_("input"),g=v(),C=_("button"),T=A("Apply Changes"),L=v();for(let W=0;W<se.length;W+=1)se[W].c();h(t,"for","name"),h(t,"class","svelte-1o9ee78"),h(s,"for","email"),h(s,"class","svelte-1o9ee78"),h(c,"for","password"),h(c,"class","svelte-1o9ee78"),G(d,"grid-column","span 3"),G(d,"height","20px"),h(m,"for","currentPassword"),h(m,"class","svelte-1o9ee78"),h(k,"name","currentPassword"),h(k,"type","password"),k.disabled=S=!n[8],h(C,"class","grid-form-submit svelte-1o9ee78"),h(C,"type","submit"),C.disabled=w=!n[8],h(e,"class","grid-3-form svelte-1o9ee78"),h(e,"method","post")},m(W,ee){y(W,e,ee),a(e,t),a(e,l),Z.m(e,null),a(e,i),a(e,s),a(e,r),U.m(e,null),a(e,o),a(e,c),a(e,u),x.m(e,null),a(e,f),a(e,d),a(e,p),a(e,m),a(e,b),a(e,k),ae(k,n[7]),a(e,g),a(e,C),a(C,T),a(e,L);for(let te=0;te<se.length;te+=1)se[te]&&se[te].m(e,null);F||(I=[Y(k,"input",n[28]),Y(e,"submit",St(n[16]))],F=!0)},p(W,ee){if(N===(N=M(W))&&Z?Z.p(W,ee):(Z.d(1),Z=N(W),Z&&(Z.c(),Z.m(e,i))),j===(j=O(W))&&U?U.p(W,ee):(U.d(1),U=j(W),U&&(U.c(),U.m(e,o))),J===(J=D(W))&&x?x.p(W,ee):(x.d(1),x=J(W),x&&(x.c(),x.m(e,f))),ee[0]&256&&S!==(S=!W[8])&&(k.disabled=S),ee[0]&128&&k.value!==W[7]&&ae(k,W[7]),ee[0]&256&&w!==(w=!W[8])&&(C.disabled=w),ee[0]&1024){Pe=ne(W[10]);let te;for(te=0;te<Pe.length;te+=1){const qe=ei(W,Pe,te);se[te]?se[te].p(qe,ee):(se[te]=ni(qe),se[te].c(),se[te].m(e,null))}for(;te<se.length;te+=1)se[te].d(1);se.length=Pe.length}},d(W){W&&$(e),Z.d(),U.d(),x.d(),Ne(se,W),F=!1,we(I)}}}function to(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S,g,C,T,w,L,F,I,M,N,Z,O,j=ne(n[9]),U=[];for(let D=0;D<j.length;D+=1)U[D]=li(ti(n,j,D));return{c(){e=_("p"),e.textContent="Not logged-in",t=v(),l=_("br"),i=v(),s=_("h3"),s.textContent="Create Account",r=v(),o=_("form"),c=_("label"),c.textContent="Account Name",u=v(),f=_("input"),d=v(),p=_("label"),p.textContent="Email",m=v(),b=_("input"),k=v(),S=_("label"),S.textContent="Password",g=v(),C=_("input"),T=v(),w=_("label"),w.textContent="Confirm Password",L=v(),F=_("input"),I=v(),M=_("button"),M.textContent="Create Account",N=v();for(let D=0;D<U.length;D+=1)U[D].c();h(c,"for","name"),h(c,"class","svelte-1o9ee78"),h(f,"type","text"),h(p,"for","email"),h(p,"class","svelte-1o9ee78"),h(b,"type","text"),h(S,"for","password"),h(S,"class","svelte-1o9ee78"),h(C,"type","text"),h(w,"for","password2"),h(w,"class","svelte-1o9ee78"),h(F,"type","text"),h(F,"class","svelte-1o9ee78"),Qe(F,"red-outline",n[5]!==n[6]),h(M,"class","grid-form-submit svelte-1o9ee78"),h(M,"type","submit"),h(o,"class","grid-form svelte-1o9ee78"),h(o,"method","post")},m(D,J){y(D,e,J),y(D,t,J),y(D,l,J),y(D,i,J),y(D,s,J),y(D,r,J),y(D,o,J),a(o,c),a(o,u),a(o,f),ae(f,n[3]),a(o,d),a(o,p),a(o,m),a(o,b),ae(b,n[4]),a(o,k),a(o,S),a(o,g),a(o,C),ae(C,n[5]),a(o,T),a(o,w),a(o,L),a(o,F),ae(F,n[6]),a(o,I),a(o,M),a(o,N);for(let x=0;x<U.length;x+=1)U[x]&&U[x].m(o,null);Z||(O=[Y(f,"input",n[18]),Y(b,"input",n[19]),Y(C,"input",n[20]),Y(F,"input",n[21]),Y(o,"submit",St(n[15]))],Z=!0)},p(D,J){if(J[0]&8&&f.value!==D[3]&&ae(f,D[3]),J[0]&16&&b.value!==D[4]&&ae(b,D[4]),J[0]&32&&C.value!==D[5]&&ae(C,D[5]),J[0]&64&&F.value!==D[6]&&ae(F,D[6]),J[0]&96&&Qe(F,"red-outline",D[5]!==D[6]),J[0]&512){j=ne(D[9]);let x;for(x=0;x<j.length;x+=1){const Pe=ti(D,j,x);U[x]?U[x].p(Pe,J):(U[x]=li(Pe),U[x].c(),U[x].m(o,null))}for(;x<U.length;x+=1)U[x].d(1);U.length=j.length}},d(D){D&&($(e),$(t),$(l),$(i),$(s),$(r),$(o)),Ne(U,D),Z=!1,we(O)}}}function no(n){let e,t,l,i,s;return{c(){e=_("input"),t=v(),l=_("button"),l.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-1o9ee78"/>',h(e,"name","name"),h(e,"type","text"),e.disabled=!0,h(l,"class","svelte-1o9ee78")},m(r,o){y(r,e,o),ae(e,n[11].name),y(r,t,o),y(r,l,o),i||(s=[Y(e,"input",n[23]),Y(l,"click",St(n[12]))],i=!0)},p(r,o){o[0]&2048&&e.value!==r[11].name&&ae(e,r[11].name)},d(r){r&&($(e),$(t),$(l)),i=!1,we(s)}}}function lo(n){let e,t,l,i,s;return{c(){e=_("input"),t=v(),l=_("button"),l.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-1o9ee78"/>',h(e,"name","name"),h(e,"type","text"),h(l,"class","svelte-1o9ee78")},m(r,o){y(r,e,o),ae(e,n[3]),y(r,t,o),y(r,l,o),i||(s=[Y(e,"input",n[22]),Y(l,"click",St(n[12]))],i=!0)},p(r,o){o[0]&8&&e.value!==r[3]&&ae(e,r[3])},d(r){r&&($(e),$(t),$(l)),i=!1,we(s)}}}function io(n){let e,t,l,i,s;return{c(){e=_("input"),t=v(),l=_("button"),l.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-1o9ee78"/>',h(e,"name","email"),h(e,"type","text"),e.disabled=!0,h(l,"class","svelte-1o9ee78")},m(r,o){y(r,e,o),ae(e,n[11].email),y(r,t,o),y(r,l,o),i||(s=[Y(e,"input",n[25]),Y(l,"click",St(n[13]))],i=!0)},p(r,o){o[0]&2048&&e.value!==r[11].email&&ae(e,r[11].email)},d(r){r&&($(e),$(t),$(l)),i=!1,we(s)}}}function so(n){let e,t,l,i,s;return{c(){e=_("input"),t=v(),l=_("button"),l.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-1o9ee78"/>',h(e,"name","email"),h(e,"type","text"),h(l,"class","svelte-1o9ee78")},m(r,o){y(r,e,o),ae(e,n[4]),y(r,t,o),y(r,l,o),i||(s=[Y(e,"input",n[24]),Y(l,"click",St(n[13]))],i=!0)},p(r,o){o[0]&16&&e.value!==r[4]&&ae(e,r[4])},d(r){r&&($(e),$(t),$(l)),i=!1,we(s)}}}function ro(n){let e,t,l,i,s,r,o,c,u,f,d;return{c(){e=_("input"),t=v(),l=_("div"),i=v(),s=_("label"),s.textContent="Confirm Password",r=v(),o=_("input"),c=v(),u=_("button"),u.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-1o9ee78"/>',h(e,"name","password"),G(e,"text-align","center"),h(e,"type","text"),e.value="---",e.disabled=!0,h(s,"for","password"),h(s,"class","svelte-1o9ee78"),h(o,"name","password"),G(o,"text-align","center"),h(o,"type","text"),o.value="---",o.disabled=!0,h(u,"class","svelte-1o9ee78")},m(p,m){y(p,e,m),y(p,t,m),y(p,l,m),y(p,i,m),y(p,s,m),y(p,r,m),y(p,o,m),y(p,c,m),y(p,u,m),f||(d=Y(u,"click",St(n[14])),f=!0)},p:H,d(p){p&&($(e),$(t),$(l),$(i),$(s),$(r),$(o),$(c),$(u)),f=!1,d()}}}function oo(n){let e,t,l,i,s,r,o,c,u,f,d;return{c(){e=_("input"),t=v(),l=_("div"),i=v(),s=_("label"),s.textContent="Confirm Password",r=v(),o=_("input"),c=v(),u=_("button"),u.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-1o9ee78"/>',h(e,"name","password"),h(e,"type","password"),h(s,"for","password"),h(s,"class","svelte-1o9ee78"),h(o,"name","password"),h(o,"type","password"),h(u,"class","svelte-1o9ee78")},m(p,m){y(p,e,m),ae(e,n[5]),y(p,t,m),y(p,l,m),y(p,i,m),y(p,s,m),y(p,r,m),y(p,o,m),ae(o,n[6]),y(p,c,m),y(p,u,m),f||(d=[Y(e,"input",n[26]),Y(o,"input",n[27]),Y(u,"click",St(n[14]))],f=!0)},p(p,m){m[0]&32&&e.value!==p[5]&&ae(e,p[5]),m[0]&64&&o.value!==p[6]&&ae(o,p[6])},d(p){p&&($(e),$(t),$(l),$(i),$(s),$(r),$(o),$(c),$(u)),f=!1,we(d)}}}function ni(n){let e,t=n[29]+"",l;return{c(){e=_("label"),l=A(t),h(e,"class","grid-form-error svelte-1o9ee78"),h(e,"for","errors")},m(i,s){y(i,e,s),a(e,l)},p(i,s){s[0]&1024&&t!==(t=i[29]+"")&&B(l,t)},d(i){i&&$(e)}}}function li(n){let e,t=n[29]+"",l;return{c(){e=_("label"),l=A(t),h(e,"class","grid-form-error svelte-1o9ee78"),h(e,"for","errors")},m(i,s){y(i,e,s),a(e,l)},p(i,s){s[0]&512&&t!==(t=i[29]+"")&&B(l,t)},d(i){i&&$(e)}}}function co(n){let e,t,l;function i(o,c){return o[11]==null?to:eo}let s=i(n),r=s(n);return{c(){e=_("div"),t=_("h2"),t.textContent="Account Information",l=v(),r.c(),h(e,"class","page")},m(o,c){y(o,e,c),a(e,t),a(e,l),r.m(e,null)},p(o,c){s===(s=i(o))&&r?r.p(o,c):(r.d(1),r=s(o),r&&(r.c(),r.m(e,null)))},i:H,o:H,d(o){o&&$(e),r.d()}}}function ao(n,e,t){let l;Ye(n,ut,x=>t(11,l=x));let{location:i=""}=e,s="",r=!1,o="",c=!1,u="",f="",d=!1,p="",m=!1;function b(){var x;t(0,r=!r),r?t(3,s=((x=Xe(ut))==null?void 0:x.name)??""):t(3,s="")}function k(){var x;t(1,c=!c),c?t(4,o=((x=Xe(ut))==null?void 0:x.email)??""):t(4,o="")}function S(){t(2,d=!d),d||t(5,u=t(6,f=""))}let g=[];async function C(){t(9,g=[]),s.length==0&&g.push("Name required"),o.length==0&&g.push("Email required"),u.length==0&&g.push("Password required"),u!==f&&g.push("Error: Passwords did not match"),!(g.length>0)&&await ut.createAccount(s,o,u,x=>{t(9,g=x)})}let T=[];async function w(){t(10,T=[]),r&&s.length==0&&T.push("Name required"),c&&o.length==0&&T.push("Email required"),d&&u.length==0&&T.push("Password required"),d&&u!==f&&T.push("Passwords did not match"),p.length==0&&T.push("Current password Required"),!(T.length>0)&&await ut.updateAccount(r?s:null,c?o:null,d?u:null,p,()=>{r&&b(),c&&k(),d&&S(),t(7,p="")},x=>t(10,T=x))}function L(){s=this.value,t(3,s)}function F(){o=this.value,t(4,o)}function I(){u=this.value,t(5,u)}function M(){f=this.value,t(6,f)}function N(){s=this.value,t(3,s)}function Z(){l.name=this.value,ut.set(l)}function O(){o=this.value,t(4,o)}function j(){l.email=this.value,ut.set(l)}function U(){u=this.value,t(5,u)}function D(){f=this.value,t(6,f)}function J(){p=this.value,t(7,p)}return n.$$set=x=>{"location"in x&&t(17,i=x.location)},n.$$.update=()=>{n.$$.dirty[0]&7&&t(8,m=r||c||d)},[r,c,d,s,o,u,f,p,m,g,T,l,b,k,S,C,w,i,L,F,I,M,N,Z,O,j,U,D,J]}class uo extends ye{constructor(e){super(),$e(this,e,ao,co,be,{location:17},null,[-1,-1])}}function fo(n){let e,t=(n[0]==1/0?"?":n[0])+"",l,i,s,r;return{c(){e=_("button"),l=A(t),h(e,"type","button"),h(e,"class",i="die faces-"+(n[2]==n[7]?"F":n[2]==n[8]?"E":n[2])+" result-"+n[0]+" svelte-ogq5bb"),Qe(e,"active",n[1]),Qe(e,"inverted",n[5]),Qe(e,"show-pips",n[3])},m(o,c){y(o,e,c),a(e,l),n[11](e),s||(r=Y(e,"click",n[12]),s=!0)},p(o,[c]){c&1&&t!==(t=(o[0]==1/0?"?":o[0])+"")&&B(l,t),c&5&&i!==(i="die faces-"+(o[2]==o[7]?"F":o[2]==o[8]?"E":o[2])+" result-"+o[0]+" svelte-ogq5bb")&&h(e,"class",i),c&7&&Qe(e,"active",o[1]),c&37&&Qe(e,"inverted",o[5]),c&13&&Qe(e,"show-pips",o[3])},i:H,o:H,d(o){o&&$(e),n[11](null),s=!1,r()}}}function _o(n,e,t){let{faces:l=6}=e,{showPips:i=!1}=e,{result:s=1/0}=e,{active:r=!1}=e,{enabled:o=!0}=e,{invert:c=!1}=e;const u=-1,f=-2;let d;function p(){if(l>0)return Math.floor(Math.random()*l)+1;if(l==u)return Math.floor(Math.random()*3)-1;if(l==f){var C=Math.floor(Math.random()*6)+1;if(C==1)return 1;if(C==2||C==3)return 2;if(C==4||C==5||C==6)return 3}return 0}function m(){d&&(t(6,d.style.animation="none",d),d.offsetHeight,t(6,d.style.animation=null,d))}function b(){o&&(t(0,s=p()),t(1,r=!1),m())}function k(){!r||!o||(t(0,s=p()),t(1,r=!1),m())}function S(C){Ee[C?"unshift":"push"](()=>{d=C,t(6,d)})}const g=()=>{t(1,r=o&&!r)};return n.$$set=C=>{"faces"in C&&t(2,l=C.faces),"showPips"in C&&t(3,i=C.showPips),"result"in C&&t(0,s=C.result),"active"in C&&t(1,r=C.active),"enabled"in C&&t(4,o=C.enabled),"invert"in C&&t(5,c=C.invert)},n.$$.update=()=>{n.$$.dirty&17&&t(0,s=o?p():s)},[s,r,l,i,o,c,d,u,f,b,k,S,g]}class ze extends ye{constructor(e){super(),$e(this,e,_o,fo,be,{faces:2,showPips:3,result:0,active:1,enabled:4,invert:5,roll:9,rollIfActive:10})}get roll(){return this.$$.ctx[9]}get rollIfActive(){return this.$$.ctx[10]}}function ii(n,e,t){const l=n.slice();return l[11]=e[t],l[12]=e,l[13]=t,l}function si(n,e){let t,l,i=e[13],s,r,o;const c=()=>e[6](l,i),u=()=>e[6](null,i);function f(m){e[7](m,e[11])}function d(m){e[8](m,e[11])}let p={showPips:!0,invert:e[13]==2};return e[11].result!==void 0&&(p.result=e[11].result),e[11].active!==void 0&&(p.active=e[11].active),l=new ze({props:p}),c(),Ee.push(()=>We(l,"result",f)),Ee.push(()=>We(l,"active",d)),{key:n,first:null,c(){t=ke(),X(l.$$.fragment),this.first=t},m(m,b){y(m,t,b),V(l,m,b),o=!0},p(m,b){e=m,i!==e[13]&&(u(),i=e[13],c());const k={};b&1&&(k.invert=e[13]==2),!s&&b&1&&(s=!0,k.result=e[11].result,Ge(()=>s=!1)),!r&&b&1&&(r=!0,k.active=e[11].active,Ge(()=>r=!1)),l.$set(k)},i(m){o||(R(l.$$.fragment,m),o=!0)},o(m){q(l.$$.fragment,m),o=!1},d(m){m&&$(t),u(),Q(l,m)}}}function po(n){let e;return{c(){e=A("Quality")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function ho(n){let e;return{c(){e=A("Stunt!")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function mo(n){let e,t,l,i,s,r,o,c=n[2].active==0?"Reroll All":"Reroll "+String(n[2].active),u,f,d,p,m=[],b=new Map,k,S,g,C,T,w,L=n[2].sum+"",F,I,M,N,Z,O,j=n[2].stunt+"",U,D,J,x,Pe,se,W,ee,te,qe,oe,Ce,Se,Be,he,He,ge,Te,pe=n[2].sum+n[3]+"",Le,me,Ie,ce,Fe,ve,E=ne(n[0]);const fe=ie=>ie[11].id;for(let ie=0;ie<E.length;ie+=1){let de=ii(n,E,ie),Ke=fe(de);b.set(Ke,m[ie]=si(Ke,de))}function P(ie,de){return ie[2].hasPair?ho:po}let re=P(n),Je=re(n);return{c(){e=_("div"),t=_("h1"),t.textContent="Age Dice Roller",l=v(),i=_("p"),i.textContent="Roll 3d6 and sum them. One d6 is special and used for success quality and stunt points.",s=v(),r=_("div"),o=_("button"),u=A(c),d=v(),p=_("div");for(let ie=0;ie<m.length;ie+=1)m[ie].c();k=v(),S=_("div"),g=_("div"),C=_("h2"),C.textContent="Sum",T=v(),w=_("h3"),F=A(L),I=v(),M=_("div"),N=_("h2"),Je.c(),Z=v(),O=_("h3"),U=A(j),D=v(),J=_("div"),x=_("div"),x.innerHTML='<h2 style="line-height:3em;">+</h2>',Pe=v(),se=_("div"),W=_("h2"),W.textContent="Mod",ee=v(),te=_("input"),qe=v(),oe=_("input"),Ce=v(),Se=_("div"),Se.innerHTML='<h2 style="line-height:3em;">=</h2>',Be=v(),he=_("div"),He=_("h2"),He.textContent="Result",ge=v(),Te=_("h3"),Le=A(pe),me=v(),Ie=_("p"),Ie.innerHTML='Check out Fantasy Age and the other Age RPGs by <a href="https://greenronin.com/">GreenÂ Ronin</a>Â (NotÂ affiliated)',h(o,"class","button-outlined"),o.disabled=f=n[0].length<=0,G(r,"justify-content","center"),h(p,"class","dice-box svelte-1555w2s"),h(C,"class","text-center"),G(C,"margin-bottom","0"),h(w,"class","result svelte-1555w2s"),G(w,"width","128px"),G(w,"margin","0 auto 0 auto"),h(N,"class","text-center"),G(N,"margin-bottom","0"),h(O,"class","result svelte-1555w2s"),G(O,"width","100px"),G(O,"margin","0 auto 0 auto"),h(S,"class","result-summary svelte-1555w2s"),h(W,"class","text-center"),G(W,"margin-bottom","0"),h(te,"type","number"),h(te,"class","result svelte-1555w2s"),G(te,"width","100px"),G(te,"margin","0 auto 0 auto"),h(oe,"type","range"),h(oe,"class","result svelte-1555w2s"),G(oe,"width","100px"),G(oe,"margin","0 auto 0 auto"),h(oe,"min","-10"),h(oe,"max","10"),h(He,"class","text-center"),G(He,"margin-bottom","0"),h(Te,"class","result svelte-1555w2s"),G(Te,"width","100px"),G(Te,"margin","0 auto 0 auto"),h(J,"class","result-mod svelte-1555w2s"),h(e,"class","page")},m(ie,de){y(ie,e,de),a(e,t),a(e,l),a(e,i),a(e,s),a(e,r),a(r,o),a(o,u),a(e,d),a(e,p);for(let Ke=0;Ke<m.length;Ke+=1)m[Ke]&&m[Ke].m(p,null);a(e,k),a(e,S),a(S,g),a(g,C),a(g,T),a(g,w),a(w,F),a(S,I),a(S,M),a(M,N),Je.m(N,null),a(M,Z),a(M,O),a(O,U),a(e,D),a(e,J),a(J,x),a(J,Pe),a(J,se),a(se,W),a(se,ee),a(se,te),ae(te,n[3]),a(se,qe),a(se,oe),ae(oe,n[3]),a(J,Ce),a(J,Se),a(J,Be),a(J,he),a(he,He),a(he,ge),a(he,Te),a(Te,Le),a(e,me),a(e,Ie),ce=!0,Fe||(ve=[Y(o,"click",n[4]),Y(te,"input",n[9]),Y(oe,"change",n[10]),Y(oe,"input",n[10])],Fe=!0)},p(ie,[de]){(!ce||de&4)&&c!==(c=ie[2].active==0?"Reroll All":"Reroll "+String(ie[2].active))&&B(u,c),(!ce||de&1&&f!==(f=ie[0].length<=0))&&(o.disabled=f),de&3&&(E=ne(ie[0]),Ae(),m=Gn(m,de,fe,1,ie,E,b,p,Yn,si,null,ii),Me()),(!ce||de&4)&&L!==(L=ie[2].sum+"")&&B(F,L),re!==(re=P(ie))&&(Je.d(1),Je=re(ie),Je&&(Je.c(),Je.m(N,null))),(!ce||de&4)&&j!==(j=ie[2].stunt+"")&&B(U,j),de&8&&Pt(te.value)!==ie[3]&&ae(te,ie[3]),de&8&&ae(oe,ie[3]),(!ce||de&12)&&pe!==(pe=ie[2].sum+ie[3]+"")&&B(Le,pe)},i(ie){if(!ce){for(let de=0;de<E.length;de+=1)R(m[de]);ce=!0}},o(ie){for(let de=0;de<m.length;de+=1)q(m[de]);ce=!1},d(ie){ie&&$(e);for(let de=0;de<m.length;de+=1)m[de].d();Je.d(),Fe=!1,we(ve)}}}function bo(n,e,t){let{location:l=""}=e,i=[{id:0,result:0,active:!1},{id:1,result:0,active:!1},{id:2,result:0,active:!1}],s=[],r={active:0,sum:0,hasPair:!1,stunt:0};function o(){r.active==0?s.filter(b=>b).forEach(b=>b.roll()):s.filter(b=>b).forEach(b=>b.rollIfActive())}let c=0;function u(b,k){Ee[b?"unshift":"push"](()=>{s[k]=b,t(1,s)})}function f(b,k){n.$$.not_equal(k.result,b)&&(k.result=b,t(0,i))}function d(b,k){n.$$.not_equal(k.active,b)&&(k.active=b,t(0,i))}function p(){c=Pt(this.value),t(3,c)}function m(){c=Pt(this.value),t(3,c)}return n.$$set=b=>{"location"in b&&t(5,l=b.location)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=i.reduce((b,k)=>(b.hasOwnProperty(k.result)?(b[k.result]+=1,b.hasPair=!0):b[k.result]=1,b.sum+=k.result,k.active&&(b.active=b.active+1),b),{active:0,sum:0,hasPair:!1,stunt:i[2].result}))},[i,s,r,c,o,l,u,f,d,p,m]}class go extends ye{constructor(e){super(),$e(this,e,bo,mo,be,{location:5})}}function ri(n){let e,t,l,i,s,r,o,c,u,f,d,p,m;return{c(){e=_("div"),t=_("div"),l=_("p"),i=A(n[1]),s=v(),r=_("div"),o=_("button"),c=A(n[2]),u=v(),f=_("button"),d=A(n[3]),h(l,"class","svelte-1k432k2"),h(o,"class","svelte-1k432k2"),h(f,"class","svelte-1k432k2"),h(r,"class","actions svelte-1k432k2"),h(t,"class","contents svelte-1k432k2"),h(e,"role","dialog"),h(e,"class","modal svelte-1k432k2")},m(b,k){y(b,e,k),a(e,t),a(t,l),a(l,i),a(t,s),a(t,r),a(r,o),a(o,c),a(r,u),a(r,f),a(f,d),p||(m=[Y(o,"click",sn),Y(f,"click",n[4])],p=!0)},p(b,k){k&2&&B(i,b[1]),k&4&&B(c,b[2]),k&8&&B(d,b[3])},d(b){b&&$(e),p=!1,we(m)}}}function vo(n){let e,t=n[0]&&ri(n);return{c(){t&&t.c(),e=ke()},m(l,i){t&&t.m(l,i),y(l,e,i)},p(l,[i]){l[0]?t?t.p(l,i):(t=ri(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(l){l&&$(e),t&&t.d(l)}}}function ko(n,e,t){let{isOpen:l}=e,{question:i}=e,{no:s="No"}=e,{yes:r="Yes"}=e,{onConfirm:o=()=>{}}=e;function c(){sn(),o()}return n.$$set=u=>{"isOpen"in u&&t(0,l=u.isOpen),"question"in u&&t(1,i=u.question),"no"in u&&t(2,s=u.no),"yes"in u&&t(3,r=u.yes),"onConfirm"in u&&t(5,o=u.onConfirm)},[l,i,s,r,c,o]}class $o extends ye{constructor(e){super(),$e(this,e,ko,vo,be,{isOpen:0,question:1,no:2,yes:3,onConfirm:5})}}function oi(n,e,t){const l=n.slice();return l[5]=e[t],l}function ci(n){let e,t,l,i,s,r,o,c,u,f,d,p,m=ne(n[1]),b=[];for(let k=0;k<m.length;k+=1)b[k]=ai(oi(n,m,k));return{c(){e=_("div"),t=_("div"),l=_("div"),i=_("p"),i.textContent="Select a feat",s=v(),r=_("button"),r.textContent="cancel",o=v(),c=_("br"),u=v(),f=_("div");for(let k=0;k<b.length;k+=1)b[k].c();h(i,"class","svelte-nkfw49"),h(l,"class","heading svelte-nkfw49"),h(f,"class","feat-list svelte-nkfw49"),h(t,"class","contents svelte-nkfw49"),h(e,"role","dialog"),h(e,"class","modal svelte-nkfw49")},m(k,S){y(k,e,S),a(e,t),a(t,l),a(l,i),a(l,s),a(l,r),a(t,o),a(t,c),a(t,u),a(t,f);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(f,null);d||(p=Y(r,"click",sn),d=!0)},p(k,S){if(S&6){m=ne(k[1]);let g;for(g=0;g<m.length;g+=1){const C=oi(k,m,g);b[g]?b[g].p(C,S):(b[g]=ai(C),b[g].c(),b[g].m(f,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=m.length}},d(k){k&&$(e),Ne(b,k),d=!1,p()}}}function ai(n){let e,t=n[5].name+"",l,i,s,r=n[5].shortDescription+"",o,c,u,f;function d(){return n[4](n[5])}return{c(){e=_("button"),l=A(t),i=v(),s=_("p"),o=A(r),c=v(),h(s,"class","svelte-nkfw49")},m(p,m){y(p,e,m),a(e,l),a(e,i),a(e,s),a(s,o),a(e,c),u||(f=Y(e,"click",d),u=!0)},p(p,m){n=p,m&2&&t!==(t=n[5].name+"")&&B(l,t),m&2&&r!==(r=n[5].shortDescription+"")&&B(o,r)},d(p){p&&$(e),u=!1,f()}}}function yo(n){let e,t=n[0]&&ci(n);return{c(){t&&t.c(),e=ke()},m(l,i){t&&t.m(l,i),y(l,e,i)},p(l,[i]){l[0]?t?t.p(l,i):(t=ci(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(l){l&&$(e),t&&t.d(l)}}}function wo(n,e,t){let{isOpen:l}=e,{options:i=[]}=e,{onSelected:s=c=>{}}=e;function r(c){sn(),s(c)}const o=c=>r(c);return n.$$set=c=>{"isOpen"in c&&t(0,l=c.isOpen),"options"in c&&t(1,i=c.options),"onSelected"in c&&t(3,s=c.onSelected)},[l,i,r,s,o]}class Co extends ye{constructor(e){super(),$e(this,e,wo,yo,be,{isOpen:0,options:1,onSelected:3})}}function So(n){var b,k,S;let e,t,l=(((b=n[4])==null?void 0:b.name)??"--Error--")+"",i,s,r,o,c,u=((n[3]?(k=n[4])==null?void 0:k.longDescription:(S=n[4])==null?void 0:S.shortDescription)??"--Error--")+"",f;function d(g,C){return g[3]?Oo:jo}let p=d(n),m=p(n);return{c(){e=_("div"),t=_("h4"),i=A(l),s=v(),r=_("div"),m.c(),o=v(),c=_("p"),f=A(u),h(e,"class","feat-header svelte-4uqxu4")},m(g,C){y(g,e,C),a(e,t),a(t,i),a(e,s),a(e,r),m.m(r,null),y(g,o,C),y(g,c,C),a(c,f)},p(g,C){var T,w,L;C&16&&l!==(l=(((T=g[4])==null?void 0:T.name)??"--Error--")+"")&&B(i,l),p===(p=d(g))&&m?m.p(g,C):(m.d(1),m=p(g),m&&(m.c(),m.m(r,null))),C&24&&u!==(u=((g[3]?(w=g[4])==null?void 0:w.longDescription:(L=g[4])==null?void 0:L.shortDescription)??"--Error--")+"")&&B(f,u)},d(g){g&&($(e),$(o),$(c)),m.d()}}}function Po(n){let e,t,l,i=n[1]&&fi(n);return{c(){e=_("div"),t=_("h4"),t.textContent="No feat selected",l=v(),i&&i.c(),h(e,"class","feat-header svelte-4uqxu4")},m(s,r){y(s,e,r),a(e,t),a(e,l),i&&i.m(e,null)},p(s,r){s[1]?i?i.p(s,r):(i=fi(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(s){s&&$(e),i&&i.d()}}}function Oo(n){let e,t,l,i,s=!n[2]&&ui(n);return{c(){s&&s.c(),e=v(),t=_("button"),t.textContent="v",h(t,"class","delete-button")},m(r,o){s&&s.m(r,o),y(r,e,o),y(r,t,o),l||(i=Y(t,"click",n[8]),l=!0)},p(r,o){r[2]?s&&(s.d(1),s=null):s?s.p(r,o):(s=ui(r),s.c(),s.m(e.parentNode,e))},d(r){r&&($(e),$(t)),s&&s.d(r),l=!1,i()}}}function jo(n){let e,t,l;return{c(){e=_("button"),e.textContent=">",h(e,"class","delete-button")},m(i,s){y(i,e,s),t||(l=Y(e,"click",n[7]),t=!0)},p:H,d(i){i&&$(e),t=!1,l()}}}function ui(n){let e,t,l;return{c(){e=_("button"),e.textContent="x",h(e,"class","delete-button")},m(i,s){y(i,e,s),t||(l=Y(e,"click",n[6]),t=!0)},p:H,d(i){i&&$(e),t=!1,l()}}}function fi(n){let e,t,l;return{c(){e=_("button"),e.textContent="+",h(e,"class","delete-button")},m(i,s){y(i,e,s),t||(l=Y(e,"click",n[5]),t=!0)},p:H,d(i){i&&$(e),t=!1,l()}}}function Ao(n){let e;function t(s,r){return s[0]?So:Po}let l=t(n),i=l(n);return{c(){e=_("div"),i.c(),h(e,"class","feat-box svelte-4uqxu4")},m(s,r){y(s,e,r),i.m(e,null)},p(s,[r]){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e,null)))},i:H,o:H,d(s){s&&$(e),i.d()}}}function Mo(n,e,t){let l,{feat:i}=e,{options:s}=e,{readonly:r=!1}=e,o=!1;function c(){s&&rl(Co,{options:s,onSelected:p=>{t(0,i=new Cr(p.id))}})}function u(){rl($o,{question:"Remove Constitution?",onConfirm:()=>{t(0,i=void 0)}})}const f=()=>t(3,o=!0),d=()=>t(3,o=!1);return n.$$set=p=>{"feat"in p&&t(0,i=p.feat),"options"in p&&t(1,s=p.options),"readonly"in p&&t(2,r=p.readonly)},n.$$.update=()=>{n.$$.dirty&3&&t(4,l=s==null?void 0:s.find(p=>p.id==(i==null?void 0:i.compendiumId)))},[i,s,r,o,l,c,u,f,d]}class Eo extends ye{constructor(e){super(),$e(this,e,Mo,Ao,be,{feat:0,options:1,readonly:2})}}function Lo(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S,g,C,T,w,L;function F(M){n[5](M)}let I={options:cs};return n[2].background.constitution!==void 0&&(I.feat=n[2].background.constitution),g=new Eo({props:I}),Ee.push(()=>We(g,"feat",F)),{c(){e=_("div"),t=_("label"),l=_("h4"),l.textContent="Character Name:",i=v(),s=_("input"),r=v(),o=_("br"),c=v(),u=_("label"),u.innerHTML="<h4>Description:</h4>",f=v(),d=_("p"),p=v(),m=_("br"),b=v(),k=_("label"),k.innerHTML="<h4>Constitution Feat:</h4>",S=v(),X(g.$$.fragment),G(l,"display","inline-block"),h(s,"placeholder","Unnamed Character"),h(u,"for","description"),h(d,"id","description"),h(d,"contenteditable",""),h(d,"class","svelte-hcjfj9"),n[2].background.description===void 0&&ft(()=>n[4].call(d)),h(k,"for","constitution"),h(e,"class","sheet-block svelte-hcjfj9")},m(M,N){y(M,e,N),a(e,t),a(t,l),a(t,i),a(t,s),ae(s,n[2].name),a(e,r),a(e,o),a(e,c),a(e,u),a(e,f),a(e,d),n[2].background.description!==void 0&&(d.innerHTML=n[2].background.description),a(e,p),a(e,m),a(e,b),a(e,k),a(e,S),V(g,e,null),T=!0,w||(L=[Y(s,"input",n[3]),Y(d,"input",n[4])],w=!0)},p(M,N){N&4&&s.value!==M[2].name&&ae(s,M[2].name),N&4&&M[2].background.description!==d.innerHTML&&(d.innerHTML=M[2].background.description);const Z={};!C&&N&4&&(C=!0,Z.feat=M[2].background.constitution,Ge(()=>C=!1)),g.$set(Z)},i(M){T||(R(g.$$.fragment,M),T=!0)},o(M){q(g.$$.fragment,M),T=!1},d(M){M&&$(e),Q(g),w=!1,we(L)}}}function No(n){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",h(e,"class","sheet-block svelte-hcjfj9")},m(t,l){y(t,e,l)},p:H,i:H,o:H,d(t){t&&$(e)}}}function To(n){let e,t,l,i,s,r;return{c(){e=_("div"),t=_("h2"),t.textContent="Cannot Load Social Stats",l=v(),i=_("p"),s=A("Error: "),r=A(n[1]),h(e,"class","sheet-block svelte-hcjfj9")},m(o,c){y(o,e,c),a(e,t),a(e,l),a(e,i),a(i,s),a(i,r)},p(o,c){c&2&&B(r,o[1])},i:H,o:H,d(o){o&&$(e)}}}function Ro(n){let e,t,l,i;const s=[To,No,Lo],r=[];function o(c,u){return c[1]?0:!c[0]||c[2]==null?1:2}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(c,u){r[e].m(c,u),y(c,l,u),i=!0},p(c,[u]){let f=e;e=o(c),e===f?r[e].p(c,u):(Ae(),q(r[f],1,1,()=>{r[f]=null}),Me(),t=r[e],t?t.p(c,u):(t=r[e]=s[e](c),t.c()),R(t,1),t.m(l.parentNode,l))},i(c){i||(R(t),i=!0)},o(c){q(t),i=!1},d(c){c&&$(l),r[e].d(c)}}}function qo(n,e,t){let l,i=H,s=()=>(i(),i=Ht(o,d=>t(2,l=d)),o);n.$$.on_destroy.push(()=>i());let r,{character:o}=e;s(),ln(async()=>{if(!o){t(1,r="Failed to load character");return}});function c(){l.name=this.value,o.set(l)}function u(){l.background.description=this.innerHTML,o.set(l)}function f(d){n.$$.not_equal(l.background.constitution,d)&&(l.background.constitution=d,o.set(l))}return n.$$set=d=>{"character"in d&&s(t(0,o=d.character))},[o,r,l,c,u,f]}class us extends ye{constructor(e){super(),$e(this,e,qo,Ro,be,{character:0})}}function di(n,e,t){const l=n.slice();return l[18]=e[t][0],l[19]=e[t][1].mod,l[20]=e,l[21]=t,l}function _i(n,e,t){const l=n.slice();return l[18]=e[t][0],l[19]=e[t][1].mod,l[22]=e,l[23]=t,l}function pi(n,e,t){const l=n.slice();return l[18]=e[t][0],l[19]=e[t][1].mod,l}function hi(n,e,t){const l=n.slice();return l[18]=e[t][0],l[19]=e[t][1].mod,l}function Ho(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S,g,C,T,w,L=ne(Object.entries(n[2].stats)),F=[];for(let j=0;j<L.length;j+=1)F[j]=mi(hi(n,L,j));let I=ne(Object.entries(n[1].stats)),M=[];for(let j=0;j<I.length;j+=1)M[j]=bi(pi(n,I,j));function N(j,U){if(j[5]==="manual")return Bo;if(j[5]==="rand")return zo;if(j[5]==="buy")return Fo}let Z=N(n),O=Z&&Z(n);return{c(){e=_("div"),t=A(`Current stats:
        `),l=_("table"),i=_("tr");for(let j=0;j<F.length;j+=1)F[j].c();s=v(),r=_("tr");for(let j=0;j<M.length;j+=1)M[j].c();o=v(),c=_("br"),u=v(),f=_("div"),d=A(`Stat creation mode:
            `),p=_("div"),m=_("button"),m.textContent="Manual",b=v(),k=_("button"),k.textContent="Randomize",S=v(),g=_("button"),g.textContent="Buy",C=v(),O&&O.c(),h(l,"class","svelte-1ybbml6"),Qe(m,"active",n[5]==="manual"),Qe(k,"active",n[5]==="rand"),Qe(g,"active",n[5]==="buy"),h(p,"class","toggle-bg"),h(e,"class","sheet-block")},m(j,U){y(j,e,U),a(e,t),a(e,l),a(l,i);for(let D=0;D<F.length;D+=1)F[D]&&F[D].m(i,null);a(l,s),a(l,r);for(let D=0;D<M.length;D+=1)M[D]&&M[D].m(r,null);a(e,o),a(e,c),a(e,u),a(e,f),a(f,d),a(f,p),a(p,m),a(p,b),a(p,k),a(p,S),a(p,g),a(e,C),O&&O.m(e,null),T||(w=[Y(m,"click",n[9]),Y(k,"click",n[10]),Y(g,"click",n[11])],T=!0)},p(j,U){if(U&4){L=ne(Object.entries(j[2].stats));let D;for(D=0;D<L.length;D+=1){const J=hi(j,L,D);F[D]?F[D].p(J,U):(F[D]=mi(J),F[D].c(),F[D].m(i,null))}for(;D<F.length;D+=1)F[D].d(1);F.length=L.length}if(U&2){I=ne(Object.entries(j[1].stats));let D;for(D=0;D<I.length;D+=1){const J=pi(j,I,D);M[D]?M[D].p(J,U):(M[D]=bi(J),M[D].c(),M[D].m(r,null))}for(;D<M.length;D+=1)M[D].d(1);M.length=I.length}U&32&&Qe(m,"active",j[5]==="manual"),U&32&&Qe(k,"active",j[5]==="rand"),U&32&&Qe(g,"active",j[5]==="buy"),Z===(Z=N(j))&&O?O.p(j,U):(O&&O.d(1),O=Z&&Z(j),O&&(O.c(),O.m(e,null)))},d(j){j&&$(e),Ne(F,j),Ne(M,j),O&&O.d(),T=!1,we(w)}}}function Do(n){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",h(e,"class","sheet-block")},m(t,l){y(t,e,l)},p:H,d(t){t&&$(e)}}}function Io(n){let e,t,l,i,s,r;return{c(){e=_("div"),t=_("h2"),t.textContent="Cannot Load Stats",l=v(),i=_("p"),s=A("Error: "),r=A(n[4]),h(e,"class","sheet-block")},m(o,c){y(o,e,c),a(e,t),a(e,l),a(e,i),a(i,s),a(i,r)},p(o,c){c&16&&B(r,o[4])},d(o){o&&$(e)}}}function mi(n){let e,t=n[18]+"",l,i,s=n[19]>=0?"+":"",r,o=(n[19]??0)+"",c;return{c(){e=_("td"),l=A(t),i=_("td"),r=A(s),c=A(o)},m(u,f){y(u,e,f),a(e,l),y(u,i,f),a(i,r),a(i,c)},p(u,f){f&4&&t!==(t=u[18]+"")&&B(l,t),f&4&&s!==(s=u[19]>=0?"+":"")&&B(r,s),f&4&&o!==(o=(u[19]??0)+"")&&B(c,o)},d(u){u&&($(e),$(i))}}}function bi(n){let e,t=n[18]+"",l,i,s=n[19]>=0?"+":"",r,o=(n[19]??0)+"",c;return{c(){e=_("td"),l=A(t),i=_("td"),r=A(s),c=A(o)},m(u,f){y(u,e,f),a(e,l),y(u,i,f),a(i,r),a(i,c)},p(u,f){f&2&&t!==(t=u[18]+"")&&B(l,t),f&2&&s!==(s=u[19]>=0?"+":"")&&B(r,s),f&2&&o!==(o=(u[19]??0)+"")&&B(c,o)},d(u){u&&($(e),$(i))}}}function Fo(n){let e;return{c(){e=_("div"),e.innerHTML="<h3>Buy Method</h3> <p>TODO</p>"},m(t,l){y(t,e,l)},p:H,d(t){t&&$(e)}}}function zo(n){let e,t,l,i,s,r,o,c,u,f,d,p,m=n[6]&&gi(n);return{c(){e=_("div"),t=_("h3"),t.textContent="Randomize Method",l=v(),i=_("p"),i.innerHTML='1. Randomize which array is used by rolling a <span class="calc">d8</span> or pressing &#39;Roll&#39;:',s=v(),r=_("table"),r.innerHTML="<tr><td>1</td><td>[-1, +2, +3]</td><td>5</td><td>[+1, +1, +3]</td></tr> <tr><td>2</td><td>[+0, +1, +3]</td><td>6</td><td>[+1, +2, +2]</td></tr> <tr><td>3</td><td>[+0, +2, +2]</td><td>7</td><td>[+1, +1, +3]</td></tr> <tr><td>4</td><td>[+1, +1, +2]</td><td>8</td><td>[+0, +2, +3]</td></tr>",o=v(),c=_("button"),c.textContent="Roll",u=_("br"),f=v(),m&&m.c(),h(r,"class","svelte-1ybbml6")},m(b,k){y(b,e,k),a(e,t),a(e,l),a(e,i),a(e,s),a(e,r),a(e,o),a(e,c),a(e,u),a(e,f),m&&m.m(e,null),d||(p=Y(c,"click",n[14]),d=!0)},p(b,k){b[6]?m?m.p(b,k):(m=gi(b),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(b){b&&$(e),m&&m.d(),d=!1,p()}}}function Bo(n){let e,t,l,i,s,r,o,c,u,f,d=ne(n[7]),p=[];for(let k=0;k<d.length;k+=1)p[k]=vi(_i(n,d,k));let m=ne(Object.entries(n[1].stats)),b=[];for(let k=0;k<m.length;k+=1)b[k]=ki(di(n,m,k));return{c(){e=_("div"),t=_("h3"),t.textContent="Manual Stat Entry",l=v(),i=_("table"),s=_("tr"),s.innerHTML='<td colspan="2"><h4>Social Stats</h4></td>',r=v();for(let k=0;k<p.length;k+=1)p[k].c();o=v(),c=_("table"),u=_("tr"),u.innerHTML='<td colspan="2"><h4>Adventure Stats</h4></td>',f=v();for(let k=0;k<b.length;k+=1)b[k].c();h(i,"class","svelte-1ybbml6"),h(c,"class","svelte-1ybbml6")},m(k,S){y(k,e,S),a(e,t),a(e,l),a(e,i),a(i,s),a(i,r);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(i,null);a(e,o),a(e,c),a(c,u),a(c,f);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(c,null)},p(k,S){if(S&128){d=ne(k[7]);let g;for(g=0;g<d.length;g+=1){const C=_i(k,d,g);p[g]?p[g].p(C,S):(p[g]=vi(C),p[g].c(),p[g].m(i,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=d.length}if(S&2){m=ne(Object.entries(k[1].stats));let g;for(g=0;g<m.length;g+=1){const C=di(k,m,g);b[g]?b[g].p(C,S):(b[g]=ki(C),b[g].c(),b[g].m(c,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=m.length}},d(k){k&&$(e),Ne(p,k),Ne(b,k)}}}function gi(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S,g;return{c(){var C,T,w,L,F,I;e=_("label"),t=A("Result: "),l=_("input"),s=_("input"),o=_("input"),u=v(),f=_("p"),f.textContent="2. Select where each stat goes:",d=v(),p=_("input"),b=_("input"),S=_("input"),h(l,"type","number"),l.value=i=((C=n[6])==null?void 0:C[0])??0,h(l,"class","svelte-1ybbml6"),h(s,"type","number"),s.value=r=((T=n[6])==null?void 0:T[1])??0,h(s,"class","svelte-1ybbml6"),h(o,"type","number"),o.value=c=((w=n[6])==null?void 0:w[2])??0,h(o,"class","svelte-1ybbml6"),h(p,"type","number"),p.value=m=((L=n[6])==null?void 0:L[0])??0,h(p,"class","svelte-1ybbml6"),h(b,"type","number"),b.value=k=((F=n[6])==null?void 0:F[1])??0,h(b,"class","svelte-1ybbml6"),h(S,"type","number"),S.value=g=((I=n[6])==null?void 0:I[2])??0,h(S,"class","svelte-1ybbml6")},m(C,T){y(C,e,T),a(e,t),a(e,l),a(e,s),a(e,o),y(C,u,T),y(C,f,T),y(C,d,T),y(C,p,T),y(C,b,T),y(C,S,T)},p(C,T){var w,L,F,I,M,N;T&64&&i!==(i=((w=C[6])==null?void 0:w[0])??0)&&l.value!==i&&(l.value=i),T&64&&r!==(r=((L=C[6])==null?void 0:L[1])??0)&&s.value!==r&&(s.value=r),T&64&&c!==(c=((F=C[6])==null?void 0:F[2])??0)&&o.value!==c&&(o.value=c),T&64&&m!==(m=((I=C[6])==null?void 0:I[0])??0)&&p.value!==m&&(p.value=m),T&64&&k!==(k=((M=C[6])==null?void 0:M[1])??0)&&b.value!==k&&(b.value=k),T&64&&g!==(g=((N=C[6])==null?void 0:N[2])??0)&&S.value!==g&&(S.value=g)},d(C){C&&($(e),$(u),$(f),$(d),$(p),$(b),$(S))}}}function vi(n){let e,t,l,i=n[18]+"",s,r,o,c,u,f,d,p;function m(){n[12].call(c,n[22],n[23])}return{c(){e=_("tr"),t=_("td"),l=_("label"),s=A(i),o=_("td"),c=_("input"),f=v(),h(l,"for",r="stat-"+n[18]+"-input"),h(c,"id",u="stat-"+n[18]+"-input"),h(c,"type","number"),h(c,"min","-10"),h(c,"max","10"),h(c,"class","svelte-1ybbml6")},m(b,k){y(b,e,k),a(e,t),a(t,l),a(l,s),a(e,o),a(o,c),ae(c,n[19]),a(e,f),d||(p=Y(c,"input",m),d=!0)},p(b,k){n=b,k&128&&i!==(i=n[18]+"")&&B(s,i),k&128&&r!==(r="stat-"+n[18]+"-input")&&h(l,"for",r),k&128&&u!==(u="stat-"+n[18]+"-input")&&h(c,"id",u),k&128&&Pt(c.value)!==n[19]&&ae(c,n[19])},d(b){b&&$(e),d=!1,p()}}}function ki(n){let e,t,l,i=n[18]+"",s,r,o,c,u,f,d,p;function m(){n[13].call(c,n[20],n[21])}return{c(){e=_("tr"),t=_("td"),l=_("label"),s=A(i),o=_("td"),c=_("input"),f=v(),h(l,"for",r="stat-"+n[18]+"-input"),h(c,"id",u="stat-"+n[18]+"-input"),h(c,"type","number"),h(c,"min","-10"),h(c,"max","10"),h(c,"class","svelte-1ybbml6")},m(b,k){y(b,e,k),a(e,t),a(t,l),a(l,s),a(e,o),a(o,c),ae(c,n[19]),a(e,f),d||(p=Y(c,"input",m),d=!0)},p(b,k){n=b,k&2&&i!==(i=n[18]+"")&&B(s,i),k&2&&r!==(r="stat-"+n[18]+"-input")&&h(l,"for",r),k&2&&u!==(u="stat-"+n[18]+"-input")&&h(c,"id",u),k&2&&Pt(c.value)!==n[19]&&ae(c,n[19])},d(b){b&&$(e),d=!1,p()}}}function Uo(n){let e;function t(s,r){return s[4]?Io:!s[0]||s[3]==null?Do:Ho}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),y(s,e,r)},p(s,[r]){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:H,o:H,d(s){s&&$(e),i.d(s)}}}function Yo(n,e,t){let l,i,s,r,o=H,c=()=>(o(),o=Ht(f,w=>t(3,r=w)),f);n.$$.on_destroy.push(()=>o());let u,{character:f}=e;c(),ln(async()=>{if(!f){t(4,u="Failed to load character");return}});let d="manual";const p=[[-1,2,3],[0,1,3],[0,2,2],[1,1,2],[1,1,3],[1,2,2],[1,1,3],[0,2,3]];let m;const b=()=>{t(5,d="manual")},k=()=>{t(5,d="rand")},S=()=>{t(5,d="buy")};function g(w,L){w[L][1].mod=Pt(this.value),t(7,i),t(2,l),t(3,r)}function C(w,L){w[L][1].mod=Pt(this.value),t(1,s),t(3,r)}const T=()=>{t(6,m=p[Math.floor(Math.random()*p.length)])};return n.$$set=w=>{"character"in w&&c(t(0,f=w.character))},n.$$.update=()=>{n.$$.dirty&8&&t(2,l=r.socialProfile),n.$$.dirty&4&&t(7,i=Object.entries(l.stats)),n.$$.dirty&8&&t(1,s=r.explorerProfile),n.$$.dirty&2&&Object.entries(s.stats)},[f,s,l,r,u,d,m,i,p,b,k,S,g,C,T]}class Go extends ye{constructor(e){super(),$e(this,e,Yo,Uo,be,{character:0})}}function Wo(n){let e,t,l,i,s,r,o,c,u,f,d,p;return s=new rt({props:{to:"/character/"+n[1]+"/build/background",getProps:tl,$$slots:{default:[Vo]},$$scope:{ctx:n}}}),o=new rt({props:{to:"/character/"+n[1]+"/build/class",getProps:tl,$$slots:{default:[Qo]},$$scope:{ctx:n}}}),u=new rt({props:{to:"/character/"+n[1]+"/build/stats",getProps:tl,$$slots:{default:[Xo]},$$scope:{ctx:n}}}),d=new ml({props:{$$slots:{default:[ec]},$$scope:{ctx:n}}}),{c(){e=_("div"),t=_("h4"),t.textContent="Build Steps:",l=v(),i=_("div"),X(s.$$.fragment),r=v(),X(o.$$.fragment),c=v(),X(u.$$.fragment),f=v(),X(d.$$.fragment),h(i,"class","toggle-bg"),h(e,"class","sheet-block svelte-xg27dx"),G(e,"text-align","center")},m(m,b){y(m,e,b),a(e,t),a(e,l),a(e,i),V(s,i,null),a(i,r),V(o,i,null),a(i,c),V(u,i,null),y(m,f,b),V(d,m,b),p=!0},p(m,b){const k={};b&2&&(k.to="/character/"+m[1]+"/build/background"),b&64&&(k.$$scope={dirty:b,ctx:m}),s.$set(k);const S={};b&2&&(S.to="/character/"+m[1]+"/build/class"),b&64&&(S.$$scope={dirty:b,ctx:m}),o.$set(S);const g={};b&2&&(g.to="/character/"+m[1]+"/build/stats"),b&64&&(g.$$scope={dirty:b,ctx:m}),u.$set(g);const C={};b&65&&(C.$$scope={dirty:b,ctx:m}),d.$set(C)},i(m){p||(R(s.$$.fragment,m),R(o.$$.fragment,m),R(u.$$.fragment,m),R(d.$$.fragment,m),p=!0)},o(m){q(s.$$.fragment,m),q(o.$$.fragment,m),q(u.$$.fragment,m),q(d.$$.fragment,m),p=!1},d(m){m&&($(e),$(f)),Q(s),Q(o),Q(u),Q(d,m)}}}function Jo(n){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",h(e,"class","sheet-block svelte-xg27dx")},m(t,l){y(t,e,l)},p:H,i:H,o:H,d(t){t&&$(e)}}}function Ko(n){let e,t,l,i,s,r;return{c(){e=_("div"),t=_("h2"),t.textContent="Cannot Load Social Stats",l=v(),i=_("p"),s=A("Error: "),r=A(n[2]),h(e,"class","sheet-block svelte-xg27dx")},m(o,c){y(o,e,c),a(e,t),a(e,l),a(e,i),a(i,s),a(i,r)},p(o,c){c&4&&B(r,o[2])},i:H,o:H,d(o){o&&$(e)}}}function Vo(n){let e;return{c(){e=A("1. Background")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Qo(n){let e;return{c(){e=A("2. Class")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Xo(n){let e;return{c(){e=A("3. Stats")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Zo(n){let e,t,l;function i(r){n[4](r)}let s={};return n[0]!==void 0&&(s.character=n[0]),e=new us({props:s}),Ee.push(()=>We(e,"character",i)),{c(){X(e.$$.fragment)},m(r,o){V(e,r,o),l=!0},p(r,o){const c={};!t&&o&1&&(t=!0,c.character=r[0],Ge(()=>t=!1)),e.$set(c)},i(r){l||(R(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){Q(e,r)}}}function xo(n){let e,t,l;function i(r){n[5](r)}let s={};return n[0]!==void 0&&(s.character=n[0]),e=new Go({props:s}),Ee.push(()=>We(e,"character",i)),{c(){X(e.$$.fragment)},m(r,o){V(e,r,o),l=!0},p(r,o){const c={};!t&&o&1&&(t=!0,c.character=r[0],Ge(()=>t=!1)),e.$set(c)},i(r){l||(R(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){Q(e,r)}}}function ec(n){let e,t,l,i;return e=new st({props:{path:"/background",$$slots:{default:[Zo]},$$scope:{ctx:n}}}),l=new st({props:{path:"/stats",$$slots:{default:[xo]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment),t=v(),X(l.$$.fragment)},m(s,r){V(e,s,r),y(s,t,r),V(l,s,r),i=!0},p(s,r){const o={};r&65&&(o.$$scope={dirty:r,ctx:s}),e.$set(o);const c={};r&65&&(c.$$scope={dirty:r,ctx:s}),l.$set(c)},i(s){i||(R(e.$$.fragment,s),R(l.$$.fragment,s),i=!0)},o(s){q(e.$$.fragment,s),q(l.$$.fragment,s),i=!1},d(s){s&&$(t),Q(e,s),Q(l,s)}}}function tc(n){let e,t,l,i;const s=[Ko,Jo,Wo],r=[];function o(c,u){return c[2]?0:!c[0]||c[3]==null?1:2}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(c,u){r[e].m(c,u),y(c,l,u),i=!0},p(c,[u]){let f=e;e=o(c),e===f?r[e].p(c,u):(Ae(),q(r[f],1,1,()=>{r[f]=null}),Me(),t=r[e],t?t.p(c,u):(t=r[e]=s[e](c),t.c()),R(t,1),t.m(l.parentNode,l))},i(c){i||(R(t),i=!0)},o(c){q(t),i=!1},d(c){c&&$(l),r[e].d(c)}}}function tl(n){return n.isCurrent?{class:"active"}:{class:""}}function nc(n,e,t){let l,i=H,s=()=>(i(),i=Ht(o,d=>t(3,l=d)),o);n.$$.on_destroy.push(()=>i());let{id:r}=e,{character:o}=e;s();let c;ln(async()=>{t(2,c=o||l==null?void 0:"Failed to load character")});function u(d){o=d,s(t(0,o))}function f(d){o=d,s(t(0,o))}return n.$$set=d=>{"id"in d&&t(1,r=d.id),"character"in d&&s(t(0,o=d.character))},[o,r,c,l,u,f]}class lc extends ye{constructor(e){super(),$e(this,e,nc,tc,be,{id:1,character:0})}}function $i(n,e,t){const l=n.slice();return l[3]=e[t][0],l[4]=e[t][1].mod,l[5]=e[t][1].stat,l}function yi(n,e,t){const l=n.slice();return l[3]=e[t][0],l[4]=e[t][1].mod,l[5]=e[t][1].stat,l}function wi(n,e,t){const l=n.slice();return l[3]=e[t][0],l[4]=e[t][1].mod,l[5]=e[t][1].stat,l}function Ci(n,e,t){const l=n.slice();return l[3]=e[t][0],l[4]=e[t][1].mod,l[5]=e[t][1].stat,l}function Si(n,e,t){const l=n.slice();return l[3]=e[t][0],l[4]=e[t][1].mod,l[5]=e[t][1].stat,l}function Pi(n,e,t){const l=n.slice();return l[5]=e[t][0],l[4]=e[t][1].mod,l}function Oi(n,e,t){const l=n.slice();return l[3]=e[t][0],l[4]=e[t][1].mod,l[5]=e[t][1].stat,l}function ji(n,e,t){const l=n.slice();return l[3]=e[t][0],l[4]=e[t][1].mod,l[5]=e[t][1].stat,l}function Ai(n,e,t){const l=n.slice();return l[5]=e[t][0],l[4]=e[t][1].mod,l}function ic(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S,g,C,T,w,L,F,I,M,N,Z,O,j,U,D,J,x,Pe,se,W,ee=ne(Object.entries(n[2].socialProfile.stats)),te=[];for(let E=0;E<ee.length;E+=1)te[E]=Mi(Ai(n,ee,E));let qe=ne(Object.entries(n[2].socialProfile.passives)),oe=[];for(let E=0;E<qe.length;E+=1)oe[E]=Ei(ji(n,qe,E));let Ce=ne(Object.entries(n[2].socialProfile.sways)),Se=[];for(let E=0;E<Ce.length;E+=1)Se[E]=Li(Oi(n,Ce,E));let Be=ne(Object.entries(n[2].explorerProfile.stats)),he=[];for(let E=0;E<Be.length;E+=1)he[E]=Ni(Pi(n,Be,E));let He=ne(Object.entries(n[2].explorerProfile.saves)),ge=[];for(let E=0;E<He.length;E+=1)ge[E]=Ti(Si(n,He,E));let Te=ne(Object.entries(n[2].explorerProfile.perceptions)),pe=[];for(let E=0;E<Te.length;E+=1)pe[E]=Ri(Ci(n,Te,E));let Le=ne(Object.entries(n[2].explorerProfile.explorations)),me=[];for(let E=0;E<Le.length;E+=1)me[E]=qi(wi(n,Le,E));let Ie=ne(Object.entries(n[2].explorerProfile.knowledges)),ce=[];for(let E=0;E<Ie.length;E+=1)ce[E]=Hi(yi(n,Ie,E));let Fe=ne(Object.entries(n[2].explorerProfile.equipments)),ve=[];for(let E=0;E<Fe.length;E+=1)ve[E]=Di($i(n,Fe,E));return{c(){e=_("div"),t=_("h2"),t.textContent="Social Skills",l=v(),i=_("div"),s=_("div");for(let E=0;E<te.length;E+=1)te[E].c();r=v(),o=_("h4"),o.textContent="Passives",c=v();for(let E=0;E<oe.length;E+=1)oe[E].c();u=v(),f=_("h4"),f.textContent="Sways",d=v();for(let E=0;E<Se.length;E+=1)Se[E].c();p=v(),m=_("p"),m.textContent="Social ability listed here",b=v(),k=_("br"),S=v(),g=_("h2"),g.textContent="Exploration Skills",C=v(),T=_("div"),w=_("div");for(let E=0;E<he.length;E+=1)he[E].c();L=v(),F=_("h4"),F.textContent="Saves",I=v();for(let E=0;E<ge.length;E+=1)ge[E].c();M=v(),N=_("h4"),N.textContent="Perceptions",Z=v();for(let E=0;E<pe.length;E+=1)pe[E].c();O=v(),j=_("h4"),j.textContent="Exploration",U=v();for(let E=0;E<me.length;E+=1)me[E].c();D=v(),J=_("h4"),J.textContent="Knowledge",x=v();for(let E=0;E<ce.length;E+=1)ce[E].c();Pe=v(),se=_("h4"),se.textContent="Equipment",W=v();for(let E=0;E<ve.length;E+=1)ve[E].c();h(o,"class","svelte-1nnq8ue"),h(f,"class","svelte-1nnq8ue"),h(s,"class","roll-grid svelte-1nnq8ue"),h(F,"class","svelte-1nnq8ue"),h(N,"class","svelte-1nnq8ue"),h(j,"class","svelte-1nnq8ue"),h(J,"class","svelte-1nnq8ue"),h(se,"class","svelte-1nnq8ue"),h(w,"class","roll-grid svelte-1nnq8ue"),h(e,"class","sheet-block")},m(E,fe){y(E,e,fe),a(e,t),a(e,l),a(e,i),a(i,s);for(let P=0;P<te.length;P+=1)te[P]&&te[P].m(s,null);a(s,r),a(s,o),a(s,c);for(let P=0;P<oe.length;P+=1)oe[P]&&oe[P].m(s,null);a(s,u),a(s,f),a(s,d);for(let P=0;P<Se.length;P+=1)Se[P]&&Se[P].m(s,null);a(i,p),a(i,m),a(e,b),a(e,k),a(e,S),a(e,g),a(e,C),a(e,T),a(T,w);for(let P=0;P<he.length;P+=1)he[P]&&he[P].m(w,null);a(w,L),a(w,F),a(w,I);for(let P=0;P<ge.length;P+=1)ge[P]&&ge[P].m(w,null);a(w,M),a(w,N),a(w,Z);for(let P=0;P<pe.length;P+=1)pe[P]&&pe[P].m(w,null);a(w,O),a(w,j),a(w,U);for(let P=0;P<me.length;P+=1)me[P]&&me[P].m(w,null);a(w,D),a(w,J),a(w,x);for(let P=0;P<ce.length;P+=1)ce[P]&&ce[P].m(w,null);a(w,Pe),a(w,se),a(w,W);for(let P=0;P<ve.length;P+=1)ve[P]&&ve[P].m(w,null)},p(E,fe){if(fe&4){ee=ne(Object.entries(E[2].socialProfile.stats));let P;for(P=0;P<ee.length;P+=1){const re=Ai(E,ee,P);te[P]?te[P].p(re,fe):(te[P]=Mi(re),te[P].c(),te[P].m(s,r))}for(;P<te.length;P+=1)te[P].d(1);te.length=ee.length}if(fe&4){qe=ne(Object.entries(E[2].socialProfile.passives));let P;for(P=0;P<qe.length;P+=1){const re=ji(E,qe,P);oe[P]?oe[P].p(re,fe):(oe[P]=Ei(re),oe[P].c(),oe[P].m(s,u))}for(;P<oe.length;P+=1)oe[P].d(1);oe.length=qe.length}if(fe&4){Ce=ne(Object.entries(E[2].socialProfile.sways));let P;for(P=0;P<Ce.length;P+=1){const re=Oi(E,Ce,P);Se[P]?Se[P].p(re,fe):(Se[P]=Li(re),Se[P].c(),Se[P].m(s,null))}for(;P<Se.length;P+=1)Se[P].d(1);Se.length=Ce.length}if(fe&4){Be=ne(Object.entries(E[2].explorerProfile.stats));let P;for(P=0;P<Be.length;P+=1){const re=Pi(E,Be,P);he[P]?he[P].p(re,fe):(he[P]=Ni(re),he[P].c(),he[P].m(w,L))}for(;P<he.length;P+=1)he[P].d(1);he.length=Be.length}if(fe&4){He=ne(Object.entries(E[2].explorerProfile.saves));let P;for(P=0;P<He.length;P+=1){const re=Si(E,He,P);ge[P]?ge[P].p(re,fe):(ge[P]=Ti(re),ge[P].c(),ge[P].m(w,M))}for(;P<ge.length;P+=1)ge[P].d(1);ge.length=He.length}if(fe&4){Te=ne(Object.entries(E[2].explorerProfile.perceptions));let P;for(P=0;P<Te.length;P+=1){const re=Ci(E,Te,P);pe[P]?pe[P].p(re,fe):(pe[P]=Ri(re),pe[P].c(),pe[P].m(w,O))}for(;P<pe.length;P+=1)pe[P].d(1);pe.length=Te.length}if(fe&4){Le=ne(Object.entries(E[2].explorerProfile.explorations));let P;for(P=0;P<Le.length;P+=1){const re=wi(E,Le,P);me[P]?me[P].p(re,fe):(me[P]=qi(re),me[P].c(),me[P].m(w,D))}for(;P<me.length;P+=1)me[P].d(1);me.length=Le.length}if(fe&4){Ie=ne(Object.entries(E[2].explorerProfile.knowledges));let P;for(P=0;P<Ie.length;P+=1){const re=yi(E,Ie,P);ce[P]?ce[P].p(re,fe):(ce[P]=Hi(re),ce[P].c(),ce[P].m(w,Pe))}for(;P<ce.length;P+=1)ce[P].d(1);ce.length=Ie.length}if(fe&4){Fe=ne(Object.entries(E[2].explorerProfile.equipments));let P;for(P=0;P<Fe.length;P+=1){const re=$i(E,Fe,P);ve[P]?ve[P].p(re,fe):(ve[P]=Di(re),ve[P].c(),ve[P].m(w,null))}for(;P<ve.length;P+=1)ve[P].d(1);ve.length=Fe.length}},d(E){E&&$(e),Ne(te,E),Ne(oe,E),Ne(Se,E),Ne(he,E),Ne(ge,E),Ne(pe,E),Ne(me,E),Ne(ce,E),Ne(ve,E)}}}function sc(n){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",h(e,"class","sheet-block")},m(t,l){y(t,e,l)},p:H,d(t){t&&$(e)}}}function rc(n){let e,t,l,i,s,r;return{c(){e=_("div"),t=_("h2"),t.textContent="Cannot Load Social Stats",l=v(),i=_("p"),s=A("Error: "),r=A(n[1]),h(e,"class","sheet-block")},m(o,c){y(o,e,c),a(e,t),a(e,l),a(e,i),a(i,s),a(i,r)},p(o,c){c&2&&B(r,o[1])},d(o){o&&$(e)}}}function Mi(n){let e,t,l=n[5]+"",i,s,r,o,c=n[4]+"",u;return{c(){e=_("div"),t=_("p"),i=A(l),s=v(),r=_("button"),o=A("+"),u=A(c),G(t,"text-align","center"),h(t,"class","svelte-1nnq8ue"),h(r,"class","passive-button svelte-1nnq8ue"),h(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){y(f,e,d),a(e,t),a(t,i),a(e,s),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[5]+"")&&B(i,l),d&4&&c!==(c=f[4]+"")&&B(u,c)},d(f){f&&$(e)}}}function Ei(n){let e,t,l=n[3]+"",i,s,r,o,c=8+n[4]+n[2].socialProfile.stats[n[5]].mod+"",u;return{c(){e=_("div"),t=_("p"),i=A(l),s=v(),r=_("button"),o=A(">"),u=A(c),h(t,"class","svelte-1nnq8ue"),h(r,"class","passive-button svelte-1nnq8ue"),h(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){y(f,e,d),a(e,t),a(t,i),a(e,s),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&B(i,l),d&4&&c!==(c=8+f[4]+f[2].socialProfile.stats[f[5]].mod+"")&&B(u,c)},d(f){f&&$(e)}}}function Li(n){let e,t,l=n[3]+"",i,s,r,o,c=n[4]+n[2].socialProfile.stats[n[5]].mod+"",u,f;return{c(){e=_("div"),t=_("p"),i=A(l),s=v(),r=_("button"),o=A("+"),u=A(c),f=v(),h(t,"class","svelte-1nnq8ue"),h(r,"class","skill-button svelte-1nnq8ue"),h(e,"class","grid-stat svelte-1nnq8ue")},m(d,p){y(d,e,p),a(e,t),a(t,i),a(e,s),a(e,r),a(r,o),a(r,u),a(e,f)},p(d,p){p&4&&l!==(l=d[3]+"")&&B(i,l),p&4&&c!==(c=d[4]+d[2].socialProfile.stats[d[5]].mod+"")&&B(u,c)},d(d){d&&$(e)}}}function Ni(n){let e,t,l=n[5]+"",i,s,r,o,c=n[4]+"",u;return{c(){e=_("div"),t=_("p"),i=A(l),s=v(),r=_("button"),o=A("+"),u=A(c),G(t,"text-align","center"),h(t,"class","svelte-1nnq8ue"),h(r,"class","passive-button svelte-1nnq8ue"),h(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){y(f,e,d),a(e,t),a(t,i),a(e,s),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[5]+"")&&B(i,l),d&4&&c!==(c=f[4]+"")&&B(u,c)},d(f){f&&$(e)}}}function Ti(n){let e,t,l=n[3]+"",i,s,r,o,c=8+n[4]+n[2].explorerProfile.stats[n[5]].mod+"",u;return{c(){e=_("div"),t=_("p"),i=A(l),s=v(),r=_("button"),o=A(">"),u=A(c),h(t,"class","svelte-1nnq8ue"),h(r,"class","passive-button svelte-1nnq8ue"),h(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){y(f,e,d),a(e,t),a(t,i),a(e,s),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&B(i,l),d&4&&c!==(c=8+f[4]+f[2].explorerProfile.stats[f[5]].mod+"")&&B(u,c)},d(f){f&&$(e)}}}function Ri(n){let e,t,l=n[3]+"",i,s,r,o,c=8+n[4]+n[2].explorerProfile.stats[n[5]].mod+"",u;return{c(){e=_("div"),t=_("p"),i=A(l),s=v(),r=_("button"),o=A(">"),u=A(c),h(t,"class","svelte-1nnq8ue"),h(r,"class","passive-button svelte-1nnq8ue"),h(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){y(f,e,d),a(e,t),a(t,i),a(e,s),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&B(i,l),d&4&&c!==(c=8+f[4]+f[2].explorerProfile.stats[f[5]].mod+"")&&B(u,c)},d(f){f&&$(e)}}}function qi(n){let e,t,l=n[3]+"",i,s,r,o,c=n[4]+n[2].explorerProfile.stats[n[5]].mod+"",u;return{c(){e=_("div"),t=_("p"),i=A(l),s=v(),r=_("button"),o=A("+"),u=A(c),h(t,"class","svelte-1nnq8ue"),h(r,"class","skill-button svelte-1nnq8ue"),h(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){y(f,e,d),a(e,t),a(t,i),a(e,s),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&B(i,l),d&4&&c!==(c=f[4]+f[2].explorerProfile.stats[f[5]].mod+"")&&B(u,c)},d(f){f&&$(e)}}}function Hi(n){let e,t,l=n[3]+"",i,s,r,o,c=n[4]+n[2].explorerProfile.stats[n[5]].mod+"",u;return{c(){e=_("div"),t=_("p"),i=A(l),s=v(),r=_("button"),o=A("+"),u=A(c),h(t,"class","svelte-1nnq8ue"),h(r,"class","skill-button svelte-1nnq8ue"),h(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){y(f,e,d),a(e,t),a(t,i),a(e,s),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&B(i,l),d&4&&c!==(c=f[4]+f[2].explorerProfile.stats[f[5]].mod+"")&&B(u,c)},d(f){f&&$(e)}}}function Di(n){let e,t,l=n[3]+"",i,s,r,o,c=n[4]+n[2].explorerProfile.stats[n[5]].mod+"",u,f;return{c(){e=_("div"),t=_("p"),i=A(l),s=v(),r=_("button"),o=A("+"),u=A(c),f=v(),h(t,"class","svelte-1nnq8ue"),h(r,"class","skill-button svelte-1nnq8ue"),h(e,"class","grid-stat svelte-1nnq8ue")},m(d,p){y(d,e,p),a(e,t),a(t,i),a(e,s),a(e,r),a(r,o),a(r,u),a(e,f)},p(d,p){p&4&&l!==(l=d[3]+"")&&B(i,l),p&4&&c!==(c=d[4]+d[2].explorerProfile.stats[d[5]].mod+"")&&B(u,c)},d(d){d&&$(e)}}}function oc(n){let e;function t(s,r){return s[1]?rc:!s[0]||s[2]==null?sc:ic}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),y(s,e,r)},p(s,[r]){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:H,o:H,d(s){s&&$(e),i.d(s)}}}function cc(n,e,t){let l,i=H,s=()=>(i(),i=Ht(o,c=>t(2,l=c)),o);n.$$.on_destroy.push(()=>i());let r,{character:o}=e;return s(),ln(async()=>{if(!o){t(1,r="Failed to load character");return}}),n.$$set=c=>{"character"in c&&s(t(0,o=c.character))},[o,r,l]}class ac extends ye{constructor(e){super(),$e(this,e,cc,oc,be,{character:0})}}function uc(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S;const g=[pc,_c],C=[];function T(w,L){return w[2]==0?0:w[2]==1?1:-1}return~(d=T(n))&&(p=C[d]=g[d](n)),{c(){e=_("div"),t=_("div"),l=_("button"),l.textContent="Skills",i=v(),s=_("button"),s.textContent="Actitons",r=v(),o=_("button"),o.textContent="Inventory",c=v(),u=_("button"),u.textContent="Inventory",f=v(),p&&p.c(),m=ke(),G(t,"display","flex"),G(t,"flex-wrap","wrap"),G(t,"justify-content","center"),G(t,"border","2px solid #222222"),G(t,"padding","2px"),G(t,"border-radius","5px"),h(e,"class","sheet-block"),G(e,"display","flex"),G(e,"flex-direction","row"),G(e,"flex-wrap","nowrap"),G(e,"justify-content","center")},m(w,L){y(w,e,L),a(e,t),a(t,l),a(t,i),a(t,s),a(t,r),a(t,o),a(t,c),a(t,u),y(w,f,L),~d&&C[d].m(w,L),y(w,m,L),b=!0,k||(S=[Y(l,"click",n[5]),Y(s,"click",n[6]),Y(o,"click",n[7]),Y(u,"click",n[8])],k=!0)},p(w,L){let F=d;d=T(w),d===F?~d&&C[d].p(w,L):(p&&(Ae(),q(C[F],1,1,()=>{C[F]=null}),Me()),~d?(p=C[d],p?p.p(w,L):(p=C[d]=g[d](w),p.c()),R(p,1),p.m(m.parentNode,m)):p=null)},i(w){b||(R(p),b=!0)},o(w){q(p),b=!1},d(w){w&&($(e),$(f),$(m)),~d&&C[d].d(w),k=!1,we(S)}}}function fc(n){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",h(e,"class","page")},m(t,l){y(t,e,l)},p:H,i:H,o:H,d(t){t&&$(e)}}}function dc(n){let e,t;return{c(){e=_("div"),t=A(n[1]),h(e,"class","sheet-block")},m(l,i){y(l,e,i),a(e,t)},p(l,i){i&2&&B(t,l[1])},i:H,o:H,d(l){l&&$(e)}}}function _c(n){let e,t,l;function i(r){n[10](r)}let s={};return n[0]!==void 0&&(s.character=n[0]),e=new ac({props:s}),Ee.push(()=>We(e,"character",i)),{c(){X(e.$$.fragment)},m(r,o){V(e,r,o),l=!0},p(r,o){const c={};!t&&o&1&&(t=!0,c.character=r[0],Ge(()=>t=!1)),e.$set(c)},i(r){l||(R(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){Q(e,r)}}}function pc(n){let e,t,l;function i(r){n[9](r)}let s={};return n[0]!==void 0&&(s.character=n[0]),e=new us({props:s}),Ee.push(()=>We(e,"character",i)),{c(){X(e.$$.fragment)},m(r,o){V(e,r,o),l=!0},p(r,o){const c={};!t&&o&1&&(t=!0,c.character=r[0],Ge(()=>t=!1)),e.$set(c)},i(r){l||(R(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){Q(e,r)}}}function hc(n){let e,t,l,i;const s=[dc,fc,uc],r=[];function o(c,u){return c[1]?0:!c[0]||c[3]==null?1:2}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(c,u){r[e].m(c,u),y(c,l,u),i=!0},p(c,[u]){let f=e;e=o(c),e===f?r[e].p(c,u):(Ae(),q(r[f],1,1,()=>{r[f]=null}),Me(),t=r[e],t?t.p(c,u):(t=r[e]=s[e](c),t.c()),R(t,1),t.m(l.parentNode,l))},i(c){i||(R(t),i=!0)},o(c){q(t),i=!1},d(c){c&&$(l),r[e].d(c)}}}function mc(n,e,t){let l,i=H,s=()=>(i(),i=Ht(o,S=>t(3,l=S)),o);n.$$.on_destroy.push(()=>i());let{id:r}=e,{character:o}=e;s();let c;ln(async()=>{t(1,c=o||l==null?void 0:"Failed to load character")});let u=1;const f=()=>t(2,u=1),d=()=>t(2,u=1),p=()=>t(2,u=1),m=()=>t(2,u=1);function b(S){o=S,s(t(0,o))}function k(S){o=S,s(t(0,o))}return n.$$set=S=>{"id"in S&&t(4,r=S.id),"character"in S&&s(t(0,o=S.character))},[o,c,u,l,r,f,d,p,m,b,k]}class bc extends ye{constructor(e){super(),$e(this,e,mc,hc,be,{id:4,character:0})}}function gc(n){let e,t,l,i=(n[2].name&&n[2].name.length>0?n[2].name:"Unnamed Character")+"",s,r,o,c,u,f,d,p,m,b,k;return c=new rt({props:{to:"/character/"+n[0]+"/build",getProps:Ii,$$slots:{default:[kc]},$$scope:{ctx:n}}}),f=new rt({props:{to:"/character/"+n[0]+"/play",getProps:Ii,$$slots:{default:[$c]},$$scope:{ctx:n}}}),b=new ml({props:{$$slots:{default:[Cc]},$$scope:{ctx:n}}}),{c(){e=_("div"),t=_("div"),l=_("p"),s=A(i),r=v(),o=_("div"),X(c.$$.fragment),u=v(),X(f.$$.fragment),d=v(),p=_("div"),p.textContent="HP Display",m=v(),X(b.$$.fragment),h(l,"id","name-label"),h(l,"class","svelte-104cvdj"),h(o,"class","toggle-bg"),G(t,"display","flex"),G(t,"flex-direction","column"),h(e,"class","sheet-block"),G(e,"display","flex"),G(e,"flex-direction","row"),G(e,"flex-wrap","nowrap")},m(S,g){y(S,e,g),a(e,t),a(t,l),a(l,s),a(t,r),a(t,o),V(c,o,null),a(o,u),V(f,o,null),a(e,d),a(e,p),y(S,m,g),V(b,S,g),k=!0},p(S,g){(!k||g&4)&&i!==(i=(S[2].name&&S[2].name.length>0?S[2].name:"Unnamed Character")+"")&&B(s,i);const C={};g&1&&(C.to="/character/"+S[0]+"/build"),g&128&&(C.$$scope={dirty:g,ctx:S}),c.$set(C);const T={};g&1&&(T.to="/character/"+S[0]+"/play"),g&128&&(T.$$scope={dirty:g,ctx:S}),f.$set(T);const w={};g&131&&(w.$$scope={dirty:g,ctx:S}),b.$set(w)},i(S){k||(R(c.$$.fragment,S),R(f.$$.fragment,S),R(b.$$.fragment,S),k=!0)},o(S){q(c.$$.fragment,S),q(f.$$.fragment,S),q(b.$$.fragment,S),k=!1},d(S){S&&($(e),$(m)),Q(c),Q(f),Q(b,S)}}}function vc(n){let e;return{c(){e=_("div"),e.innerHTML='<h2 class="svelte-104cvdj">Loading...</h2>',h(e,"class","page")},m(t,l){y(t,e,l)},p:H,i:H,o:H,d(t){t&&$(e)}}}function kc(n){let e;return{c(){e=A("Build")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function $c(n){let e;return{c(){e=A("Play")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function yc(n){let e,t,l,i;function s(c){n[3](c)}function r(c){n[4](c)}let o={};return n[0]!==void 0&&(o.id=n[0]),n[1]!==void 0&&(o.character=n[1]),e=new lc({props:o}),Ee.push(()=>We(e,"id",s)),Ee.push(()=>We(e,"character",r)),{c(){X(e.$$.fragment)},m(c,u){V(e,c,u),i=!0},p(c,u){const f={};!t&&u&1&&(t=!0,f.id=c[0],Ge(()=>t=!1)),!l&&u&2&&(l=!0,f.character=c[1],Ge(()=>l=!1)),e.$set(f)},i(c){i||(R(e.$$.fragment,c),i=!0)},o(c){q(e.$$.fragment,c),i=!1},d(c){Q(e,c)}}}function wc(n){let e,t,l,i;function s(c){n[5](c)}function r(c){n[6](c)}let o={};return n[0]!==void 0&&(o.id=n[0]),n[1]!==void 0&&(o.character=n[1]),e=new bc({props:o}),Ee.push(()=>We(e,"id",s)),Ee.push(()=>We(e,"character",r)),{c(){X(e.$$.fragment)},m(c,u){V(e,c,u),i=!0},p(c,u){const f={};!t&&u&1&&(t=!0,f.id=c[0],Ge(()=>t=!1)),!l&&u&2&&(l=!0,f.character=c[1],Ge(()=>l=!1)),e.$set(f)},i(c){i||(R(e.$$.fragment,c),i=!0)},o(c){q(e.$$.fragment,c),i=!1},d(c){Q(e,c)}}}function Cc(n){let e,t,l,i;return e=new st({props:{path:"/build/*",$$slots:{default:[yc]},$$scope:{ctx:n}}}),l=new st({props:{path:"/play/*",$$slots:{default:[wc]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment),t=v(),X(l.$$.fragment)},m(s,r){V(e,s,r),y(s,t,r),V(l,s,r),i=!0},p(s,r){const o={};r&131&&(o.$$scope={dirty:r,ctx:s}),e.$set(o);const c={};r&131&&(c.$$scope={dirty:r,ctx:s}),l.$set(c)},i(s){i||(R(e.$$.fragment,s),R(l.$$.fragment,s),i=!0)},o(s){q(e.$$.fragment,s),q(l.$$.fragment,s),i=!1},d(s){s&&$(t),Q(e,s),Q(l,s)}}}function Sc(n){let e,t,l,i;const s=[vc,gc],r=[];function o(c,u){return!c[1]||c[2]==null?0:1}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(c,u){r[e].m(c,u),y(c,l,u),i=!0},p(c,[u]){let f=e;e=o(c),e===f?r[e].p(c,u):(Ae(),q(r[f],1,1,()=>{r[f]=null}),Me(),t=r[e],t?t.p(c,u):(t=r[e]=s[e](c),t.c()),R(t,1),t.m(l.parentNode,l))},i(c){i||(R(t),i=!0)},o(c){q(t),i=!1},d(c){c&&$(l),r[e].d(c)}}}function Ii(n){let{location:e,href:t,isPartiallyCurrent:l,isCurrent:i}=n;return i||l?{class:"active"}:{class:""}}function Pc(n,e,t){let l,i=H,s=()=>(i(),i=Ht(o,p=>t(2,l=p)),o);n.$$.on_destroy.push(()=>i());let{id:r=mn}=e,o;ln(async()=>{if(window.location.pathname.endsWith(`/character/${r}`)||window.location.pathname.endsWith(`/character/${r}/`)){console.log("redirecting to play view"),Cn(`/character/${r}/play`,{replace:!0});return}if(r!=="local"&&!Wn(r)){console.error("Failed to load character iwht id '"+r+"'"),Cn("/characters");return}});function c(p){r=p,t(0,r)}function u(p){o=p,s(t(1,o))}function f(p){r=p,t(0,r)}function d(p){o=p,s(t(1,o))}return n.$$set=p=>{"id"in p&&t(0,r=p.id)},n.$$.update=()=>{n.$$.dirty&1&&console.log("id = '"+r+"'"),n.$$.dirty&1&&s(t(1,o=r=="local"?Nr:Tr(r)))},[r,o,l,c,u,f,d]}class Oc extends ye{constructor(e){super(),$e(this,e,Pc,Sc,be,{id:0})}}function Fi(n,e,t){const l=n.slice();return l[5]=e[t][0],l[6]=e[t][1],l[8]=t,l}function zi(n){let e,t,l,i,s,r,o,c,u,f,d,p;return{c(){e=_("div"),t=_("h1"),t.textContent="Characters",l=v(),i=_("p"),i.textContent="You are not logged into an account.",s=v(),r=_("p"),r.innerHTML=`You can try Hammer and Steel&#39;s character sheet without an account.<br/>
            Creating a character sheet without an account means it is <b>not</b> stored on our servers.
            You will only be able to access it on this device and it will not be backed up or secured.<br/>
            To store a character on our server, to be accessed from anywhere, you&#39;ll need to create an account and save the character to your account.`,o=v(),c=_("br"),u=v(),f=_("a"),f.textContent="Try the Character Forge",G(r,"text-align","left"),h(f,"class","button"),h(f,"href","/character/local"),h(e,"class","page")},m(m,b){y(m,e,b),a(e,t),a(e,l),a(e,i),a(e,s),a(e,r),a(e,o),a(e,c),a(e,u),a(e,f),d||(p=al(bl.call(null,f)),d=!0)},d(m){m&&$(e),d=!1,p()}}}function jc(n){let e,t=ne(Object.entries(n[1])),l=[];for(let i=0;i<t.length;i+=1)l[i]=Bi(Fi(n,t,i));return{c(){e=_("div");for(let i=0;i<l.length;i+=1)l[i].c();h(e,"class","char-list svelte-122uifz")},m(i,s){y(i,e,s);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(i,s){if(s&2){t=ne(Object.entries(i[1]));let r;for(r=0;r<t.length;r+=1){const o=Fi(i,t,r);l[r]?l[r].p(o,s):(l[r]=Bi(o),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(i){i&&$(e),Ne(l,i)}}}function Ac(n){let e;return{c(){e=A("No characters exist yet.")},m(t,l){y(t,e,l)},p:H,d(t){t&&$(e)}}}function Bi(n){let e,t=n[6].name+"",l,i,s;return{c(){e=_("a"),l=A(t),h(e,"href","/character/"+n[5]),h(e,"class","button-outlined char-button svelte-122uifz")},m(r,o){y(r,e,o),a(e,l),i||(s=al(bl.call(null,e)),i=!0)},p:H,d(r){r&&$(e),i=!1,s()}}}function Mc(n){let e,t,l,i,s,r,o,c,u,f,d,p,m=n[0]===null&&zi();function b(g,C){return Object.keys(g[1]).length==0?Ac:jc}let S=b(n)(n);return{c(){m&&m.c(),e=v(),t=_("div"),l=_("h1"),l.textContent="Characters:",i=v(),S.c(),s=v(),r=_("br"),o=v(),c=_("button"),c.textContent="+",u=v(),f=_("br"),h(c,"class","button"),h(t,"class","page")},m(g,C){m&&m.m(g,C),y(g,e,C),y(g,t,C),a(t,l),a(t,i),S.m(t,null),a(t,s),a(t,r),a(t,o),a(t,c),a(t,u),a(t,f),d||(p=Y(c,"click",n[2]),d=!0)},p(g,[C]){g[0]===null?m||(m=zi(),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),S.p(g,C)},i:H,o:H,d(g){g&&($(e),$(t)),m&&m.d(g),S.d(),d=!1,p()}}}function Ec(n,e,t){let l,i;Ye(n,ol,c=>t(4,l=c)),Ye(n,ut,c=>t(0,i=c));let{location:s=""}=e,r=l;function o(){ol.create(c=>{console.log("Navigating to '/character/"+c+"'"),Cn("/character/"+c)})}return n.$$set=c=>{"location"in c&&t(3,s=c.location)},[i,r,o,s]}class Lc extends ye{constructor(e){super(),$e(this,e,Ec,Mc,be,{location:3})}}function Ui(n,e,t){const l=n.slice();return l[17]=e[t],l[18]=e,l[19]=t,l}function Yi(n,e,t){const l=n.slice();return l[20]=e[t],l}function Nc(n){let e=n[2][n[20]]+"",t,l,i;return{c(){t=A(e),l=A("d"),i=A(n[20])},m(s,r){y(s,t,r),y(s,l,r),y(s,i,r)},p(s,r){r&4&&e!==(e=s[2][s[20]]+"")&&B(t,e)},d(s){s&&($(t),$(l),$(i))}}}function Tc(n){let e=n[2][n[20]]+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&4&&e!==(e=l[2][l[20]]+"")&&B(t,e)},d(l){l&&$(t)}}}function Rc(n){let e,t;return{c(){e=A("d"),t=A(n[20])},m(l,i){y(l,e,i),y(l,t,i)},p:H,d(l){l&&($(e),$(t))}}}function Gi(n){let e,t,l;function i(c,u){return(c[2][c[20]]??0)==0?Rc:c[2][c[20]]>9?Tc:Nc}let s=i(n),r=s(n);function o(){return n[9](n[20])}return{c(){e=_("button"),r.c(),h(e,"type","button"),h(e,"class","die-button svelte-90mbn5"),G(e,"background-image","url('/img/dice/d"+n[20]+"-inverted.svg')")},m(c,u){y(c,e,u),r.m(e,null),t||(l=Y(e,"click",o),t=!0)},p(c,u){n=c,s===(s=i(n))&&r?r.p(n,u):(r.d(1),r=s(n),r&&(r.c(),r.m(e,null)))},d(c){c&&$(e),r.d(),t=!1,l()}}}function qc(n){let e=n[2][-1]+"",t,l;return{c(){t=A(e),l=A("dF")},m(i,s){y(i,t,s),y(i,l,s)},p(i,s){s&4&&e!==(e=i[2][-1]+"")&&B(t,e)},d(i){i&&($(t),$(l))}}}function Hc(n){let e=n[2][-1]+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&4&&e!==(e=l[2][-1]+"")&&B(t,e)},d(l){l&&$(t)}}}function Dc(n){let e;return{c(){e=A("dF")},m(t,l){y(t,e,l)},p:H,d(t){t&&$(e)}}}function Wi(n,e){let t,l,i=e[19],s,r,o;const c=()=>e[11](l,i),u=()=>e[11](null,i);function f(m){e[12](m,e[17])}function d(m){e[13](m,e[17])}let p={faces:e[17].faces};return e[17].result!==void 0&&(p.result=e[17].result),e[17].active!==void 0&&(p.active=e[17].active),l=new ze({props:p}),c(),Ee.push(()=>We(l,"result",f)),Ee.push(()=>We(l,"active",d)),{key:n,first:null,c(){t=ke(),X(l.$$.fragment),this.first=t},m(m,b){y(m,t,b),V(l,m,b),o=!0},p(m,b){e=m,i!==e[19]&&(u(),i=e[19],c());const k={};b&1&&(k.faces=e[17].faces),!s&&b&1&&(s=!0,k.result=e[17].result,Ge(()=>s=!1)),!r&&b&1&&(r=!0,k.active=e[17].active,Ge(()=>r=!1)),l.$set(k)},i(m){o||(R(l.$$.fragment,m),o=!0)},o(m){q(l.$$.fragment,m),o=!1},d(m){m&&$(t),u(),Q(l,m)}}}function Ic(n){let e;return{c(){e=A("SELECTION SUMMARY")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Fc(n){let e;return{c(){e=A("SUMMARY")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function zc(n){let e=n[2].activeSum+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&4&&e!==(e=l[2].activeSum+"")&&B(t,e)},d(l){l&&$(t)}}}function Bc(n){let e=n[2].sum+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&4&&e!==(e=l[2].sum+"")&&B(t,e)},d(l){l&&$(t)}}}function Uc(n){let e;return{c(){e=A("0")},m(t,l){y(t,e,l)},p:H,d(t){t&&$(e)}}}function Yc(n){let e;function t(s,r){return s[2].active==0?Wc:Gc}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),y(s,e,r)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&$(e),i.d(s)}}}function Gc(n){let e=n[2].activeLow+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&4&&e!==(e=l[2].activeLow+"")&&B(t,e)},d(l){l&&$(t)}}}function Wc(n){let e=n[2].low+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&4&&e!==(e=l[2].low+"")&&B(t,e)},d(l){l&&$(t)}}}function Jc(n){let e;return{c(){e=A("0")},m(t,l){y(t,e,l)},p:H,d(t){t&&$(e)}}}function Kc(n){let e;function t(s,r){return s[2].active==0?Qc:Vc}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),y(s,e,r)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&$(e),i.d(s)}}}function Vc(n){let e=n[2].activeHigh+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&4&&e!==(e=l[2].activeHigh+"")&&B(t,e)},d(l){l&&$(t)}}}function Qc(n){let e=n[2].high+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&4&&e!==(e=l[2].high+"")&&B(t,e)},d(l){l&&$(t)}}}function Xc(n){let e=n[2].activeSum+n[3]+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&12&&e!==(e=l[2].activeSum+l[3]+"")&&B(t,e)},d(l){l&&$(t)}}}function Zc(n){let e=n[2].sum+n[3]+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&12&&e!==(e=l[2].sum+l[3]+"")&&B(t,e)},d(l){l&&$(t)}}}function xc(n){let e;return{c(){e=A(n[3])},m(t,l){y(t,e,l)},p(t,l){l&8&&B(e,t[3])},d(t){t&&$(e)}}}function ea(n){let e;function t(s,r){return s[2].active==0?na:ta}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),y(s,e,r)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&$(e),i.d(s)}}}function ta(n){let e=n[2].activeLow+n[3]+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&12&&e!==(e=l[2].activeLow+l[3]+"")&&B(t,e)},d(l){l&&$(t)}}}function na(n){let e=n[2].low+n[3]+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&12&&e!==(e=l[2].low+l[3]+"")&&B(t,e)},d(l){l&&$(t)}}}function la(n){let e;return{c(){e=A(n[3])},m(t,l){y(t,e,l)},p(t,l){l&8&&B(e,t[3])},d(t){t&&$(e)}}}function ia(n){let e;function t(s,r){return s[2].active==0?ra:sa}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),y(s,e,r)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&$(e),i.d(s)}}}function sa(n){let e=n[2].activeHigh+n[3]+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&12&&e!==(e=l[2].activeHigh+l[3]+"")&&B(t,e)},d(l){l&&$(t)}}}function ra(n){let e=n[2].high+n[3]+"",t;return{c(){t=A(e)},m(l,i){y(l,t,i)},p(l,i){i&12&&e!==(e=l[2].high+l[3]+"")&&B(t,e)},d(l){l&&$(t)}}}function oa(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k=n[1].length+"",S,g,C,T,w=n[2].active+"",L,F,I,M,N=n[2].active==0?"Clear All":"Clear "+String(n[2].active),Z,O,j,U,D=n[2].active==n[0].length?"Select None":"Select All",J,x,Pe,se,W=n[2].active==0?"Reroll All":"Reroll "+String(n[2].active),ee,te,qe,oe,Ce=[],Se=new Map,Be,he,He,ge,Te,pe,Le,me,Ie,ce,Fe,ve,E,fe,P,re,Je,ie,de,Ke,pt,Oe,ht,Ot,rn,Wt,jt,xe,At,et,Jt,Mt,dt,ot,vn,ct,kn,tt,nt,Dt,Et,mt,Kt,Lt,at,Nt,bt,Re,on,Vt,cn=ne([2,4,6,8,10,12,20]),Ue=[];for(let z=0;z<7;z+=1)Ue[z]=Gi(Yi(n,cn,z));function Ve(z,le){return(z[2][-1]??0)==0?Dc:z[2][-1]>9?Hc:qc}let It=Ve(n),lt=It(n),Ft=ne(n[0]);const Qt=z=>z[17].id;for(let z=0;z<Ft.length;z+=1){let le=Ui(n,Ft,z),je=Qt(le);Se.set(je,Ce[z]=Wi(je,le))}function it(z,le){return z[2].active==0?Fc:Ic}let gt=it(n),_t=gt(n);function K(z,le){return z[2].active==0?Bc:zc}let _e=K(n),De=_e(n);function gl(z,le){return z[2].low!=1/0?Yc:Uc}let Sn=gl(n),vt=Sn(n);function vl(z,le){return z[2].low!=1/0?Kc:Jc}let Pn=vl(n),kt=Pn(n);function kl(z,le){return z[2].active==0?Zc:Xc}let On=kl(n),$t=On(n);function $l(z,le){return z[2].low!=1/0?ea:xc}let jn=$l(n),yt=jn(n);function yl(z,le){return z[2].low!=1/0?ia:la}let An=yl(n),wt=An(n);return{c(){e=_("div"),t=_("h1"),t.textContent="Dice Roller",l=v(),i=_("h3"),i.textContent="ADD DICE",s=v(),r=_("hr"),o=v(),c=_("div");for(let z=0;z<7;z+=1)Ue[z].c();u=v(),f=_("button"),lt.c(),d=v(),p=_("div"),m=_("span"),b=A("Total:Â "),S=A(k),g=v(),C=_("span"),T=A("Selected:Â "),L=A(w),F=v(),I=_("div"),M=_("button"),Z=A(N),j=v(),U=_("button"),J=A(D),Pe=v(),se=_("button"),ee=A(W),qe=v(),oe=_("div");for(let z=0;z<Ce.length;z+=1)Ce[z].c();Be=v(),he=_("h3"),_t.c(),He=v(),ge=_("hr"),Te=v(),pe=_("div"),Le=_("div"),me=_("h4"),me.textContent="SUM",Ie=v(),ce=_("h3"),De.c(),Fe=v(),ve=_("div"),E=_("div"),fe=_("h4"),fe.textContent="LOW",P=v(),re=_("h3"),vt.c(),Je=v(),ie=_("div"),de=_("h4"),de.textContent="HIGH",Ke=v(),pt=_("h3"),kt.c(),Oe=v(),ht=_("h3"),ht.textContent="MODIFIER",Ot=v(),rn=_("hr"),Wt=v(),jt=_("div"),xe=_("input"),At=v(),et=_("input"),Jt=v(),Mt=_("div"),dt=_("div"),ot=_("h4"),ot.textContent="SUM",vn=v(),ct=_("h3"),$t.c(),kn=v(),tt=_("div"),nt=_("div"),Dt=_("h4"),Dt.textContent="LOW",Et=v(),mt=_("h3"),yt.c(),Kt=v(),Lt=_("div"),at=_("h4"),at.textContent="HIGH",Nt=v(),bt=_("h3"),wt.c(),G(i,"margin-bottom","0"),h(r,"class","underule svelte-90mbn5"),h(f,"type","button"),h(f,"class","die-button svelte-90mbn5"),G(f,"background-image","url('/img/dice/dF-inverted.svg')"),h(c,"class","dice-button-box svelte-90mbn5"),h(m,"class","svelte-90mbn5"),h(C,"class","svelte-90mbn5"),h(p,"class","total-readout svelte-90mbn5"),h(M,"class","button-outlined"),M.disabled=O=n[0].length<=0,h(U,"class","button-outlined"),U.disabled=x=n[0].length<=0,h(se,"class","button-outlined"),se.disabled=te=n[0].length<=0,h(I,"class","operation-button-box svelte-90mbn5"),h(oe,"class","dice-box svelte-90mbn5"),G(he,"margin-bottom","0"),h(ge,"class","underule svelte-90mbn5"),h(me,"class","text-center"),G(me,"margin","0"),h(ce,"class","result svelte-90mbn5"),G(ce,"width","120px"),G(ce,"margin","0 auto 0 auto"),h(Le,"class","svelte-90mbn5"),h(fe,"class","text-center"),G(fe,"margin","0"),h(re,"class","result svelte-90mbn5"),G(re,"width","120px"),G(re,"margin","0 auto 0 auto"),h(E,"class","svelte-90mbn5"),h(de,"class","text-center"),G(de,"margin","0"),h(pt,"class","result svelte-90mbn5"),G(pt,"width","120px"),G(pt,"margin","0 auto 0 auto"),h(ie,"class","svelte-90mbn5"),h(ve,"class","result-summary svelte-90mbn5"),h(pe,"class","result-summary svelte-90mbn5"),G(ht,"margin-top","48px"),G(ht,"margin-bottom","0"),h(rn,"class","underule svelte-90mbn5"),h(xe,"class","modifier-input svelte-90mbn5"),h(xe,"type","number"),h(et,"class","modifier-range svelte-90mbn5"),h(et,"type","range"),h(et,"min","-15"),h(et,"max","15"),h(jt,"class","result-modifier svelte-90mbn5"),h(ot,"class","text-center"),G(ot,"margin","0"),h(ct,"class","result svelte-90mbn5"),G(ct,"width","120px"),G(ct,"margin","0 auto 0 auto"),h(dt,"class","svelte-90mbn5"),h(Dt,"class","text-center"),G(Dt,"margin","0"),h(mt,"class","result svelte-90mbn5"),G(mt,"width","120px"),G(mt,"margin","0 auto 0 auto"),h(nt,"class","svelte-90mbn5"),h(at,"class","text-center"),G(at,"margin","0"),h(bt,"class","result svelte-90mbn5"),G(bt,"width","120px"),G(bt,"margin","0 auto 0 auto"),h(Lt,"class","svelte-90mbn5"),h(tt,"class","result-summary svelte-90mbn5"),h(Mt,"class","result-summary svelte-90mbn5"),h(e,"class","page")},m(z,le){y(z,e,le),a(e,t),a(e,l),a(e,i),a(e,s),a(e,r),a(e,o),a(e,c);for(let je=0;je<7;je+=1)Ue[je]&&Ue[je].m(c,null);a(c,u),a(c,f),lt.m(f,null),a(e,d),a(e,p),a(p,m),a(m,b),a(m,S),a(p,g),a(p,C),a(C,T),a(C,L),a(e,F),a(e,I),a(I,M),a(M,Z),a(I,j),a(I,U),a(U,J),a(I,Pe),a(I,se),a(se,ee),a(e,qe),a(e,oe);for(let je=0;je<Ce.length;je+=1)Ce[je]&&Ce[je].m(oe,null);a(e,Be),a(e,he),_t.m(he,null),a(e,He),a(e,ge),a(e,Te),a(e,pe),a(pe,Le),a(Le,me),a(Le,Ie),a(Le,ce),De.m(ce,null),a(pe,Fe),a(pe,ve),a(ve,E),a(E,fe),a(E,P),a(E,re),vt.m(re,null),a(ve,Je),a(ve,ie),a(ie,de),a(ie,Ke),a(ie,pt),kt.m(pt,null),a(e,Oe),a(e,ht),a(e,Ot),a(e,rn),a(e,Wt),a(e,jt),a(jt,xe),ae(xe,n[3]),a(jt,At),a(jt,et),ae(et,n[3]),a(e,Jt),a(e,Mt),a(Mt,dt),a(dt,ot),a(dt,vn),a(dt,ct),$t.m(ct,null),a(Mt,kn),a(Mt,tt),a(tt,nt),a(nt,Dt),a(nt,Et),a(nt,mt),yt.m(mt,null),a(tt,Kt),a(tt,Lt),a(Lt,at),a(Lt,Nt),a(Lt,bt),wt.m(bt,null),Re=!0,on||(Vt=[Y(f,"click",n[10]),Y(M,"click",n[7]),Y(U,"click",n[5]),Y(se,"click",n[6]),Y(xe,"input",n[14]),Y(et,"change",n[15]),Y(et,"input",n[15])],on=!0)},p(z,[le]){if(le&20){cn=ne([2,4,6,8,10,12,20]);let je;for(je=0;je<7;je+=1){const wl=Yi(z,cn,je);Ue[je]?Ue[je].p(wl,le):(Ue[je]=Gi(wl),Ue[je].c(),Ue[je].m(c,u))}for(;je<7;je+=1)Ue[je].d(1)}It===(It=Ve(z))&&lt?lt.p(z,le):(lt.d(1),lt=It(z),lt&&(lt.c(),lt.m(f,null))),(!Re||le&2)&&k!==(k=z[1].length+"")&&B(S,k),(!Re||le&4)&&w!==(w=z[2].active+"")&&B(L,w),(!Re||le&4)&&N!==(N=z[2].active==0?"Clear All":"Clear "+String(z[2].active))&&B(Z,N),(!Re||le&1&&O!==(O=z[0].length<=0))&&(M.disabled=O),(!Re||le&5)&&D!==(D=z[2].active==z[0].length?"Select None":"Select All")&&B(J,D),(!Re||le&1&&x!==(x=z[0].length<=0))&&(U.disabled=x),(!Re||le&4)&&W!==(W=z[2].active==0?"Reroll All":"Reroll "+String(z[2].active))&&B(ee,W),(!Re||le&1&&te!==(te=z[0].length<=0))&&(se.disabled=te),le&3&&(Ft=ne(z[0]),Ae(),Ce=Gn(Ce,le,Qt,1,z,Ft,Se,oe,Yn,Wi,null,Ui),Me()),gt!==(gt=it(z))&&(_t.d(1),_t=gt(z),_t&&(_t.c(),_t.m(he,null))),_e===(_e=K(z))&&De?De.p(z,le):(De.d(1),De=_e(z),De&&(De.c(),De.m(ce,null))),Sn===(Sn=gl(z))&&vt?vt.p(z,le):(vt.d(1),vt=Sn(z),vt&&(vt.c(),vt.m(re,null))),Pn===(Pn=vl(z))&&kt?kt.p(z,le):(kt.d(1),kt=Pn(z),kt&&(kt.c(),kt.m(pt,null))),le&8&&Pt(xe.value)!==z[3]&&ae(xe,z[3]),le&8&&ae(et,z[3]),On===(On=kl(z))&&$t?$t.p(z,le):($t.d(1),$t=On(z),$t&&($t.c(),$t.m(ct,null))),jn===(jn=$l(z))&&yt?yt.p(z,le):(yt.d(1),yt=jn(z),yt&&(yt.c(),yt.m(mt,null))),An===(An=yl(z))&&wt?wt.p(z,le):(wt.d(1),wt=An(z),wt&&(wt.c(),wt.m(bt,null)))},i(z){if(!Re){for(let le=0;le<Ft.length;le+=1)R(Ce[le]);Re=!0}},o(z){for(let le=0;le<Ce.length;le+=1)q(Ce[le]);Re=!1},d(z){z&&$(e),Ne(Ue,z),lt.d();for(let le=0;le<Ce.length;le+=1)Ce[le].d();_t.d(),De.d(),vt.d(),kt.d(),$t.d(),yt.d(),wt.d(),on=!1,we(Vt)}}}function ca(n,e,t){let{location:l=""}=e,i=0,s=[],r=[];function o(w){t(0,s=s.concat({id:i++,faces:w,result:0,active:!1}))}let c={active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0};function u(){c.active==s.length?s.forEach(w=>w.active=!1):s.forEach(w=>w.active=!0),t(0,s)}function f(){c.active==0?r.filter(w=>w).forEach(w=>w.roll()):r.filter(w=>w).forEach(w=>w.rollIfActive())}function d(){c.active==0?t(0,s=[]):t(0,s=s.filter(w=>!w.active))}let p=1;const m=w=>o(w),b=()=>o(-1);function k(w,L){Ee[w?"unshift":"push"](()=>{r[L]=w,t(1,r)})}function S(w,L){n.$$.not_equal(L.result,w)&&(L.result=w,t(0,s))}function g(w,L){n.$$.not_equal(L.active,w)&&(L.active=w,t(0,s))}function C(){p=Pt(this.value),t(3,p)}function T(){p=Pt(this.value),t(3,p)}return n.$$set=w=>{"location"in w&&t(8,l=w.location)},n.$$.update=()=>{n.$$.dirty&2&&t(1,r=r.filter(w=>w)),n.$$.dirty&1&&t(2,c=s.reduce((w,L)=>(w.hasOwnProperty(L.faces)?w[L.faces]=w[L.faces]+1:w[L.faces]=1,w.sum+=L.result,L.result<w.low&&(w.low=L.result),L.result>w.high&&(w.high=L.result),L.active&&(w.active=w.active+1,w.activeSum+=L.result,L.result<w.activeLow&&(w.activeLow=L.result),L.result>w.activeHigh&&(w.activeHigh=L.result)),w),{active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0}))},[s,r,c,p,o,u,f,d,l,m,b,k,S,g,C,T]}class aa extends ye{constructor(e){super(),$e(this,e,ca,oa,be,{location:8})}}function Ji(n,e,t){const l=n.slice();return l[14]=e[t],l[15]=e,l[16]=t,l}function ua(n){let e,t=n[0].length+"",l,i;return{c(){e=A("Add to "),l=A(t),i=A("dE")},m(s,r){y(s,e,r),y(s,l,r),y(s,i,r)},p(s,r){r&1&&t!==(t=s[0].length+"")&&B(l,t)},d(s){s&&($(e),$(l),$(i))}}}function fa(n){let e;return{c(){e=A("Add 1dE")},m(t,l){y(t,e,l)},p:H,d(t){t&&$(e)}}}function Ki(n,e){let t,l,i=e[16],s,r,o;const c=()=>e[10](l,i),u=()=>e[10](null,i);function f(m){e[11](m,e[14])}function d(m){e[12](m,e[14])}let p={faces:-2};return e[14].result!==void 0&&(p.result=e[14].result),e[14].active!==void 0&&(p.active=e[14].active),l=new ze({props:p}),c(),Ee.push(()=>We(l,"result",f)),Ee.push(()=>We(l,"active",d)),{key:n,first:null,c(){t=ke(),X(l.$$.fragment),this.first=t},m(m,b){y(m,t,b),V(l,m,b),o=!0},p(m,b){e=m,i!==e[16]&&(u(),i=e[16],c());const k={};!s&&b&1&&(s=!0,k.result=e[14].result,Ge(()=>s=!1)),!r&&b&1&&(r=!0,k.active=e[14].active,Ge(()=>r=!1)),l.$set(k)},i(m){o||(R(l.$$.fragment,m),o=!0)},o(m){q(l.$$.fragment,m),o=!1},d(m){m&&$(t),u(),Q(l,m)}}}function da(n){let e,t,l,i,s,r,o,c,u=n[2].active==0?"Clear All":"Remove "+String(n[2].active),f,d,p,m,b=n[2].active==n[0].length?"Select None":"Select All",k,S,g,C,T=n[2].active==0?"Reroll All":"Reroll "+String(n[2].active),w,L,F,I,M=[],N=new Map,Z,O,j,U,D,J,x,Pe,se,W,ee,te,qe,oe,Ce,Se,Be,he,He,ge,Te,pe,Le,me,Ie,ce,Fe,ve,E,fe,P,re,Je,ie,de,Ke,pt,Oe,ht,Ot,rn,Wt,jt,xe,At,et,Jt,Mt,dt,ot,vn,ct,kn,tt,nt,Dt,Et,mt,Kt,Lt,at,Nt,bt,Re,on,Vt,cn,Ue,Ve,It,lt;function Ft(K,_e){return K[0].length==0?fa:ua}let Qt=Ft(n),it=Qt(n),gt=ne(n[0]);const _t=K=>K[14].id;for(let K=0;K<gt.length;K+=1){let _e=Ji(n,gt,K),De=_t(_e);N.set(De,M[K]=Ki(De,_e))}return oe=new ze({props:{faces:-2,result:2,active:!1,enabled:!1}}),ge=new ze({props:{faces:-2,result:3,active:!1,enabled:!1}}),pe=new ze({props:{faces:-2,result:1,active:!1,enabled:!1}}),me=new ze({props:{faces:-2,result:3,active:!1,enabled:!1}}),ce=new ze({props:{faces:-2,result:3,active:!1,enabled:!1}}),fe=new ze({props:{faces:-2,result:2,active:!1,enabled:!1}}),Ot=new ze({props:{faces:-2,result:1,active:!1,enabled:!1}}),At=new ze({props:{faces:-2,result:2,active:!1,enabled:!1}}),ot=new ze({props:{faces:-2,result:3,active:!1,enabled:!1}}),nt=new ze({props:{faces:-2,result:1,active:!1,enabled:!1}}),Et=new ze({props:{faces:-2,result:3,active:!1,enabled:!1}}),Nt=new ze({props:{faces:-2,result:2,active:!1,enabled:!1}}),Re=new ze({props:{faces:-2,result:3,active:!1,enabled:!1}}),{c(){e=_("div"),t=_("div"),l=_("h1"),l.textContent="Eye Roller",i=v(),s=_("button"),it.c(),r=v(),o=_("div"),c=_("button"),f=A(u),p=v(),m=_("button"),k=A(b),g=v(),C=_("button"),w=A(T),F=v(),I=_("div");for(let K=0;K<M.length;K+=1)M[K].c();Z=v(),O=_("div"),j=A(n[3]),U=v(),D=_("div"),J=_("div"),x=_("h2"),x.textContent="What are Eye Dice?",Pe=v(),se=_("p"),se.textContent="Eye dice are 6-sided dice that have one circle side, two pip sides, and three pip-in-circle sides.",W=v(),ee=_("div"),te=_("div"),qe=v(),X(oe.$$.fragment),Ce=v(),Se=_("div"),Be=v(),he=_("div"),He=v(),X(ge.$$.fragment),Te=v(),X(pe.$$.fragment),Le=v(),X(me.$$.fragment),Ie=v(),X(ce.$$.fragment),Fe=v(),ve=_("div"),E=v(),X(fe.$$.fragment),P=v(),re=_("div"),Je=v(),ie=_("div"),de=v(),Ke=_("p"),Ke.innerHTML=`Each side type can be referred to individually or in groups, which each have their own, unique chances of occurring.<br/><br/>
        The chances of each are:`,pt=v(),Oe=_("div"),ht=_("div"),X(Ot.$$.fragment),rn=v(),Wt=_("div"),Wt.textContent="â…™ Snake",jt=v(),xe=_("div"),X(At.$$.fragment),et=v(),Jt=_("div"),Jt.textContent="â…“ Bat",Mt=v(),dt=_("div"),X(ot.$$.fragment),vn=v(),ct=_("div"),ct.textContent="Â½ Fish",kn=v(),tt=_("div"),X(nt.$$.fragment),Dt=v(),X(Et.$$.fragment),mt=v(),Kt=_("div"),Kt.textContent="â…” Pips",Lt=v(),at=_("div"),X(Nt.$$.fragment),bt=v(),X(Re.$$.fragment),on=v(),Vt=_("div"),Vt.textContent="â…š Rings",cn=v(),Ue=_("p"),Ue.textContent="Rolling multiple eye dice for the same thing multiplies that fraction by itself number-of-dice times. For example, rolling 2dE for fish gives you a 50% * 50% = 25% chance of rolling all fish.",h(s,"class","button-outlined"),h(c,"class","button-outlined"),c.disabled=d=n[0].length<=0,h(m,"class","button-outlined"),m.disabled=S=n[0].length<=0,h(C,"class","button-outlined"),C.disabled=L=n[0].length<=0,G(o,"display","grid"),G(o,"grid-template-columns","32% 32% 32%"),G(o,"justify-content","center"),h(I,"class","dice-box"),h(O,"class","text-center"),G(O,"font-size","small"),G(O,"white-space","pre"),h(O,"id","result-view"),h(t,"class","content-box"),h(e,"class","page"),h(te,"class","svelte-15n9wmj"),h(Se,"class","svelte-15n9wmj"),h(he,"class","svelte-15n9wmj"),h(ve,"class","svelte-15n9wmj"),h(re,"class","svelte-15n9wmj"),h(ie,"class","svelte-15n9wmj"),h(ee,"class","die-diagram svelte-15n9wmj"),h(ht,"class","svelte-15n9wmj"),h(Wt,"class","svelte-15n9wmj"),h(xe,"class","svelte-15n9wmj"),h(Jt,"class","svelte-15n9wmj"),h(dt,"class","svelte-15n9wmj"),h(ct,"class","svelte-15n9wmj"),h(tt,"class","svelte-15n9wmj"),h(Kt,"class","svelte-15n9wmj"),h(at,"class","svelte-15n9wmj"),h(Vt,"class","svelte-15n9wmj"),h(Oe,"class","die-list svelte-15n9wmj"),h(J,"class","content-box"),h(D,"class","page")},m(K,_e){y(K,e,_e),a(e,t),a(t,l),a(t,i),a(t,s),it.m(s,null),a(t,r),a(t,o),a(o,c),a(c,f),a(o,p),a(o,m),a(m,k),a(o,g),a(o,C),a(C,w),a(t,F),a(t,I);for(let De=0;De<M.length;De+=1)M[De]&&M[De].m(I,null);a(t,Z),a(t,O),a(O,j),y(K,U,_e),y(K,D,_e),a(D,J),a(J,x),a(J,Pe),a(J,se),a(J,W),a(J,ee),a(ee,te),a(ee,qe),V(oe,ee,null),a(ee,Ce),a(ee,Se),a(ee,Be),a(ee,he),a(ee,He),V(ge,ee,null),a(ee,Te),V(pe,ee,null),a(ee,Le),V(me,ee,null),a(ee,Ie),V(ce,ee,null),a(ee,Fe),a(ee,ve),a(ee,E),V(fe,ee,null),a(ee,P),a(ee,re),a(ee,Je),a(ee,ie),a(J,de),a(J,Ke),a(J,pt),a(J,Oe),a(Oe,ht),V(Ot,ht,null),a(Oe,rn),a(Oe,Wt),a(Oe,jt),a(Oe,xe),V(At,xe,null),a(Oe,et),a(Oe,Jt),a(Oe,Mt),a(Oe,dt),V(ot,dt,null),a(Oe,vn),a(Oe,ct),a(Oe,kn),a(Oe,tt),V(nt,tt,null),a(tt,Dt),V(Et,tt,null),a(Oe,mt),a(Oe,Kt),a(Oe,Lt),a(Oe,at),V(Nt,at,null),a(at,bt),V(Re,at,null),a(Oe,on),a(Oe,Vt),a(J,cn),a(J,Ue),Ve=!0,It||(lt=[Y(s,"click",n[9]),Y(c,"click",n[7]),Y(m,"click",n[5]),Y(C,"click",n[6])],It=!0)},p(K,[_e]){Qt===(Qt=Ft(K))&&it?it.p(K,_e):(it.d(1),it=Qt(K),it&&(it.c(),it.m(s,null))),(!Ve||_e&4)&&u!==(u=K[2].active==0?"Clear All":"Remove "+String(K[2].active))&&B(f,u),(!Ve||_e&1&&d!==(d=K[0].length<=0))&&(c.disabled=d),(!Ve||_e&5)&&b!==(b=K[2].active==K[0].length?"Select None":"Select All")&&B(k,b),(!Ve||_e&1&&S!==(S=K[0].length<=0))&&(m.disabled=S),(!Ve||_e&4)&&T!==(T=K[2].active==0?"Reroll All":"Reroll "+String(K[2].active))&&B(w,T),(!Ve||_e&1&&L!==(L=K[0].length<=0))&&(C.disabled=L),_e&3&&(gt=ne(K[0]),Ae(),M=Gn(M,_e,_t,1,K,gt,N,I,Yn,Ki,null,Ji),Me()),(!Ve||_e&8)&&B(j,K[3])},i(K){if(!Ve){for(let _e=0;_e<gt.length;_e+=1)R(M[_e]);R(oe.$$.fragment,K),R(ge.$$.fragment,K),R(pe.$$.fragment,K),R(me.$$.fragment,K),R(ce.$$.fragment,K),R(fe.$$.fragment,K),R(Ot.$$.fragment,K),R(At.$$.fragment,K),R(ot.$$.fragment,K),R(nt.$$.fragment,K),R(Et.$$.fragment,K),R(Nt.$$.fragment,K),R(Re.$$.fragment,K),Ve=!0}},o(K){for(let _e=0;_e<M.length;_e+=1)q(M[_e]);q(oe.$$.fragment,K),q(ge.$$.fragment,K),q(pe.$$.fragment,K),q(me.$$.fragment,K),q(ce.$$.fragment,K),q(fe.$$.fragment,K),q(Ot.$$.fragment,K),q(At.$$.fragment,K),q(ot.$$.fragment,K),q(nt.$$.fragment,K),q(Et.$$.fragment,K),q(Nt.$$.fragment,K),q(Re.$$.fragment,K),Ve=!1},d(K){K&&($(e),$(U),$(D)),it.d();for(let _e=0;_e<M.length;_e+=1)M[_e].d();Q(oe),Q(ge),Q(pe),Q(me),Q(ce),Q(fe),Q(Ot),Q(At),Q(ot),Q(nt),Q(Et),Q(Nt),Q(Re),It=!1,we(lt)}}}function _a(n){var e=[];e.push(`${n.snakes}Â snake${n.snakes==1?"":"s"}`),e.push(`${n.bats}Â bat${n.bats==1?"":"s"}`),e.push(`${n.fish}Â fish`);var t=[e.join("Â Â ")];return e=[],e.push(`${n.pips}Â pip${n.pips==1?"":"s"}`),e.push(`${n.rings}Â ring${n.rings==1?"":"s"}`),t.push(e.join("Â Â ")),t.join(`\r
`)}function pa(n,e,t){let{location:l=""}=e,i=0,s=[],r=[];function o(){t(0,s=s.concat({id:i++,result:0,active:!1}))}let c={active:0,snakes:0,bats:0,fish:0,rings:0,pips:0};function u(){c.active==s.length?s.forEach(g=>g.active=!1):s.forEach(g=>g.active=!0),t(0,s)}function f(){c.active==0?r.filter(g=>g).forEach(g=>g.roll()):r.filter(g=>g).forEach(g=>g.rollIfActive())}function d(){c.active==0?t(0,s=[]):t(0,s=s.filter(g=>!g.active))}let p="";const m=()=>o();function b(g,C){Ee[g?"unshift":"push"](()=>{r[C]=g,t(1,r)})}function k(g,C){n.$$.not_equal(C.result,g)&&(C.result=g,t(0,s))}function S(g,C){n.$$.not_equal(C.active,g)&&(C.active=g,t(0,s))}return n.$$set=g=>{"location"in g&&t(8,l=g.location)},n.$$.update=()=>{n.$$.dirty&2&&t(1,r=r.filter(g=>g)),n.$$.dirty&1&&t(2,c=s.reduce((g,C)=>(C.active&&(g.active+=1),C.result==1?(g.snakes+=1,g.pips+=1):C.result==2?(g.bats+=1,g.rings+=1):C.result==3&&(g.fish+=1,g.pips+=1,g.rings+=1),g),{active:0,snakes:0,bats:0,fish:0,rings:0,pips:0})),n.$$.dirty&4&&t(3,p=_a(c))},[s,r,c,p,o,u,f,d,l,m,b,k,S]}class ha extends ye{constructor(e){super(),$e(this,e,pa,da,be,{location:8})}}function ma(n){let e;const t=n[1].default,l=Bt(t,n,n[2],null);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&4)&&Yt(l,t,i,i[2],e?Ut(t,i[2],s,null):Gt(i[2]),null)},i(i){e||(R(l,i),e=!0)},o(i){q(l,i),e=!1},d(i){l&&l.d(i)}}}function ba(n){let e,t;return e=new rt({props:{to:n[0],replace:!1,getProps:ga,$$slots:{default:[ma]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(l,i){V(e,l,i),t=!0},p(l,[i]){const s={};i&1&&(s.to=l[0]),i&4&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function ga({location:n,href:e,isPartiallyCurrent:t,isCurrent:l}){return(e==="/"?l:t||l)?{class:"active"}:{}}function va(n,e,t){let{$$slots:l={},$$scope:i}=e,{to:s}=e;return n.$$set=r=>{"to"in r&&t(0,s=r.to),"$$scope"in r&&t(2,i=r.$$scope)},[s,l,i]}class ka extends ye{constructor(e){super(),$e(this,e,va,ba,be,{to:0})}}function $a(n){let e;return{c(){e=_("div"),e.innerHTML='<span style="margin: 0pt 10pt">Report a problem:</span> <a href="https://github.com/cgbeutler/hns-site" class="svelte-m66do7"><img src="/img/github_logo.png" alt="github.com/cgbeutler/hns-site" class="svelte-m66do7"/></a> <br/> <span style="margin: 0pt 10pt">Find other projects on:</span> <a href="https://aristonaut.itch.io/" class="svelte-m66do7"><img src="/img/itchio_logo.svg" alt="aristonaut.itch.io" class="svelte-m66do7"/></a>',h(e,"class","ext-nav svelte-m66do7")},m(t,l){y(t,e,l)},p:H,i:H,o:H,d(t){t&&$(e)}}}class ya extends ye{constructor(e){super(),$e(this,e,null,$a,be,{})}}function wa(n){let e;return{c(){e=A("Dice Roller")},m(t,l){y(t,e,l)},d(t){t&&$(e)}}}function Ca(n){let e,t,l,i,s,r,o,c,u,f;return r=new ka({props:{to:"dice",$$slots:{default:[wa]},$$scope:{ctx:n}}}),u=new ya({}),{c(){e=_("div"),t=_("h1"),t.textContent="Hammer and Steel",l=v(),i=_("p"),s=A("Try out my fancy "),X(r.$$.fragment),o=A("!"),c=v(),X(u.$$.fragment),h(e,"class","page")},m(d,p){y(d,e,p),a(e,t),a(e,l),a(e,i),a(i,s),V(r,i,null),a(i,o),y(d,c,p),V(u,d,p),f=!0},p(d,[p]){const m={};p&2&&(m.$$scope={dirty:p,ctx:d}),r.$set(m)},i(d){f||(R(r.$$.fragment,d),R(u.$$.fragment,d),f=!0)},o(d){q(r.$$.fragment,d),q(u.$$.fragment,d),f=!1},d(d){d&&($(e),$(c)),Q(r),Q(u,d)}}}function Sa(n,e,t){let{location:l="/"}=e;return n.$$set=i=>{"location"in i&&t(0,l=i.location)},n.$$.update=()=>{n.$$.dirty&1&&console.log(l)},[l]}class Pa extends ye{constructor(e){super(),$e(this,e,Sa,Ca,be,{location:0})}}function Oa(n){let e,t,l,i,s,r;return{c(){e=_("div"),t=_("h1"),t.textContent="Page Not Found",l=v(),i=_("a"),i.textContent="Return To Homepage",h(i,"href","/"),h(i,"class","button-outlined"),h(e,"class","page")},m(o,c){y(o,e,c),a(e,t),a(e,l),a(e,i),s||(r=al(bl.call(null,i)),s=!0)},p:H,i:H,o:H,d(o){o&&$(e),s=!1,r()}}}function ja(n,e,t){let{location:l=""}=e;return n.$$set=i=>{"location"in i&&t(0,l=i.location)},[l]}class Aa extends ye{constructor(e){super(),$e(this,e,ja,Oa,be,{location:0})}}function Ma(n,e,t){let{location:l=""}=e;return n.$$set=i=>{"location"in i&&t(0,l=i.location)},[l]}class Ea extends ye{constructor(e){super(),$e(this,e,Ma,null,be,{location:0})}}function La(n){let e,t,l,i,s;return{c(){e=_("div"),h(e,"slot","backdrop"),h(e,"class","backdrop svelte-rwmap")},m(r,o){y(r,e,o),l=!0,i||(s=[Y(e,"click",sn),Y(e,"keypress",n[1])],i=!0)},p:H,i(r){l||(r&&ft(()=>{l&&(t||(t=Fn(e,Al,{},!0)),t.run(1))}),l=!0)},o(r){r&&(t||(t=Fn(e,Al,{},!1)),t.run(0)),l=!1},d(r){r&&$(e),r&&t&&t.end(),i=!1,we(s)}}}function Na(n){let e,t,l;return{c(){e=_("button"),e.innerHTML='<img src="/img/HnsSmall.svg" alt="H&amp;S"/>',h(e,"id","nav-button")},m(i,s){y(i,e,s),t||(l=Y(e,"click",n[3]),t=!0)},i:H,o:H,d(i){i&&$(e),t=!1,l()}}}function Ta(n){let e,t;return e=new as({}),{c(){X(e.$$.fragment)},m(l,i){V(e,l,i),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Ra(n){let e,t,l,i,s,r,o,c,u,f,d,p,m,b,k,S,g,C,T,w,L,F,I;e=new $r({props:{$$slots:{backdrop:[La]},$$scope:{ctx:n}}});const M=[Ta,Na],N=[];function Z(O,j){return O[0]>=1e3?0:1}return l=Z(n),i=N[l]=M[l](n),r=new st({props:{component:Aa}}),c=new st({props:{path:"/",component:Pa}}),f=new st({props:{path:"/character",component:Lc}}),p=new st({props:{path:"/character/:id/*",component:Oc}}),b=new st({props:{path:"/dice",component:aa}}),S=new st({props:{path:"/dice/ageroller",component:go}}),C=new st({props:{path:"/dice/eyeroller",component:ha}}),w=new st({props:{path:"/srd",component:Ea}}),F=new st({props:{path:"/account",component:uo}}),{c(){X(e.$$.fragment),t=v(),i.c(),s=v(),X(r.$$.fragment),o=v(),X(c.$$.fragment),u=v(),X(f.$$.fragment),d=v(),X(p.$$.fragment),m=v(),X(b.$$.fragment),k=v(),X(S.$$.fragment),g=v(),X(C.$$.fragment),T=v(),X(w.$$.fragment),L=v(),X(F.$$.fragment)},m(O,j){V(e,O,j),y(O,t,j),N[l].m(O,j),y(O,s,j),V(r,O,j),y(O,o,j),V(c,O,j),y(O,u,j),V(f,O,j),y(O,d,j),V(p,O,j),y(O,m,j),V(b,O,j),y(O,k,j),V(S,O,j),y(O,g,j),V(C,O,j),y(O,T,j),V(w,O,j),y(O,L,j),V(F,O,j),I=!0},p(O,j){const U={};j&16&&(U.$$scope={dirty:j,ctx:O}),e.$set(U);let D=l;l=Z(O),l!==D&&(Ae(),q(N[D],1,1,()=>{N[D]=null}),Me(),i=N[l],i||(i=N[l]=M[l](O),i.c()),R(i,1),i.m(s.parentNode,s))},i(O){I||(R(e.$$.fragment,O),R(i),R(r.$$.fragment,O),R(c.$$.fragment,O),R(f.$$.fragment,O),R(p.$$.fragment,O),R(b.$$.fragment,O),R(S.$$.fragment,O),R(C.$$.fragment,O),R(w.$$.fragment,O),R(F.$$.fragment,O),I=!0)},o(O){q(e.$$.fragment,O),q(i),q(r.$$.fragment,O),q(c.$$.fragment,O),q(f.$$.fragment,O),q(p.$$.fragment,O),q(b.$$.fragment,O),q(S.$$.fragment,O),q(C.$$.fragment,O),q(w.$$.fragment,O),q(F.$$.fragment,O),I=!1},d(O){O&&($(t),$(s),$(o),$(u),$(d),$(m),$(k),$(g),$(T),$(L)),Q(e,O),N[l].d(O),Q(r,O),Q(c,O),Q(f,O),Q(p,O),Q(b,O),Q(S,O),Q(C,O),Q(w,O),Q(F,O)}}}function qa(n){let e,t,l,i;return ft(n[2]),e=new ml({props:{$$slots:{default:[Ra]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(s,r){V(e,s,r),t=!0,l||(i=Y(window,"resize",n[2]),l=!0)},p(s,[r]){const o={};r&17&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){Q(e,s),l=!1,i()}}}function Ha(n,e,t){let l=0;function i(o){o.repeat||o.key==="Escape"&&(sn(),o.preventDefault())}function s(){t(0,l=window.innerWidth)}return[l,i,s,()=>rl(xr)]}class Da extends ye{constructor(e){super(),$e(this,e,Ha,qa,be,{})}}const Ia=Ze(window.location.pathname);new Da({target:document.getElementById("app")});const Fa=()=>{let n=window.location.pathname;const e=document.querySelector("body");new MutationObserver(l=>{l.forEach(()=>{n!==document.location.pathname&&(n=document.location.pathname,Ia.set(n))})}).observe(e,{childList:!0,subtree:!0})};window.onload=Fa;
