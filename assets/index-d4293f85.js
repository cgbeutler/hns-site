var Ks=Object.defineProperty;var Vs=(t,e,n)=>e in t?Ks(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var we=(t,e,n)=>(Vs(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function H(){}const zn=t=>t;function Tt(t,e){for(const n in e)t[n]=e[n];return t}function Qs(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Ns(t){return t()}function yl(){return Object.create(null)}function ye(t){t.forEach(Ns)}function tn(t){return typeof t=="function"}function ve(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Xs(t){return Object.keys(t).length===0}function Rt(t,...e){if(t==null){for(const l of e)l(void 0);return H}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ke(t){let e;return Rt(t,n=>e=n)(),e}function We(t,e,n){t.$$.on_destroy.push(Rt(e,n))}function zt(t,e,n,l){if(t){const s=Ts(t,e,n,l);return t[0](s)}}function Ts(t,e,n,l){return t[1]&&l?Tt(n.ctx.slice(),t[1](l(e))):n.ctx}function Bt(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],r=Math.max(e.dirty.length,s.length);for(let o=0;o<r;o+=1)i[o]=e.dirty[o]|s[o];return i}return e.dirty|s}return e.dirty}function Ut(t,e,n,l,s,i){if(s){const r=Ts(e,n,l,i);t.p(r,s)}}function Wt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function el(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Cl(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}function An(t,e,n){return t.set(n),e}function rl(t){return t&&tn(t.destroy)?t.destroy:H}function Pl(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Rs=typeof window<"u";let ol=Rs?()=>window.performance.now():()=>Date.now(),cl=Rs?t=>requestAnimationFrame(t):H;const un=new Set;function Hs(t){un.forEach(e=>{e.c(t)||(un.delete(e),e.f())}),un.size!==0&&cl(Hs)}function al(t){let e;return un.size===0&&cl(Hs),{promise:new Promise(n=>{un.add(e={c:t,f:n})}),abort(){un.delete(e)}}}function a(t,e){t.appendChild(e)}function qs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Zs(t){const e=_("style");return e.textContent="/* empty */",xs(qs(t),e),e.sheet}function xs(t,e){return a(t.head||t,e),e.sheet}function k(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function Ue(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function O(t){return document.createTextNode(t)}function g(){return O(" ")}function ge(){return O("")}function Z(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Ct(t){return function(e){return e.preventDefault(),t.call(this,e)}}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const ei=["width","height"];function Sl(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const l in e)e[l]==null?t.removeAttribute(l):l==="style"?t.style.cssText=e[l]:l==="__value"?t.value=t[l]=e[l]:n[l]&&n[l].set&&ei.indexOf(l)===-1?t[l]=e[l]:p(t,l,e[l])}function _n(t){return t===""?null:+t}function ti(t){return Array.from(t.childNodes)}function V(t,e){e=""+e,t.data!==e&&(t.data=e)}function ae(t,e){t.value=e??""}function F(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Dt(t,e,n){t.classList.toggle(e,!!n)}function Is(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}function pn(t,e){return new t(e)}const Tn=new Map;let Rn=0;function ni(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function li(t,e){const n={stylesheet:Zs(e),rules:{}};return Tn.set(t,n),n}function Hn(t,e,n,l,s,i,r,o=0){const c=16.666/l;let u=`{
`;for(let S=0;S<=1;S+=c){const C=e+(n-e)*i(S);u+=S*100+`%{${r(C,1-C)}}
`}const f=u+`100% {${r(n,1-n)}}
}`,d=`__svelte_${ni(f)}_${o}`,h=qs(t),{stylesheet:m,rules:b}=Tn.get(h)||li(h,t);b[d]||(b[d]=!0,m.insertRule(`@keyframes ${d} ${f}`,m.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${d} ${l}ms linear ${s}ms 1 both`,Rn+=1,d}function qn(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),Rn-=s,Rn||si())}function si(){cl(()=>{Rn||(Tn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&v(e)}),Tn.clear())})}let kn;function Nt(t){kn=t}function mn(){if(!kn)throw new Error("Function called outside component initialization");return kn}function nn(t){mn().$$.on_mount.push(t)}function ii(t){mn().$$.on_destroy.push(t)}function ri(){const t=mn();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Is(e,n,{cancelable:l});return s.slice().forEach(r=>{r.call(t,i)}),!i.defaultPrevented}return!0}}function Jn(t,e){return mn().$$.context.set(t,e),e}function fn(t){return mn().$$.context.get(t)}function jl(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const an=[],Me=[];let dn=[];const tl=[],oi=Promise.resolve();let nl=!1;function ci(){nl||(nl=!0,oi.then(ul))}function rt(t){dn.push(t)}function Qe(t){tl.push(t)}const Yn=new Set;let on=0;function ul(){if(on!==0)return;const t=kn;do{try{for(;on<an.length;){const e=an[on];on++,Nt(e),ai(e.$$)}}catch(e){throw an.length=0,on=0,e}for(Nt(null),an.length=0,on=0;Me.length;)Me.pop()();for(let e=0;e<dn.length;e+=1){const n=dn[e];Yn.has(n)||(Yn.add(n),n())}dn.length=0}while(an.length);for(;tl.length;)tl.pop()();nl=!1,Yn.clear(),Nt(t)}function ai(t){if(t.fragment!==null){t.update(),ye(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(rt)}}function ui(t){const e=[],n=[];dn.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),dn=e}let vn;function fl(){return vn||(vn=Promise.resolve(),vn.then(()=>{vn=null})),vn}function Qt(t,e,n){t.dispatchEvent(Is(`${e?"intro":"outro"}${n}`))}const Mn=new Set;let yt;function Oe(){yt={r:0,c:[],p:yt}}function Le(){yt.r||ye(yt.c),yt=yt.p}function E(t,e){t&&t.i&&(Mn.delete(t),t.i(e))}function M(t,e,n,l){if(t&&t.o){if(Mn.has(t))return;Mn.add(t),yt.c.push(()=>{Mn.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const dl={duration:0};function fi(t,e,n){const l={direction:"in"};let s=e(t,n,l),i=!1,r,o,c=0;function u(){r&&qn(t,r)}function f(){const{delay:h=0,duration:m=300,easing:b=zn,tick:y=H,css:S}=s||dl;S&&(r=Hn(t,0,1,m,h,b,S,c++)),y(0,1);const C=ol()+h,j=C+m;o&&o.abort(),i=!0,rt(()=>Qt(t,!0,"start")),o=al(q=>{if(i){if(q>=j)return y(1,0),Qt(t,!0,"end"),u(),i=!1;if(q>=C){const $=b((q-C)/m);y($,1-$)}}return i})}let d=!1;return{start(){d||(d=!0,qn(t),tn(s)?(s=s(l),fl().then(f)):f())},invalidate(){d=!1},end(){i&&(u(),i=!1)}}}function di(t,e,n){const l={direction:"out"};let s=e(t,n,l),i=!0,r;const o=yt;o.r+=1;let c;function u(){const{delay:f=0,duration:d=300,easing:h=zn,tick:m=H,css:b}=s||dl;b&&(r=Hn(t,1,0,d,f,h,b));const y=ol()+f,S=y+d;rt(()=>Qt(t,!1,"start")),"inert"in t&&(c=t.inert,t.inert=!0),al(C=>{if(i){if(C>=S)return m(0,1),Qt(t,!1,"end"),--o.r||ye(o.c),!1;if(C>=y){const j=h((C-y)/d);m(1-j,j)}}return i})}return tn(s)?fl().then(()=>{s=s(l),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=c),f&&s.tick&&s.tick(1,0),i&&(r&&qn(t,r),i=!1)}}}function In(t,e,n,l){let i=e(t,n,{direction:"both"}),r=l?0:1,o=null,c=null,u=null,f;function d(){u&&qn(t,u)}function h(b,y){const S=b.b-r;return y*=Math.abs(S),{a:r,b:b.b,d:S,duration:y,start:b.start,end:b.start+y,group:b.group}}function m(b){const{delay:y=0,duration:S=300,easing:C=zn,tick:j=H,css:q}=i||dl,$={start:ol()+y,b};b||($.group=yt,yt.r+=1),"inert"in t&&(b?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),o||c?c=$:(q&&(d(),u=Hn(t,r,b,S,y,C,q)),b&&j(0,1),o=h($,S),rt(()=>Qt(t,b,"start")),al(N=>{if(c&&N>c.start&&(o=h(c,S),c=null,Qt(t,o.b,"start"),q&&(d(),u=Hn(t,r,o.b,o.duration,0,C,i.css))),o){if(N>=o.end)j(r=o.b,1-r),Qt(t,o.b,"end"),c||(o.b?d():--o.group.r||ye(o.group.c)),o=null;else if(N>=o.start){const B=N-o.start;r=o.a+o.d*C(B/o.duration),j(r,1-r)}}return!!(o||c)}))}return{run(b){tn(i)?fl().then(()=>{i=i({direction:b?"in":"out"}),m(b)}):m(b)},end(){d(),o=c=null}}}function Dn(t,e){const n=e.token={};function l(s,i,r,o){if(e.token!==n)return;e.resolved=o;let c=e.ctx;r!==void 0&&(c=c.slice(),c[r]=o);const u=s&&(e.current=s)(c);let f=!1;e.block&&(e.blocks?e.blocks.forEach((d,h)=>{h!==i&&d&&(Oe(),M(d,1,1,()=>{e.blocks[h]===d&&(e.blocks[h]=null)}),Le())}):e.block.d(1),u.c(),E(u,1),u.m(e.mount(),e.anchor),f=!0),e.block=u,e.blocks&&(e.blocks[i]=u),f&&ul()}if(Qs(t)){const s=mn();if(t.then(i=>{Nt(s),l(e.then,1,e.value,i),Nt(null)},i=>{if(Nt(s),l(e.catch,2,e.error,i),Nt(null),!e.hasCatch)throw i}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}}function Ds(t,e,n){const l=e.slice(),{resolved:s}=t;t.current===t.then&&(l[t.value]=s),t.current===t.catch&&(l[t.error]=s),t.block.p(l,n)}function ce(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Bn(t,e){M(t,1,1,()=>{e.delete(t.key)})}function Un(t,e,n,l,s,i,r,o,c,u,f,d){let h=t.length,m=i.length,b=h;const y={};for(;b--;)y[t[b].key]=b;const S=[],C=new Map,j=new Map,q=[];for(b=m;b--;){const D=d(s,i,b),R=n(D);let L=r.get(R);L?l&&q.push(()=>L.p(D,e)):(L=u(R,D),L.c()),C.set(R,S[b]=L),R in y&&j.set(R,Math.abs(b-y[R]))}const $=new Set,N=new Set;function B(D){E(D,1),D.m(o,f),r.set(D.key,D),f=D.first,m--}for(;h&&m;){const D=S[m-1],R=t[h-1],L=D.key,te=R.key;D===R?(f=D.first,h--,m--):C.has(te)?!r.has(L)||$.has(L)?B(D):N.has(te)?h--:j.get(L)>j.get(te)?(N.add(L),B(D)):($.add(te),h--):(c(R,r),h--)}for(;h--;){const D=t[h];C.has(D.key)||c(D,r)}for(;m;)B(S[m-1]);return ye(q),S}function en(t,e){const n={},l={},s={$$scope:1};let i=t.length;for(;i--;){const r=t[i],o=e[i];if(o){for(const c in r)c in o||(l[c]=1);for(const c in o)s[c]||(n[c]=o[c],s[c]=1);t[i]=o}else for(const c in r)s[c]=1}for(const r in l)r in n||(n[r]=void 0);return n}function Ft(t){return typeof t=="object"&&t!==null?t:{}}function Xe(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function Y(t){t&&t.c()}function W(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),rt(()=>{const i=t.$$.on_mount.map(Ns).filter(tn);t.$$.on_destroy?t.$$.on_destroy.push(...i):ye(i),t.$$.on_mount=[]}),s.forEach(rt)}function G(t,e){const n=t.$$;n.fragment!==null&&(ui(n.after_update),ye(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function _i(t,e){t.$$.dirty[0]===-1&&(an.push(t),ci(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function je(t,e,n,l,s,i,r=null,o=[-1]){const c=kn;Nt(t);const u=t.$$={fragment:null,ctx:[],props:i,update:H,not_equal:s,bound:yl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:yl(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};r&&r(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(d,h,...m)=>{const b=m.length?m[0]:h;return u.ctx&&s(u.ctx[d],u.ctx[d]=b)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](b),f&&_i(t,d)),h}):[],u.update(),f=!0,ye(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const d=ti(e.target);u.fragment&&u.fragment.l(d),d.forEach(v)}else u.fragment&&u.fragment.c();e.intro&&E(t.$$.fragment),W(t,e.target,e.anchor),ul()}Nt(c)}class Ae{constructor(){we(this,"$$");we(this,"$$set")}$destroy(){G(this,1),this.$destroy=H}$on(e,n){if(!tn(n))return H;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Xs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const pi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(pi);function hi(t){const e=t-1;return e*e*e+1}function Al(t,{delay:e=0,duration:n=400,easing:l=zn}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:i=>`opacity: ${i*s}`}}function Ol(t,{delay:e=0,duration:n=400,easing:l=hi,x:s=0,y:i=0,opacity:r=0}={}){const o=getComputedStyle(t),c=+o.opacity,u=o.transform==="none"?"":o.transform,f=c*(1-r),[d,h]=Pl(s),[m,b]=Pl(i);return{delay:e,duration:n,easing:l,css:(y,S)=>`
			transform: ${u} translate(${(1-y)*d}${h}, ${(1-y)*m}${b});
			opacity: ${c-f*S}`}}const ll={},Fn={},Fs={},zs=/^:(.+)/,Ll=4,mi=3,bi=2,gi=1,vi=1,$n=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),Kn=t=>t.replace(/(^\/+|\/+$)/g,""),ki=(t,e)=>{const n=t.default?0:$n(t.path).reduce((l,s)=>(l+=Ll,s===""?l+=vi:zs.test(s)?l+=bi:s[0]==="*"?l-=Ll+gi:l+=mi,l),0);return{route:t,score:n,index:e}},$i=t=>t.map(ki).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),El=(t,e)=>{let n,l;const[s]=e.split("?"),i=$n(s),r=i[0]==="",o=$i(t);for(let c=0,u=o.length;c<u;c++){const f=o[c].route;let d=!1;if(f.default){l={route:f,params:{},uri:e};continue}const h=$n(f.path),m={},b=Math.max(i.length,h.length);let y=0;for(;y<b;y++){const S=h[y],C=i[y];if(S&&S[0]==="*"){const q=S==="*"?"*":S.slice(1);m[q]=i.slice(y).map(decodeURIComponent).join("/");break}if(typeof C>"u"){d=!0;break}const j=zs.exec(S);if(j&&!r){const q=decodeURIComponent(C);m[j[1]]=q}else if(S!==C){d=!0;break}}if(!d){n={route:f,params:m,uri:"/"+i.slice(0,y).join("/")};break}}return n||l||null},Vn=(t,e)=>t+(e?`?${e}`:""),wi=(t,e)=>{if(t.startsWith("/"))return t;const[n,l]=t.split("?"),[s]=e.split("?"),i=$n(n),r=$n(s);if(i[0]==="")return Vn(s,l);if(!i[0].startsWith(".")){const u=r.concat(i).join("/");return Vn((s==="/"?"":"/")+u,l)}const o=r.concat(i),c=[];return o.forEach(u=>{u===".."?c.pop():u!=="."&&c.push(u)}),Vn("/"+c.join("/"),l)},Ml=(t,e)=>`${Kn(e==="/"?t:`${Kn(t)}/${Kn(e)}`)}/`,Bs=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),yi=t=>{const e=location.host;return t.host===e||t.href.indexOf(`https://${e}`)===0||t.href.indexOf(`http://${e}`)===0},Us=()=>typeof window<"u"&&"document"in window&&"location"in window,Ci=t=>({active:t&4}),Nl=t=>({active:!!t[2]});function Pi(t){let e,n,l,s;const i=t[17].default,r=zt(i,t,t[16],Nl);let o=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],c={};for(let u=0;u<o.length;u+=1)c=Tt(c,o[u]);return{c(){e=_("a"),r&&r.c(),Sl(e,c)},m(u,f){k(u,e,f),r&&r.m(e,null),n=!0,l||(s=Z(e,"click",t[5]),l=!0)},p(u,[f]){r&&r.p&&(!n||f&65540)&&Ut(r,i,u,u[16],n?Bt(i,u[16],f,Ci):Wt(u[16]),Nl),Sl(e,c=en(o,[(!n||f&1)&&{href:u[0]},(!n||f&4)&&{"aria-current":u[2]},f&2&&u[1],f&64&&u[6]]))},i(u){n||(E(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&v(e),r&&r.d(u),l=!1,s()}}}function Si(t,e,n){let l;const s=["to","replace","state","getProps","preserveScroll"];let i=Cl(e,s),r,o,{$$slots:c={},$$scope:u}=e,{to:f="#"}=e,{replace:d=!1}=e,{state:h={}}=e,{getProps:m=()=>({})}=e,{preserveScroll:b=!1}=e;const y=fn(ll);We(t,y,R=>n(14,r=R));const{base:S}=fn(Fn);We(t,S,R=>n(15,o=R));const{navigate:C}=fn(Fs),j=ri();let q,$,N,B;const D=R=>{if(j("click",R),Bs(R)){R.preventDefault();const L=r.pathname===q||d;C(q,{state:h,replace:L,preserveScroll:b})}};return t.$$set=R=>{e=Tt(Tt({},e),el(R)),n(6,i=Cl(e,s)),"to"in R&&n(7,f=R.to),"replace"in R&&n(8,d=R.replace),"state"in R&&n(9,h=R.state),"getProps"in R&&n(10,m=R.getProps),"preserveScroll"in R&&n(11,b=R.preserveScroll),"$$scope"in R&&n(16,u=R.$$scope)},t.$$.update=()=>{t.$$.dirty&32896&&n(0,q=f==="/"?o.uri:wi(f,o.uri)),t.$$.dirty&16385&&n(12,$=r.pathname.startsWith(q)),t.$$.dirty&16385&&n(13,N=q===r.pathname),t.$$.dirty&8192&&n(2,l=N?"page":void 0),n(1,B=m({location:r,href:q,isPartiallyCurrent:$,isCurrent:N,existingProps:i}))},[q,B,l,y,S,D,i,f,d,h,m,b,$,N,r,o,u,c]}class it extends Ae{constructor(e){super(),je(this,e,Si,Pi,ve,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const ji=t=>({params:t&4}),Tl=t=>({params:t[2]});function Rl(t){let e,n,l,s;const i=[Oi,Ai],r=[];function o(c,u){return c[0]?0:1}return e=o(t),n=r[e]=i[e](t),{c(){n.c(),l=ge()},m(c,u){r[e].m(c,u),k(c,l,u),s=!0},p(c,u){let f=e;e=o(c),e===f?r[e].p(c,u):(Oe(),M(r[f],1,1,()=>{r[f]=null}),Le(),n=r[e],n?n.p(c,u):(n=r[e]=i[e](c),n.c()),E(n,1),n.m(l.parentNode,l))},i(c){s||(E(n),s=!0)},o(c){M(n),s=!1},d(c){c&&v(l),r[e].d(c)}}}function Ai(t){let e;const n=t[8].default,l=zt(n,t,t[7],Tl);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&132)&&Ut(l,n,s,s[7],e?Bt(n,s[7],i,ji):Wt(s[7]),Tl)},i(s){e||(E(l,s),e=!0)},o(s){M(l,s),e=!1},d(s){l&&l.d(s)}}}function Oi(t){let e,n,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Mi,then:Ei,catch:Li,value:12,blocks:[,,,]};return Dn(n=t[0],s),{c(){e=ge(),s.block.c()},m(i,r){k(i,e,r),s.block.m(i,s.anchor=r),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,r){t=i,s.ctx=t,r&1&&n!==(n=t[0])&&Dn(n,s)||Ds(s,t,r)},i(i){l||(E(s.block),l=!0)},o(i){for(let r=0;r<3;r+=1){const o=s.blocks[r];M(o)}l=!1},d(i){i&&v(e),s.block.d(i),s.token=null,s=null}}}function Li(t){return{c:H,m:H,p:H,i:H,o:H,d:H}}function Ei(t){var o;let e,n,l;const s=[t[2],t[3]];var i=((o=t[12])==null?void 0:o.default)||t[12];function r(c,u){let f={};if(u!==void 0&&u&12)f=en(s,[u&4&&Ft(c[2]),u&8&&Ft(c[3])]);else for(let d=0;d<s.length;d+=1)f=Tt(f,s[d]);return{props:f}}return i&&(e=pn(i,r(t))),{c(){e&&Y(e.$$.fragment),n=ge()},m(c,u){e&&W(e,c,u),k(c,n,u),l=!0},p(c,u){var f;if(u&1&&i!==(i=((f=c[12])==null?void 0:f.default)||c[12])){if(e){Oe();const d=e;M(d.$$.fragment,1,0,()=>{G(d,1)}),Le()}i?(e=pn(i,r(c,u)),Y(e.$$.fragment),E(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else if(i){const d=u&12?en(s,[u&4&&Ft(c[2]),u&8&&Ft(c[3])]):{};e.$set(d)}},i(c){l||(e&&E(e.$$.fragment,c),l=!0)},o(c){e&&M(e.$$.fragment,c),l=!1},d(c){c&&v(n),e&&G(e,c)}}}function Mi(t){return{c:H,m:H,p:H,i:H,o:H,d:H}}function Ni(t){let e,n,l=t[1]&&t[1].route===t[5]&&Rl(t);return{c(){l&&l.c(),e=ge()},m(s,i){l&&l.m(s,i),k(s,e,i),n=!0},p(s,[i]){s[1]&&s[1].route===s[5]?l?(l.p(s,i),i&2&&E(l,1)):(l=Rl(s),l.c(),E(l,1),l.m(e.parentNode,e)):l&&(Oe(),M(l,1,1,()=>{l=null}),Le())},i(s){n||(E(l),n=!0)},o(s){M(l),n=!1},d(s){s&&v(e),l&&l.d(s)}}}function Ti(t,e,n){let l,{$$slots:s={},$$scope:i}=e,{path:r=""}=e,{component:o=null}=e,c={},u={};const{registerRoute:f,unregisterRoute:d,activeRoute:h}=fn(Fn);We(t,h,b=>n(1,l=b));const m={path:r,default:r===""};return f(m),ii(()=>{d(m)}),t.$$set=b=>{n(11,e=Tt(Tt({},e),el(b))),"path"in b&&n(6,r=b.path),"component"in b&&n(0,o=b.component),"$$scope"in b&&n(7,i=b.$$scope)},t.$$.update=()=>{if(l&&l.route===m){n(2,c=l.params);const{component:b,path:y,...S}=e;n(3,u=S),b&&(b.toString().startsWith("class ")?n(0,o=b):n(0,o=b())),Us()&&!l.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=el(e),[o,l,c,u,h,m,r,i,s]}class st extends Ae{constructor(e){super(),je(this,e,Ti,Ni,ve,{path:6,component:0})}}const cn=[];function Ri(t,e){return{subscribe:Ve(t,e).subscribe}}function Ve(t,e=H){let n;const l=new Set;function s(o){if(ve(t,o)&&(t=o,n)){const c=!cn.length;for(const u of l)u[1](),cn.push(u,t);if(c){for(let u=0;u<cn.length;u+=2)cn[u][0](cn[u+1]);cn.length=0}}}function i(o){s(o(t))}function r(o,c=H){const u=[o,c];return l.add(u),l.size===1&&(n=e(s,i)||H),o(t),()=>{l.delete(u),l.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:r}}function Hi(t,e,n){const l=!Array.isArray(t),s=l?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return Ri(n,(r,o)=>{let c=!1;const u=[];let f=0,d=H;const h=()=>{if(f)return;d();const b=e(l?u[0]:u,r,o);i?r(b):d=tn(b)?b:H},m=s.map((b,y)=>Rt(b,S=>{u[y]=S,f&=~(1<<y),c&&h()},()=>{f|=1<<y}));return c=!0,h(),function(){ye(m),d(),c=!1}})}const Qn=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),qi=t=>{const e=[];let n=Qn(t);return{get location(){return n},listen(l){e.push(l);const s=()=>{n=Qn(t),l({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const i=e.indexOf(l);e.splice(i,1)}},navigate(l,{state:s,replace:i=!1,preserveScroll:r=!1}={}){s={...s,key:Date.now()+""};try{i?t.history.replaceState(s,"",l):t.history.pushState(s,"",l)}catch{t.location[i?"replace":"assign"](l)}n=Qn(t),e.forEach(o=>o({location:n,action:"PUSH",preserveScroll:r})),document.activeElement.blur()}}},Ii=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],l=[];return{get location(){return n[e]},addEventListener(s,i){},removeEventListener(s,i){},history:{get entries(){return n},get index(){return e},get state(){return l[e]},pushState(s,i,r){const[o,c=""]=r.split("?");e++,n.push({pathname:o,search:c}),l.push(s)},replaceState(s,i,r){const[o,c=""]=r.split("?");n[e]={pathname:o,search:c},l[e]=s}}}},Ws=qi(Us()?window:Ii()),{navigate:wn}=Ws,Di=t=>({route:t&4,location:t&2}),Hl=t=>({route:t[2]&&t[2].uri,location:t[1]}),Fi=t=>({route:t&4,location:t&2}),ql=t=>({route:t[2]&&t[2].uri,location:t[1]});function zi(t){let e;const n=t[15].default,l=zt(n,t,t[14],Hl);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&16390)&&Ut(l,n,s,s[14],e?Bt(n,s[14],i,Di):Wt(s[14]),Hl)},i(s){e||(E(l,s),e=!0)},o(s){M(l,s),e=!1},d(s){l&&l.d(s)}}}function Bi(t){let e=t[1].pathname,n,l,s=Il(t);return{c(){s.c(),n=ge()},m(i,r){s.m(i,r),k(i,n,r),l=!0},p(i,r){r&2&&ve(e,e=i[1].pathname)?(Oe(),M(s,1,1,H),Le(),s=Il(i),s.c(),E(s,1),s.m(n.parentNode,n)):s.p(i,r)},i(i){l||(E(s),l=!0)},o(i){M(s),l=!1},d(i){i&&v(n),s.d(i)}}}function Il(t){let e,n,l,s;const i=t[15].default,r=zt(i,t,t[14],ql);return{c(){e=_("div"),r&&r.c()},m(o,c){k(o,e,c),r&&r.m(e,null),s=!0},p(o,c){r&&r.p&&(!s||c&16390)&&Ut(r,i,o,o[14],s?Bt(i,o[14],c,Fi):Wt(o[14]),ql)},i(o){s||(E(r,o),o&&rt(()=>{s&&(l&&l.end(1),n=fi(e,t[3],{}),n.start())}),s=!0)},o(o){M(r,o),n&&n.invalidate(),o&&(l=di(e,t[3],{})),s=!1},d(o){o&&v(e),r&&r.d(o),o&&l&&l.end()}}}function Ui(t){let e,n,l,s;const i=[Bi,zi],r=[];function o(c,u){return c[0]?0:1}return e=o(t),n=r[e]=i[e](t),{c(){n.c(),l=ge()},m(c,u){r[e].m(c,u),k(c,l,u),s=!0},p(c,[u]){let f=e;e=o(c),e===f?r[e].p(c,u):(Oe(),M(r[f],1,1,()=>{r[f]=null}),Le(),n=r[e],n?n.p(c,u):(n=r[e]=i[e](c),n.c()),E(n,1),n.m(l.parentNode,l))},i(c){s||(E(n),s=!0)},o(c){M(n),s=!1},d(c){c&&v(l),r[e].d(c)}}}function Wi(t,e,n){let l,s,i,r,{$$slots:o={},$$scope:c}=e,{basepath:u="/"}=e,{url:f=null}=e,{viewtransition:d=null}=e,{history:h=Ws}=e;const m=(L,te,P)=>{const T=d(P);return typeof(T==null?void 0:T.fn)=="function"?T.fn(L,T):T};Jn(Fs,h);const b=fn(ll),y=fn(Fn),S=Ve([]);We(t,S,L=>n(12,s=L));const C=Ve(null);We(t,C,L=>n(2,r=L));let j=!1;const q=b||Ve(f?{pathname:f}:h.location);We(t,q,L=>n(1,l=L));const $=y?y.routerBase:Ve({path:u,uri:u});We(t,$,L=>n(13,i=L));const N=Hi([$,C],([L,te])=>{if(!te)return L;const{path:P}=L,{route:T,uri:Q}=te;return{path:T.default?P:T.path.replace(/\*.*$/,""),uri:Q}}),B=L=>{const{path:te}=i;let{path:P}=L;if(L._path=P,L.path=Ml(te,P),typeof window>"u"){if(j)return;const T=El([L],l.pathname);T&&(C.set(T),j=!0)}else S.update(T=>[...T,L])},D=L=>{S.update(te=>te.filter(P=>P!==L))};let R=!1;return b||(nn(()=>h.listen(te=>{n(11,R=te.preserveScroll||!1),q.set(te.location)})),Jn(ll,q)),Jn(Fn,{activeRoute:C,base:$,routerBase:N,registerRoute:B,unregisterRoute:D}),t.$$set=L=>{"basepath"in L&&n(8,u=L.basepath),"url"in L&&n(9,f=L.url),"viewtransition"in L&&n(0,d=L.viewtransition),"history"in L&&n(10,h=L.history),"$$scope"in L&&n(14,c=L.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:L}=i;S.update(te=>te.map(P=>Object.assign(P,{path:Ml(L,P._path)})))}if(t.$$.dirty&6146){const L=El(s,l.pathname);C.set({...L,preserveScroll:R})}},[d,l,r,m,S,C,q,$,u,f,h,R,s,i,c,o]}class _l extends Ae{constructor(e){super(),je(this,e,Wi,Ui,ve,{basepath:8,url:9,viewtransition:0,history:10})}}const pl=t=>{const e=n=>{const l=n.currentTarget;l.target===""&&yi(l)&&Bs(n)&&(n.preventDefault(),wn(l.pathname+l.search,{replace:l.hasAttribute("replace"),preserveScroll:l.hasAttribute("preserveScroll")}))};return t.addEventListener("click",e),{destroy(){t.removeEventListener("click",e)}}},Xt=Ve(!1),Zt=Ve(null),xt=Ve([]),Gs=Ve(null);function Gi(t=1){var l,s;const e=Ke(xt).length,n=Ke(xt)[e-1];return Ke(Zt)||(l=n==null?void 0:n.callbacks)!=null&&l.onBeforeClose&&((s=n==null?void 0:n.callbacks)==null?void 0:s.onBeforeClose())===!1?!1:(Ke(Xt)&&e>0&&Zt.set(!0),Xt.set(!1),Gs.set("pop"),Yi(t),!0)}function hl(){return Gi(1)}function Ji(t,e,n){Ke(Zt)||(Gs.set("push"),Ke(Xt)&&Ke(xt).length&&Zt.set(!0),Xt.set(!1),n!=null&&n.replace?xt.update(l=>[...l.slice(0,l.length-1),{component:t,props:e}]):xt.update(l=>[...l,{component:t,props:e}]))}function Yi(t=1){xt.update(e=>e.slice(0,Math.max(0,e.length-t)))}function Dl(t,e,n){const l=t.slice();return l[9]=e[n],l[11]=n,l}const Ki=t=>({}),Fl=t=>({}),Vi=t=>({}),zl=t=>({});function Bl(t){let e;const n=t[4].backdrop,l=zt(n,t,t[3],zl);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&8)&&Ut(l,n,s,s[3],e?Bt(n,s[3],i,Vi):Wt(s[3]),zl)},i(s){e||(E(l,s),e=!0)},o(s){M(l,s),e=!1},d(s){l&&l.d(s)}}}function Qi(t){let e,n,l;const s=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var i=t[9].component;function r(o,c){let u={};if(c!==void 0&&c&3)u=en(s,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&Ft(o[9].props)]);else for(let f=0;f<s.length;f+=1)u=Tt(u,s[f]);return{props:u}}return i&&(e=pn(i,r(t)),e.$on("introstart",t[7]),e.$on("outroend",t[8])),{c(){e&&Y(e.$$.fragment),n=ge()},m(o,c){e&&W(e,o,c),k(o,n,c),l=!0},p(o,c){if(c&1&&i!==(i=o[9].component)){if(e){Oe();const u=e;M(u.$$.fragment,1,0,()=>{G(u,1)}),Le()}i?(e=pn(i,r(o,c)),e.$on("introstart",o[7]),e.$on("outroend",o[8]),Y(e.$$.fragment),E(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else if(i){const u=c&3?en(s,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&Ft(o[9].props)]):{};e.$set(u)}},i(o){l||(e&&E(e.$$.fragment,o),l=!0)},o(o){e&&M(e.$$.fragment,o),l=!1},d(o){o&&v(n),e&&G(e,o)}}}function Xi(t){let e,n,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:er,then:xi,catch:Zi,value:12,blocks:[,,,]};return Dn(n=Wl(t[9].component),s),{c(){e=ge(),s.block.c()},m(i,r){k(i,e,r),s.block.m(i,s.anchor=r),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(i,r){t=i,s.ctx=t,r&1&&n!==(n=Wl(t[9].component))&&Dn(n,s)||Ds(s,t,r)},i(i){l||(E(s.block),l=!0)},o(i){for(let r=0;r<3;r+=1){const o=s.blocks[r];M(o)}l=!1},d(i){i&&v(e),s.block.d(i),s.token=null,s=null}}}function Zi(t){return{c:H,m:H,p:H,i:H,o:H,d:H}}function xi(t){let e,n,l;const s=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var i=t[12];function r(o,c){let u={};if(c!==void 0&&c&3)u=en(s,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&Ft(o[9].props)]);else for(let f=0;f<s.length;f+=1)u=Tt(u,s[f]);return{props:u}}return i&&(e=pn(i,r(t)),e.$on("introstart",t[5]),e.$on("outroend",t[6])),{c(){e&&Y(e.$$.fragment),n=g()},m(o,c){e&&W(e,o,c),k(o,n,c),l=!0},p(o,c){if(c&1&&i!==(i=o[12])){if(e){Oe();const u=e;M(u.$$.fragment,1,0,()=>{G(u,1)}),Le()}i?(e=pn(i,r(o,c)),e.$on("introstart",o[5]),e.$on("outroend",o[6]),Y(e.$$.fragment),E(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else if(i){const u=c&3?en(s,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&Ft(o[9].props)]):{};e.$set(u)}},i(o){l||(e&&E(e.$$.fragment,o),l=!0)},o(o){e&&M(e.$$.fragment,o),l=!1},d(o){o&&v(n),e&&G(e,o)}}}function er(t){let e,n;const l=t[4].loading,s=zt(l,t,t[3],Fl);return{c(){s&&s.c(),e=g()},m(i,r){s&&s.m(i,r),k(i,e,r),n=!0},p(i,r){s&&s.p&&(!n||r&8)&&Ut(s,l,i,i[3],n?Bt(l,i[3],r,Ki):Wt(i[3]),Fl)},i(i){n||(E(s,i),n=!0)},o(i){M(s,i),n=!1},d(i){i&&v(e),s&&s.d(i)}}}function Ul(t,e){let n,l,s,i,r,o;const c=[Xi,Qi],u=[];function f(d,h){return h&1&&(l=null),l==null&&(l=!!lr(d[9].component)),l?0:1}return s=f(e,-1),i=u[s]=c[s](e),{key:t,first:null,c(){n=ge(),i.c(),r=ge(),this.first=n},m(d,h){k(d,n,h),u[s].m(d,h),k(d,r,h),o=!0},p(d,h){e=d;let m=s;s=f(e,h),s===m?u[s].p(e,h):(Oe(),M(u[m],1,1,()=>{u[m]=null}),Le(),i=u[s],i?i.p(e,h):(i=u[s]=c[s](e),i.c()),E(i,1),i.m(r.parentNode,r))},i(d){o||(E(i),o=!0)},o(d){M(i),o=!1},d(d){d&&(v(n),v(r)),u[s].d(d)}}}function tr(t){let e=[],n=new Map,l,s,i=ce(t[0]);const r=o=>o[11];for(let o=0;o<i.length;o+=1){let c=Dl(t,i,o),u=r(c);n.set(u,e[o]=Ul(u,c))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=ge()},m(o,c){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,c);k(o,l,c),s=!0},p(o,c){c&15&&(i=ce(o[0]),Oe(),e=Un(e,c,r,1,o,i,n,l.parentNode,Bn,Ul,l,Dl),Le())},i(o){if(!s){for(let c=0;c<i.length;c+=1)E(e[c]);s=!0}},o(o){for(let c=0;c<e.length;c+=1)M(e[c]);s=!1},d(o){o&&v(l);for(let c=0;c<e.length;c+=1)e[c].d(o)}}}function nr(t){let e,n,l=t[0].length>0&&Bl(t);const s=t[4].default,i=zt(s,t,t[3],null),r=i||tr(t);return{c(){l&&l.c(),e=g(),r&&r.c()},m(o,c){l&&l.m(o,c),k(o,e,c),r&&r.m(o,c),n=!0},p(o,[c]){o[0].length>0?l?(l.p(o,c),c&1&&E(l,1)):(l=Bl(o),l.c(),E(l,1),l.m(e.parentNode,e)):l&&(Oe(),M(l,1,1,()=>{l=null}),Le()),i?i.p&&(!n||c&8)&&Ut(i,s,o,o[3],n?Bt(s,o[3],c,null):Wt(o[3]),null):r&&r.p&&(!n||c&15)&&r.p(o,n?c:-1)},i(o){n||(E(l),E(r,o),n=!0)},o(o){M(l),M(r,o),n=!1},d(o){o&&v(e),l&&l.d(o),r&&r.d(o)}}}function lr(t){return typeof t.prototype>"u"}async function Wl(t){return t().then(e=>e.default)}function sr(t,e,n){let l,s,i;We(t,xt,h=>n(0,l=h)),We(t,Zt,h=>n(1,s=h)),We(t,Xt,h=>n(2,i=h));let{$$slots:r={},$$scope:o}=e;const c=()=>{An(Xt,i=!0,i)},u=()=>{An(Zt,s=!1,s)},f=()=>{An(Xt,i=!0,i)},d=()=>{An(Zt,s=!1,s)};return t.$$set=h=>{"$$scope"in h&&n(3,o=h.$$scope)},[l,s,i,o,r,c,u,f,d]}class ir extends Ae{constructor(e){super(),je(this,e,sr,nr,ve,{})}}const rr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wn(t){return typeof t=="string"&&rr.test(t)}const ml="00000000-0000-0000-0000-000000000000";class or{constructor(){we(this,"name","");we(this,"description","")}}class cr{constructor(){we(this,"stats",{Pressure:{mod:1},Captivation:{mod:1},Credibility:{mod:1}});we(this,"passives",{Composure:{stat:"Pressure",mod:0},Awareness:{stat:"Captivation",mod:0},Insight:{stat:"Credibility",mod:0}});we(this,"sways",{Provocation:{stat:"Pressure",mod:0},Enthrallment:{stat:"Captivation",mod:0},Candor:{stat:"Credibility",mod:0},Parlaying:{stat:"Pressure",mod:0},Poignancy:{stat:"Captivation",mod:0},Deception:{stat:"Credibility",mod:0}})}}class ar{constructor(){we(this,"stats",{Might:{mod:1},Finesse:{mod:1},Tuning:{mod:1}});we(this,"saves",{Fortitude:{stat:"Might",mod:0},Cunning:{stat:"Finesse",mod:0},Willpower:{stat:"Tuning",mod:0}});we(this,"perceptions",{Tracking:{stat:"Might",mod:0},Analysis:{stat:"Finesse",mod:0},Sensing:{stat:"Tuning",mod:0}});we(this,"explorations",{Athletics:{stat:"Might",mod:0},Tinkering:{stat:"Finesse",mod:0},Rituals:{stat:"Tuning",mod:0},Sleight:{stat:"Might",mod:0},Stealth:{stat:"Finesse",mod:0},Hiding:{stat:"Tuning",mod:0}});we(this,"knowledges",{Security:{stat:"Might",mod:0},History:{stat:"Finesse",mod:0},Discordance:{stat:"Tuning",mod:0},Wayfaring:{stat:"Might",mod:0},Rumor:{stat:"Finesse",mod:0},Harmony:{stat:"Tuning",mod:0}});we(this,"equipments",{Heavy:{stat:"Might",mod:0},Complex:{stat:"Finesse",mod:0},Dissonant:{stat:"Tuning",mod:0},Simple:{stat:"Might",mod:0},Light:{stat:"Finesse",mod:0},Harmonic:{stat:"Tuning",mod:0}})}}class hn{constructor(e=""){we(this,"_id","");we(this,"background",new or);we(this,"socialProfile",new cr);we(this,"explorerProfile",new ar);this.id=e,this.name=""}get id(){return this._id}set id(e){if(!Wn(e)){this._id=ml;return}this._id=e}get name(){return this.background.name}set name(e){this.background.name=e}static FromJson(e){return Object.assign(new hn,JSON.parse(e))}}class Gn{constructor(){we(this,"_id","");we(this,"name","");we(this,"class","");we(this,"subclass","");we(this,"class2","");we(this,"subclass2","")}get id(){return this._id}set id(e){if(!Wn(e)){this._id=ml;return}this._id=e}static FromJson(e){return Object.assign(new Gn,JSON.parse(e))}}let On=class{constructor(){we(this,"name","");we(this,"email","")}};const Mt={}.HNS_API_URL,Nn=typeof window<"u";console.log("IsBrowser: "+Nn);const ur=()=>{const t=Ve(null),{subscribe:e,set:n,update:l}=t;return fetch(Mt+"Api/Account/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}).then(s=>{s.ok?s.json().then(i=>n(Object.assign(new On,i))):console.log(s.statusText)}),{subscribe:e,set:n,update:l,createAccount:async(s,i,r,o)=>{if(Ke(t)){o(["Already logged-in. Log out first."]);return}const c=await fetch(Mt+"Api/Account/Create",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:s,email:i,password:r})});switch(c.status){case 200:c.json().then(u=>n(Object.assign(new On,u)));break;case 400:c.json().then(u=>{let f=Object.values(u.errors).flatMap(d=>d);o(f)});break;case 422:c.json().then(u=>{let f=Object.values(u).flatMap(d=>d);o(f)});break;default:console.error(`Unrecognized response status ${c.status}: ${c.statusText}.`);break}},login:async(s,i,r)=>{if(Ke(t)){console.log("Tried to login while already logged in. Log out first.");return}const o=await fetch(Mt+"Api/Account/Login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:s,password:i})});switch(o.status){case 200:o.json().then(c=>n(Object.assign(new On,c)));break;case 400:o.json().then(c=>{let u=Object.values(c.errors).flatMap(f=>f);r(u)});break;case 401:o.json().then(c=>{let u=Object.values(c).flatMap(f=>f.errors.map(d=>d.errorMessage));r(u)});break;default:console.error("Unrecognized response status '"+o.status+": "+o.statusText+"'");break}},logout:async()=>{await fetch(Mt+"Api/Account/Logout",{method:"POST",credentials:"include"}).then(s=>{ut.set(null),location.reload()},s=>console.log(s))},updateAccount:async(s,i,r,o,c,u)=>{const f=await fetch(Mt+"Api/Account",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:s,email:i,password:r,currentPassword:o})});switch(f.status){case 200:f.json().then(d=>n(Object.assign(new On,d))),c();break;case 400:f.json().then(d=>{let h=Object.values(d.errors).flatMap(m=>m);u(h)});break;case 401:f.json().then(d=>{let h=Object.values(d).flatMap(m=>m.errors.map(b=>b.errorMessage));u(h)});break;case 422:f.json().then(d=>{let h=Object.values(d).flatMap(m=>m);u(h)});break;default:console.error("Unrecognized response status '"+f.status+": "+f.statusText+"'");break}}}},ut=ur(),Gl=async()=>fetch(Mt+"Api/Characters/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function Jl(t,e){const n=t={};return l=>{t===n&&(l.ok?l.json().then(s=>{let i=s.map(r=>Object.assign(new Gn,r));e(i)}):(e([]),console.log(l.statusText)))}}const fr=async()=>fetch(Mt+"Api/Characters/",{method:"POST",credentials:"include",headers:{Accept:"application/json"}});function dr(t,e,n){const l=t={};return s=>{s.ok?s.json().then(i=>{if(t===l){let r=i.map(o=>Object.assign(new Gn,o));e(o=>(o.push(r),o)),n(r.id)}}):console.log(s.statusText)}}function _r(){var t=[];const{subscribe:e,set:n,update:l}=Ve(t);let s={};return Promise.resolve(Gl()).then(Jl(s,n)),{subscribe:e,refresh:()=>{Promise.resolve(Gl()).then(Jl(s,n))},create:i=>{Promise.resolve(fr()).then(dr(s,l,i))}}}const sl=_r(),pr=async t=>fetch(Mt+"Api/Characters/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function Xn(t,e){const n=t={};return l=>{t===n&&(l.ok?l.json().then(s=>{e(Object.assign(new hn,s))}):console.log(l.statusText))}}const Yl=async t=>fetch(Mt+"Api/Characters/"+t.id,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}),Ln="HnsCharacter/local";function hr(){const t=Ve(new hn),{subscribe:e,set:n,update:l}=t;let s=n,i=l;if(Nn){const r=localStorage.getItem(Ln);r!==null?(console.log("Loading char "+r),n(hn.FromJson(r))):(console.log("New char"),localStorage.setItem(Ln,JSON.stringify(Ke(t)))),s=o=>{console.log("Set char"),Nn&&localStorage.setItem(Ln,JSON.stringify(o)),n(o)},i=o=>{console.log("Update char");const c=o(Ke(t));Nn&&localStorage.setItem(Ln,JSON.stringify(c)),n(c)}}return{subscribe:e,set:s,update:i}}const mr=hr(),Zn={};function br(t){if(Object.hasOwn(Zn,t))return Zn[t];let e={};const n=Ve(new hn(t)),{subscribe:l,set:s,update:i}=n;if(!Wn(t))return console.error("Invalid id '"+t+"'"),{subscribe:l,set:s,update:i};Promise.resolve(pr(t)).then(Xn(e,s));const r={subscribe:l,set:o=>{if(console.log("Set char"),t!=o.id){console.error("Id did not match");return}Promise.resolve(Yl(o)).then(Xn(e,s))},update:o=>{console.log("Update char");const c=o(Ke(n));Promise.resolve(Yl(c)).then(Xn(e,s))}};return Zn[t]=r,r}function Kl(t,e,n){const l=t.slice();return l[12]=e[n],l}function gr(t){let e,n,l,s=t[4].name+"",i,r,o;function c(d,h){return d[3]?$r:kr}let u=c(t),f=u(t);return{c(){e=_("div"),n=_("p"),l=O("Hello "),i=O(s),r=O("!"),o=g(),f.c(),p(n,"class","svelte-9xzto8"),p(e,"class","logout-box svelte-9xzto8")},m(d,h){k(d,e,h),a(e,n),a(n,l),a(n,i),a(n,r),a(e,o),f.m(e,null)},p(d,h){h&16&&s!==(s=d[4].name+"")&&V(i,s),u===(u=c(d))&&f?f.p(d,h):(f.d(1),f=u(d),f&&(f.c(),f.m(e,null)))},d(d){d&&v(e),f.d()}}}function vr(t){let e,n,l,s,i,r,o,c,u,f,d,h,m,b,y,S,C,j,q=ce(t[2]),$=[];for(let N=0;N<q.length;N+=1)$[N]=Vl(Kl(t,q,N));return{c(){e=_("form"),n=_("div"),l=_("label"),l.textContent="Name",s=g(),i=_("input"),r=g(),o=_("div"),c=_("label"),c.textContent="Password",u=g(),f=_("input"),d=g(),h=_("div"),m=_("button"),m.textContent="Sign-Up…",b=g(),y=_("button"),y.textContent="Login",S=g();for(let N=0;N<$.length;N+=1)$[N].c();p(l,"for","nameOrEmail"),p(l,"class","svelte-9xzto8"),p(i,"name","nameOrEmail"),p(i,"type","text"),p(i,"placeholder","or Email"),p(i,"class","svelte-9xzto8"),p(n,"class","svelte-9xzto8"),p(c,"for","password"),p(c,"class","svelte-9xzto8"),p(f,"name","password"),p(f,"type","password"),p(f,"class","svelte-9xzto8"),p(o,"class","svelte-9xzto8"),p(m,"type","button"),p(y,"class","bright"),p(y,"type","submit"),p(h,"class","svelte-9xzto8"),p(e,"class","login-box svelte-9xzto8"),p(e,"method","post")},m(N,B){k(N,e,B),a(e,n),a(n,l),a(n,s),a(n,i),ae(i,t[0]),a(e,r),a(e,o),a(o,c),a(o,u),a(o,f),ae(f,t[1]),a(e,d),a(e,h),a(h,m),a(h,b),a(h,y),a(e,S);for(let D=0;D<$.length;D+=1)$[D]&&$[D].m(e,null);C||(j=[Z(i,"input",t[8]),Z(f,"input",t[9]),Z(m,"click",Ct(t[10])),Z(e,"submit",Ct(t[6]))],C=!0)},p(N,B){if(B&1&&i.value!==N[0]&&ae(i,N[0]),B&2&&f.value!==N[1]&&ae(f,N[1]),B&4){q=ce(N[2]);let D;for(D=0;D<q.length;D+=1){const R=Kl(N,q,D);$[D]?$[D].p(R,B):($[D]=Vl(R),$[D].c(),$[D].m(e,null))}for(;D<$.length;D+=1)$[D].d(1);$.length=q.length}},d(N){N&&v(e),Ue($,N),C=!1,ye(j)}}}function kr(t){let e,n,l;return{c(){e=_("button"),e.textContent="Logout",p(e,"class","logout-button")},m(s,i){k(s,e,i),n||(l=Z(e,"click",t[5]),n=!0)},p:H,d(s){s&&v(e),n=!1,l()}}}function $r(t){let e,n,l,s,i,r,o;return{c(){e=_("div"),n=O(`Logout?
        `),l=_("button"),l.textContent="No",s=g(),i=_("button"),i.textContent="Yes",p(l,"class","logout-confirm-button svelte-9xzto8"),p(i,"class","bright-red logout-confirm-button svelte-9xzto8"),p(e,"class","logout-confirmation svelte-9xzto8")},m(c,u){k(c,e,u),a(e,n),a(e,l),a(e,s),a(e,i),r||(o=[Z(l,"click",t[5]),Z(i,"click",t[7])],r=!0)},p:H,d(c){c&&v(e),r=!1,ye(o)}}}function Vl(t){let e,n=t[12]+"",l;return{c(){e=_("label"),l=O(n),F(e,"text-align","left"),p(e,"for","errors"),p(e,"class","svelte-9xzto8")},m(s,i){k(s,e,i),a(e,l)},p(s,i){i&4&&n!==(n=s[12]+"")&&V(l,n)},d(s){s&&v(e)}}}function wr(t){let e;function n(i,r){return i[4]?gr:vr}let l=n(t),s=l(t);return{c(){s.c(),e=ge()},m(i,r){s.m(i,r),k(i,e,r)},p(i,[r]){l===(l=n(i))&&s?s.p(i,r):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},i:H,o:H,d(i){i&&v(e),s.d(i)}}}function yr(t,e,n){let l;We(t,ut,b=>n(4,l=b));let s="",i="",r=[],o=!1;function c(){n(3,o=!o)}async function u(){n(2,r=[]),await ut.login(s,i,b=>{n(2,r=b)})}async function f(){await ut.logout()}function d(){s=this.value,n(0,s)}function h(){i=this.value,n(1,i)}return[s,i,r,o,l,c,u,f,d,h,()=>wn("/account")]}class Cr extends Ae{constructor(e){super(),je(this,e,yr,wr,ve,{})}}function Ql(t,e,n){const l=t.slice();return l[2]=e[n][0],l[3]=e[n][1],l}function Pr(t){let e;return{c(){e=O("Rulebook")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Sr(t){let e;return{c(){e=O("Dice Roller")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function jr(t){let e;return{c(){e=O("AGE Roller")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Ar(t){let e;return{c(){e=O("Eye Roller")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Or(t){let e;return{c(){e=O("My Account")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Lr(t){let e;return{c(){e=O("Characters")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Er(t){let e=t[3].name+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p:H,d(l){l&&v(n)}}}function Xl(t){let e,n;return e=new it({props:{to:"/character/"+t[2],getProps:il,$$slots:{default:[Er]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(l,s){W(e,l,s),n=!0},p(l,s){const i={};s&64&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){G(e,l)}}}function Mr(t){let e,n,l,s,i,r,o,c,u,f,d,h,m,b,y,S,C,j,q,$,N,B,D;o=new it({props:{to:"/srd",getProps:En,$$slots:{default:[Pr]},$$scope:{ctx:t}}}),u=new it({props:{to:"/dice",getProps:En,$$slots:{default:[Sr]},$$scope:{ctx:t}}}),d=new it({props:{to:"/dice/ageroller",getProps:il,$$slots:{default:[jr]},$$scope:{ctx:t}}}),m=new it({props:{to:"/dice/eyeroller",getProps:il,$$slots:{default:[Ar]},$$scope:{ctx:t}}}),C=new it({props:{to:"/account",getProps:En,$$slots:{default:[Or]},$$scope:{ctx:t}}}),q=new it({props:{to:"/character",getProps:En,$$slots:{default:[Lr]},$$scope:{ctx:t}}});let R=ce(Object.entries(t[0])),L=[];for(let P=0;P<R.length;P+=1)L[P]=Xl(Ql(t,R,P));const te=P=>M(L[P],1,1,()=>{L[P]=null});return B=new Cr({}),{c(){e=_("div"),n=_("nav"),l=_("a"),l.innerHTML='<img src="/img/HnsBig.svg" alt="H&amp;S"/>',s=g(),i=_("h4"),i.textContent="Hammer & Steel",r=g(),Y(o.$$.fragment),c=g(),Y(u.$$.fragment),f=g(),Y(d.$$.fragment),h=g(),Y(m.$$.fragment),b=g(),y=_("span"),y.textContent="---",S=g(),Y(C.$$.fragment),j=g(),Y(q.$$.fragment),$=g();for(let P=0;P<L.length;P+=1)L[P].c();N=g(),Y(B.$$.fragment),p(l,"href","/"),p(l,"id","home-button"),p(i,"class","title svelte-2gacrc"),F(y,"text-align","center"),p(n,"class","banded-menu"),p(e,"class","contents svelte-2gacrc")},m(P,T){k(P,e,T),a(e,n),a(n,l),a(n,s),a(n,i),a(n,r),W(o,n,null),a(n,c),W(u,n,null),a(n,f),W(d,n,null),a(n,h),W(m,n,null),a(n,b),a(n,y),a(n,S),W(C,n,null),a(n,j),W(q,n,null),a(n,$);for(let Q=0;Q<L.length;Q+=1)L[Q]&&L[Q].m(n,null);a(e,N),W(B,e,null),D=!0},p(P,[T]){const Q={};T&64&&(Q.$$scope={dirty:T,ctx:P}),o.$set(Q);const J={};T&64&&(J.$$scope={dirty:T,ctx:P}),u.$set(J);const X={};T&64&&(X.$$scope={dirty:T,ctx:P}),d.$set(X);const K={};T&64&&(K.$$scope={dirty:T,ctx:P}),m.$set(K);const Ce={};T&64&&(Ce.$$scope={dirty:T,ctx:P}),C.$set(Ce);const se={};if(T&64&&(se.$$scope={dirty:T,ctx:P}),q.$set(se),T&1){R=ce(Object.entries(P[0]));let z;for(z=0;z<R.length;z+=1){const x=Ql(P,R,z);L[z]?(L[z].p(x,T),E(L[z],1)):(L[z]=Xl(x),L[z].c(),E(L[z],1),L[z].m(n,null))}for(Oe(),z=R.length;z<L.length;z+=1)te(z);Le()}},i(P){if(!D){E(o.$$.fragment,P),E(u.$$.fragment,P),E(d.$$.fragment,P),E(m.$$.fragment,P),E(C.$$.fragment,P),E(q.$$.fragment,P);for(let T=0;T<R.length;T+=1)E(L[T]);E(B.$$.fragment,P),D=!0}},o(P){M(o.$$.fragment,P),M(u.$$.fragment,P),M(d.$$.fragment,P),M(m.$$.fragment,P),M(C.$$.fragment,P),M(q.$$.fragment,P),L=L.filter(Boolean);for(let T=0;T<L.length;T+=1)M(L[T]);M(B.$$.fragment,P),D=!1},d(P){P&&v(e),G(o),G(u),G(d),G(m),G(C),G(q),Ue(L,P),G(B)}}}function En(t){return t.isPartiallyCurrent?{class:"curr-path"}:{class:""}}function il(t){let{location:e,href:n,isPartiallyCurrent:l,isCurrent:s}=t;if(s)return{class:"ml20 active curr-path"};if(l)return{class:"ml20 active"};let i=e.pathname;if(console.log("pathname: "+i),i.length<=1||i[0]!=="/")return{class:"ml20 hidden"};const r=i.indexOf("/",1),o=r>0?i.slice(0,r):i;return console.log("rootpath: "+o),o.length<2?{class:"ml20 hidden"}:n.startsWith(o)?{class:"ml20 active"}:n.startsWith("/"+o)?{class:"ml20 active"}:{class:"ml20 hidden"}}function Nr(t,e,n){let l;return We(t,sl,i=>n(1,l=i)),[l]}class Js extends Ae{constructor(e){super(),je(this,e,Nr,Mr,ve,{})}}function Zl(t){let e,n,l,s,i,r;return n=new Js({}),{c(){e=_("div"),Y(n.$$.fragment),p(e,"role","dialog"),p(e,"class","modal svelte-1e2i3ow")},m(o,c){k(o,e,c),W(n,e,null),s=!0,i||(r=[Z(e,"introstart",t[2]),Z(e,"outroend",t[3])],i=!0)},i(o){s||(E(n.$$.fragment,o),o&&rt(()=>{s&&(l||(l=In(e,Ol,{x:-100},!0)),l.run(1))}),s=!0)},o(o){M(n.$$.fragment,o),o&&(l||(l=In(e,Ol,{x:-100},!1)),l.run(0)),s=!1},d(o){o&&v(e),G(n),o&&l&&l.end(),i=!1,ye(r)}}}function Tr(t){let e,n,l,s;rt(t[4]);let i=t[0]&&Zl(t);return{c(){i&&i.c(),e=ge()},m(r,o){i&&i.m(r,o),k(r,e,o),n=!0,l||(s=Z(window,"resize",t[4]),l=!0)},p(r,[o]){r[0]?i?o&1&&E(i,1):(i=Zl(r),i.c(),E(i,1),i.m(e.parentNode,e)):i&&(Oe(),M(i,1,1,()=>{i=null}),Le())},i(r){n||(E(i),n=!0)},o(r){M(i),n=!1},d(r){r&&v(e),i&&i.d(r),l=!1,s()}}}function Rr(t,e,n){let{isOpen:l=!1}=e,s=0;function i(c){jl.call(this,t,c)}function r(c){jl.call(this,t,c)}function o(){n(1,s=window.innerWidth)}return t.$$set=c=>{"isOpen"in c&&n(0,l=c.isOpen)},t.$$.update=()=>{t.$$.dirty&3&&l&&s>=1e3&&hl()},[l,s,i,r,o]}class Hr extends Ae{constructor(e){super(),je(this,e,Rr,Tr,ve,{isOpen:0})}}function xl(t,e,n){const l=t.slice();return l[29]=e[n],l}function es(t,e,n){const l=t.slice();return l[29]=e[n],l}function qr(t){let e,n,l,s,i,r,o,c,u,f,d,h,m,b,y,S,C,j,q,$,N,B,D;function R(z,x){return z[0]?Fr:Dr}let L=R(t),te=L(t);function P(z,x){return z[1]?Br:zr}let T=P(t),Q=T(t);function J(z,x){return z[2]?Wr:Ur}let X=J(t),K=X(t),Ce=ce(t[10]),se=[];for(let z=0;z<Ce.length;z+=1)se[z]=ts(xl(t,Ce,z));return{c(){e=_("form"),n=_("label"),n.textContent="Account Name",l=g(),te.c(),s=g(),i=_("label"),i.textContent="Email",r=g(),Q.c(),o=g(),c=_("label"),c.textContent="Password",u=g(),K.c(),f=g(),d=_("div"),h=g(),m=_("label"),m.textContent="Current Password",b=g(),y=_("input"),C=g(),j=_("button"),q=O("Apply Changes"),N=g();for(let z=0;z<se.length;z+=1)se[z].c();p(n,"for","name"),p(n,"class","svelte-1o9ee78"),p(i,"for","email"),p(i,"class","svelte-1o9ee78"),p(c,"for","password"),p(c,"class","svelte-1o9ee78"),F(d,"grid-column","span 3"),F(d,"height","20px"),p(m,"for","currentPassword"),p(m,"class","svelte-1o9ee78"),p(y,"name","currentPassword"),p(y,"type","password"),y.disabled=S=!t[8],p(j,"class","grid-form-submit svelte-1o9ee78"),p(j,"type","submit"),j.disabled=$=!t[8],p(e,"class","grid-3-form svelte-1o9ee78"),p(e,"method","post")},m(z,x){k(z,e,x),a(e,n),a(e,l),te.m(e,null),a(e,s),a(e,i),a(e,r),Q.m(e,null),a(e,o),a(e,c),a(e,u),K.m(e,null),a(e,f),a(e,d),a(e,h),a(e,m),a(e,b),a(e,y),ae(y,t[7]),a(e,C),a(e,j),a(j,q),a(e,N);for(let ee=0;ee<se.length;ee+=1)se[ee]&&se[ee].m(e,null);B||(D=[Z(y,"input",t[28]),Z(e,"submit",Ct(t[16]))],B=!0)},p(z,x){if(L===(L=R(z))&&te?te.p(z,x):(te.d(1),te=L(z),te&&(te.c(),te.m(e,s))),T===(T=P(z))&&Q?Q.p(z,x):(Q.d(1),Q=T(z),Q&&(Q.c(),Q.m(e,o))),X===(X=J(z))&&K?K.p(z,x):(K.d(1),K=X(z),K&&(K.c(),K.m(e,f))),x[0]&256&&S!==(S=!z[8])&&(y.disabled=S),x[0]&128&&y.value!==z[7]&&ae(y,z[7]),x[0]&256&&$!==($=!z[8])&&(j.disabled=$),x[0]&1024){Ce=ce(z[10]);let ee;for(ee=0;ee<Ce.length;ee+=1){const Re=xl(z,Ce,ee);se[ee]?se[ee].p(Re,x):(se[ee]=ts(Re),se[ee].c(),se[ee].m(e,null))}for(;ee<se.length;ee+=1)se[ee].d(1);se.length=Ce.length}},d(z){z&&v(e),te.d(),Q.d(),K.d(),Ue(se,z),B=!1,ye(D)}}}function Ir(t){let e,n,l,s,i,r,o,c,u,f,d,h,m,b,y,S,C,j,q,$,N,B,D,R,L,te,P,T=ce(t[9]),Q=[];for(let J=0;J<T.length;J+=1)Q[J]=ns(es(t,T,J));return{c(){e=_("p"),e.textContent="Not logged-in",n=g(),l=_("br"),s=g(),i=_("h3"),i.textContent="Create Account",r=g(),o=_("form"),c=_("label"),c.textContent="Account Name",u=g(),f=_("input"),d=g(),h=_("label"),h.textContent="Email",m=g(),b=_("input"),y=g(),S=_("label"),S.textContent="Password",C=g(),j=_("input"),q=g(),$=_("label"),$.textContent="Confirm Password",N=g(),B=_("input"),D=g(),R=_("button"),R.textContent="Create Account",L=g();for(let J=0;J<Q.length;J+=1)Q[J].c();p(c,"for","name"),p(c,"class","svelte-1o9ee78"),p(f,"type","text"),p(h,"for","email"),p(h,"class","svelte-1o9ee78"),p(b,"type","text"),p(S,"for","password"),p(S,"class","svelte-1o9ee78"),p(j,"type","text"),p($,"for","password2"),p($,"class","svelte-1o9ee78"),p(B,"type","text"),p(B,"class","svelte-1o9ee78"),Dt(B,"red-outline",t[5]!==t[6]),p(R,"class","grid-form-submit svelte-1o9ee78"),p(R,"type","submit"),p(o,"class","grid-form svelte-1o9ee78"),p(o,"method","post")},m(J,X){k(J,e,X),k(J,n,X),k(J,l,X),k(J,s,X),k(J,i,X),k(J,r,X),k(J,o,X),a(o,c),a(o,u),a(o,f),ae(f,t[3]),a(o,d),a(o,h),a(o,m),a(o,b),ae(b,t[4]),a(o,y),a(o,S),a(o,C),a(o,j),ae(j,t[5]),a(o,q),a(o,$),a(o,N),a(o,B),ae(B,t[6]),a(o,D),a(o,R),a(o,L);for(let K=0;K<Q.length;K+=1)Q[K]&&Q[K].m(o,null);te||(P=[Z(f,"input",t[18]),Z(b,"input",t[19]),Z(j,"input",t[20]),Z(B,"input",t[21]),Z(o,"submit",Ct(t[15]))],te=!0)},p(J,X){if(X[0]&8&&f.value!==J[3]&&ae(f,J[3]),X[0]&16&&b.value!==J[4]&&ae(b,J[4]),X[0]&32&&j.value!==J[5]&&ae(j,J[5]),X[0]&64&&B.value!==J[6]&&ae(B,J[6]),X[0]&96&&Dt(B,"red-outline",J[5]!==J[6]),X[0]&512){T=ce(J[9]);let K;for(K=0;K<T.length;K+=1){const Ce=es(J,T,K);Q[K]?Q[K].p(Ce,X):(Q[K]=ns(Ce),Q[K].c(),Q[K].m(o,null))}for(;K<Q.length;K+=1)Q[K].d(1);Q.length=T.length}},d(J){J&&(v(e),v(n),v(l),v(s),v(i),v(r),v(o)),Ue(Q,J),te=!1,ye(P)}}}function Dr(t){let e,n,l,s,i;return{c(){e=_("input"),n=g(),l=_("button"),l.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-1o9ee78"/>',p(e,"name","name"),p(e,"type","text"),e.disabled=!0,p(l,"class","svelte-1o9ee78")},m(r,o){k(r,e,o),ae(e,t[11].name),k(r,n,o),k(r,l,o),s||(i=[Z(e,"input",t[23]),Z(l,"click",Ct(t[12]))],s=!0)},p(r,o){o[0]&2048&&e.value!==r[11].name&&ae(e,r[11].name)},d(r){r&&(v(e),v(n),v(l)),s=!1,ye(i)}}}function Fr(t){let e,n,l,s,i;return{c(){e=_("input"),n=g(),l=_("button"),l.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-1o9ee78"/>',p(e,"name","name"),p(e,"type","text"),p(l,"class","svelte-1o9ee78")},m(r,o){k(r,e,o),ae(e,t[3]),k(r,n,o),k(r,l,o),s||(i=[Z(e,"input",t[22]),Z(l,"click",Ct(t[12]))],s=!0)},p(r,o){o[0]&8&&e.value!==r[3]&&ae(e,r[3])},d(r){r&&(v(e),v(n),v(l)),s=!1,ye(i)}}}function zr(t){let e,n,l,s,i;return{c(){e=_("input"),n=g(),l=_("button"),l.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-1o9ee78"/>',p(e,"name","email"),p(e,"type","text"),e.disabled=!0,p(l,"class","svelte-1o9ee78")},m(r,o){k(r,e,o),ae(e,t[11].email),k(r,n,o),k(r,l,o),s||(i=[Z(e,"input",t[25]),Z(l,"click",Ct(t[13]))],s=!0)},p(r,o){o[0]&2048&&e.value!==r[11].email&&ae(e,r[11].email)},d(r){r&&(v(e),v(n),v(l)),s=!1,ye(i)}}}function Br(t){let e,n,l,s,i;return{c(){e=_("input"),n=g(),l=_("button"),l.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-1o9ee78"/>',p(e,"name","email"),p(e,"type","text"),p(l,"class","svelte-1o9ee78")},m(r,o){k(r,e,o),ae(e,t[4]),k(r,n,o),k(r,l,o),s||(i=[Z(e,"input",t[24]),Z(l,"click",Ct(t[13]))],s=!0)},p(r,o){o[0]&16&&e.value!==r[4]&&ae(e,r[4])},d(r){r&&(v(e),v(n),v(l)),s=!1,ye(i)}}}function Ur(t){let e,n,l,s,i,r,o,c,u,f,d;return{c(){e=_("input"),n=g(),l=_("div"),s=g(),i=_("label"),i.textContent="Confirm Password",r=g(),o=_("input"),c=g(),u=_("button"),u.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-1o9ee78"/>',p(e,"name","password"),F(e,"text-align","center"),p(e,"type","text"),e.value="---",e.disabled=!0,p(i,"for","password"),p(i,"class","svelte-1o9ee78"),p(o,"name","password"),F(o,"text-align","center"),p(o,"type","text"),o.value="---",o.disabled=!0,p(u,"class","svelte-1o9ee78")},m(h,m){k(h,e,m),k(h,n,m),k(h,l,m),k(h,s,m),k(h,i,m),k(h,r,m),k(h,o,m),k(h,c,m),k(h,u,m),f||(d=Z(u,"click",Ct(t[14])),f=!0)},p:H,d(h){h&&(v(e),v(n),v(l),v(s),v(i),v(r),v(o),v(c),v(u)),f=!1,d()}}}function Wr(t){let e,n,l,s,i,r,o,c,u,f,d;return{c(){e=_("input"),n=g(),l=_("div"),s=g(),i=_("label"),i.textContent="Confirm Password",r=g(),o=_("input"),c=g(),u=_("button"),u.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-1o9ee78"/>',p(e,"name","password"),p(e,"type","password"),p(i,"for","password"),p(i,"class","svelte-1o9ee78"),p(o,"name","password"),p(o,"type","password"),p(u,"class","svelte-1o9ee78")},m(h,m){k(h,e,m),ae(e,t[5]),k(h,n,m),k(h,l,m),k(h,s,m),k(h,i,m),k(h,r,m),k(h,o,m),ae(o,t[6]),k(h,c,m),k(h,u,m),f||(d=[Z(e,"input",t[26]),Z(o,"input",t[27]),Z(u,"click",Ct(t[14]))],f=!0)},p(h,m){m[0]&32&&e.value!==h[5]&&ae(e,h[5]),m[0]&64&&o.value!==h[6]&&ae(o,h[6])},d(h){h&&(v(e),v(n),v(l),v(s),v(i),v(r),v(o),v(c),v(u)),f=!1,ye(d)}}}function ts(t){let e,n=t[29]+"",l;return{c(){e=_("label"),l=O(n),p(e,"class","grid-form-error svelte-1o9ee78"),p(e,"for","errors")},m(s,i){k(s,e,i),a(e,l)},p(s,i){i[0]&1024&&n!==(n=s[29]+"")&&V(l,n)},d(s){s&&v(e)}}}function ns(t){let e,n=t[29]+"",l;return{c(){e=_("label"),l=O(n),p(e,"class","grid-form-error svelte-1o9ee78"),p(e,"for","errors")},m(s,i){k(s,e,i),a(e,l)},p(s,i){i[0]&512&&n!==(n=s[29]+"")&&V(l,n)},d(s){s&&v(e)}}}function Gr(t){let e,n,l;function s(o,c){return o[11]==null?Ir:qr}let i=s(t),r=i(t);return{c(){e=_("div"),n=_("h2"),n.textContent="Account Information",l=g(),r.c(),p(e,"class","page")},m(o,c){k(o,e,c),a(e,n),a(e,l),r.m(e,null)},p(o,c){i===(i=s(o))&&r?r.p(o,c):(r.d(1),r=i(o),r&&(r.c(),r.m(e,null)))},i:H,o:H,d(o){o&&v(e),r.d()}}}function Jr(t,e,n){let l;We(t,ut,K=>n(11,l=K));let{location:s=""}=e,i="",r=!1,o="",c=!1,u="",f="",d=!1,h="",m=!1;function b(){var K;n(0,r=!r),r?n(3,i=((K=Ke(ut))==null?void 0:K.name)??""):n(3,i="")}function y(){var K;n(1,c=!c),c?n(4,o=((K=Ke(ut))==null?void 0:K.email)??""):n(4,o="")}function S(){n(2,d=!d),d||n(5,u=n(6,f=""))}let C=[];async function j(){n(9,C=[]),i.length==0&&C.push("Name required"),o.length==0&&C.push("Email required"),u.length==0&&C.push("Password required"),u!==f&&C.push("Error: Passwords did not match"),!(C.length>0)&&await ut.createAccount(i,o,u,K=>{n(9,C=K)})}let q=[];async function $(){n(10,q=[]),r&&i.length==0&&q.push("Name required"),c&&o.length==0&&q.push("Email required"),d&&u.length==0&&q.push("Password required"),d&&u!==f&&q.push("Passwords did not match"),h.length==0&&q.push("Current password Required"),!(q.length>0)&&await ut.updateAccount(r?i:null,c?o:null,d?u:null,h,()=>{r&&b(),c&&y(),d&&S(),n(7,h="")},K=>n(10,q=K))}function N(){i=this.value,n(3,i)}function B(){o=this.value,n(4,o)}function D(){u=this.value,n(5,u)}function R(){f=this.value,n(6,f)}function L(){i=this.value,n(3,i)}function te(){l.name=this.value,ut.set(l)}function P(){o=this.value,n(4,o)}function T(){l.email=this.value,ut.set(l)}function Q(){u=this.value,n(5,u)}function J(){f=this.value,n(6,f)}function X(){h=this.value,n(7,h)}return t.$$set=K=>{"location"in K&&n(17,s=K.location)},t.$$.update=()=>{t.$$.dirty[0]&7&&n(8,m=r||c||d)},[r,c,d,i,o,u,f,h,m,C,q,l,b,y,S,j,$,s,N,B,D,R,L,te,P,T,Q,J,X]}class Yr extends Ae{constructor(e){super(),je(this,e,Jr,Gr,ve,{location:17},null,[-1,-1])}}function Kr(t){let e,n=(t[0]==1/0?"?":t[0])+"",l,s,i,r;return{c(){e=_("button"),l=O(n),p(e,"type","button"),p(e,"class",s="die faces-"+(t[2]==t[7]?"F":t[2]==t[8]?"E":t[2])+" result-"+t[0]+" svelte-ogq5bb"),Dt(e,"active",t[1]),Dt(e,"inverted",t[5]),Dt(e,"show-pips",t[3])},m(o,c){k(o,e,c),a(e,l),t[11](e),i||(r=Z(e,"click",t[12]),i=!0)},p(o,[c]){c&1&&n!==(n=(o[0]==1/0?"?":o[0])+"")&&V(l,n),c&5&&s!==(s="die faces-"+(o[2]==o[7]?"F":o[2]==o[8]?"E":o[2])+" result-"+o[0]+" svelte-ogq5bb")&&p(e,"class",s),c&7&&Dt(e,"active",o[1]),c&37&&Dt(e,"inverted",o[5]),c&13&&Dt(e,"show-pips",o[3])},i:H,o:H,d(o){o&&v(e),t[11](null),i=!1,r()}}}function Vr(t,e,n){let{faces:l=6}=e,{showPips:s=!1}=e,{result:i=1/0}=e,{active:r=!1}=e,{enabled:o=!0}=e,{invert:c=!1}=e;const u=-1,f=-2;let d;function h(){if(l>0)return Math.floor(Math.random()*l)+1;if(l==u)return Math.floor(Math.random()*3)-1;if(l==f){var j=Math.floor(Math.random()*6)+1;if(j==1)return 1;if(j==2||j==3)return 2;if(j==4||j==5||j==6)return 3}return 0}function m(){d&&(n(6,d.style.animation="none",d),d.offsetHeight,n(6,d.style.animation=null,d))}function b(){o&&(n(0,i=h()),n(1,r=!1),m())}function y(){!r||!o||(n(0,i=h()),n(1,r=!1),m())}function S(j){Me[j?"unshift":"push"](()=>{d=j,n(6,d)})}const C=()=>{n(1,r=o&&!r)};return t.$$set=j=>{"faces"in j&&n(2,l=j.faces),"showPips"in j&&n(3,s=j.showPips),"result"in j&&n(0,i=j.result),"active"in j&&n(1,r=j.active),"enabled"in j&&n(4,o=j.enabled),"invert"in j&&n(5,c=j.invert)},t.$$.update=()=>{t.$$.dirty&17&&n(0,i=o?h():i)},[i,r,l,s,o,c,d,u,f,b,y,S,C]}class Fe extends Ae{constructor(e){super(),je(this,e,Vr,Kr,ve,{faces:2,showPips:3,result:0,active:1,enabled:4,invert:5,roll:9,rollIfActive:10})}get roll(){return this.$$.ctx[9]}get rollIfActive(){return this.$$.ctx[10]}}function ls(t,e,n){const l=t.slice();return l[11]=e[n],l[12]=e,l[13]=n,l}function ss(t,e){let n,l,s=e[13],i,r,o;const c=()=>e[6](l,s),u=()=>e[6](null,s);function f(m){e[7](m,e[11])}function d(m){e[8](m,e[11])}let h={showPips:!0,invert:e[13]==2};return e[11].result!==void 0&&(h.result=e[11].result),e[11].active!==void 0&&(h.active=e[11].active),l=new Fe({props:h}),c(),Me.push(()=>Xe(l,"result",f)),Me.push(()=>Xe(l,"active",d)),{key:t,first:null,c(){n=ge(),Y(l.$$.fragment),this.first=n},m(m,b){k(m,n,b),W(l,m,b),o=!0},p(m,b){e=m,s!==e[13]&&(u(),s=e[13],c());const y={};b&1&&(y.invert=e[13]==2),!i&&b&1&&(i=!0,y.result=e[11].result,Qe(()=>i=!1)),!r&&b&1&&(r=!0,y.active=e[11].active,Qe(()=>r=!1)),l.$set(y)},i(m){o||(E(l.$$.fragment,m),o=!0)},o(m){M(l.$$.fragment,m),o=!1},d(m){m&&v(n),u(),G(l,m)}}}function Qr(t){let e;return{c(){e=O("Quality")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Xr(t){let e;return{c(){e=O("Stunt!")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Zr(t){let e,n,l,s,i,r,o,c=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),u,f,d,h,m=[],b=new Map,y,S,C,j,q,$,N=t[2].sum+"",B,D,R,L,te,P,T=t[2].stunt+"",Q,J,X,K,Ce,se,z,x,ee,Re,re,ke,$e,ze,pe,He,me,Ne,_e=t[2].sum+t[3]+"",Ee,he,Ie,oe,De,be,A=ce(t[0]);const ue=le=>le[11].id;for(let le=0;le<A.length;le+=1){let fe=ls(t,A,le),Je=ue(fe);b.set(Je,m[le]=ss(Je,fe))}function w(le,fe){return le[2].hasPair?Xr:Qr}let ie=w(t),Ge=ie(t);return{c(){e=_("div"),n=_("h1"),n.textContent="Age Dice Roller",l=g(),s=_("p"),s.textContent="Roll 3d6 and sum them. One d6 is special and used for success quality and stunt points.",i=g(),r=_("div"),o=_("button"),u=O(c),d=g(),h=_("div");for(let le=0;le<m.length;le+=1)m[le].c();y=g(),S=_("div"),C=_("div"),j=_("h2"),j.textContent="Sum",q=g(),$=_("h3"),B=O(N),D=g(),R=_("div"),L=_("h2"),Ge.c(),te=g(),P=_("h3"),Q=O(T),J=g(),X=_("div"),K=_("div"),K.innerHTML='<h2 style="line-height:3em;">+</h2>',Ce=g(),se=_("div"),z=_("h2"),z.textContent="Mod",x=g(),ee=_("input"),Re=g(),re=_("input"),ke=g(),$e=_("div"),$e.innerHTML='<h2 style="line-height:3em;">=</h2>',ze=g(),pe=_("div"),He=_("h2"),He.textContent="Result",me=g(),Ne=_("h3"),Ee=O(_e),he=g(),Ie=_("p"),Ie.innerHTML='Check out Fantasy Age and the other Age RPGs by <a href="https://greenronin.com/">Green Ronin</a> (Not affiliated)',p(o,"class","button-outlined"),o.disabled=f=t[0].length<=0,F(r,"justify-content","center"),p(h,"class","dice-box svelte-1555w2s"),p(j,"class","text-center"),F(j,"margin-bottom","0"),p($,"class","result svelte-1555w2s"),F($,"width","128px"),F($,"margin","0 auto 0 auto"),p(L,"class","text-center"),F(L,"margin-bottom","0"),p(P,"class","result svelte-1555w2s"),F(P,"width","100px"),F(P,"margin","0 auto 0 auto"),p(S,"class","result-summary svelte-1555w2s"),p(z,"class","text-center"),F(z,"margin-bottom","0"),p(ee,"type","number"),p(ee,"class","result svelte-1555w2s"),F(ee,"width","100px"),F(ee,"margin","0 auto 0 auto"),p(re,"type","range"),p(re,"class","result svelte-1555w2s"),F(re,"width","100px"),F(re,"margin","0 auto 0 auto"),p(re,"min","-10"),p(re,"max","10"),p(He,"class","text-center"),F(He,"margin-bottom","0"),p(Ne,"class","result svelte-1555w2s"),F(Ne,"width","100px"),F(Ne,"margin","0 auto 0 auto"),p(X,"class","result-mod svelte-1555w2s"),p(e,"class","page")},m(le,fe){k(le,e,fe),a(e,n),a(e,l),a(e,s),a(e,i),a(e,r),a(r,o),a(o,u),a(e,d),a(e,h);for(let Je=0;Je<m.length;Je+=1)m[Je]&&m[Je].m(h,null);a(e,y),a(e,S),a(S,C),a(C,j),a(C,q),a(C,$),a($,B),a(S,D),a(S,R),a(R,L),Ge.m(L,null),a(R,te),a(R,P),a(P,Q),a(e,J),a(e,X),a(X,K),a(X,Ce),a(X,se),a(se,z),a(se,x),a(se,ee),ae(ee,t[3]),a(se,Re),a(se,re),ae(re,t[3]),a(X,ke),a(X,$e),a(X,ze),a(X,pe),a(pe,He),a(pe,me),a(pe,Ne),a(Ne,Ee),a(e,he),a(e,Ie),oe=!0,De||(be=[Z(o,"click",t[4]),Z(ee,"input",t[9]),Z(re,"change",t[10]),Z(re,"input",t[10])],De=!0)},p(le,[fe]){(!oe||fe&4)&&c!==(c=le[2].active==0?"Reroll All":"Reroll "+String(le[2].active))&&V(u,c),(!oe||fe&1&&f!==(f=le[0].length<=0))&&(o.disabled=f),fe&3&&(A=ce(le[0]),Oe(),m=Un(m,fe,ue,1,le,A,b,h,Bn,ss,null,ls),Le()),(!oe||fe&4)&&N!==(N=le[2].sum+"")&&V(B,N),ie!==(ie=w(le))&&(Ge.d(1),Ge=ie(le),Ge&&(Ge.c(),Ge.m(L,null))),(!oe||fe&4)&&T!==(T=le[2].stunt+"")&&V(Q,T),fe&8&&_n(ee.value)!==le[3]&&ae(ee,le[3]),fe&8&&ae(re,le[3]),(!oe||fe&12)&&_e!==(_e=le[2].sum+le[3]+"")&&V(Ee,_e)},i(le){if(!oe){for(let fe=0;fe<A.length;fe+=1)E(m[fe]);oe=!0}},o(le){for(let fe=0;fe<m.length;fe+=1)M(m[fe]);oe=!1},d(le){le&&v(e);for(let fe=0;fe<m.length;fe+=1)m[fe].d();Ge.d(),De=!1,ye(be)}}}function xr(t,e,n){let{location:l=""}=e,s=[{id:0,result:0,active:!1},{id:1,result:0,active:!1},{id:2,result:0,active:!1}],i=[],r={active:0,sum:0,hasPair:!1,stunt:0};function o(){r.active==0?i.filter(b=>b).forEach(b=>b.roll()):i.filter(b=>b).forEach(b=>b.rollIfActive())}let c=0;function u(b,y){Me[b?"unshift":"push"](()=>{i[y]=b,n(1,i)})}function f(b,y){t.$$.not_equal(y.result,b)&&(y.result=b,n(0,s))}function d(b,y){t.$$.not_equal(y.active,b)&&(y.active=b,n(0,s))}function h(){c=_n(this.value),n(3,c)}function m(){c=_n(this.value),n(3,c)}return t.$$set=b=>{"location"in b&&n(5,l=b.location)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=s.reduce((b,y)=>(b.hasOwnProperty(y.result)?(b[y.result]+=1,b.hasPair=!0):b[y.result]=1,b.sum+=y.result,y.active&&(b.active=b.active+1),b),{active:0,sum:0,hasPair:!1,stunt:s[2].result}))},[s,i,r,c,o,l,u,f,d,h,m]}class eo extends Ae{constructor(e){super(),je(this,e,xr,Zr,ve,{location:5})}}function to(t){let e,n,l,s,i,r,o,c,u,f,d,h,m;return{c(){e=_("div"),n=_("label"),l=_("h4"),l.textContent="Character Name:",s=g(),i=_("input"),r=g(),o=_("br"),c=g(),u=_("label"),u.innerHTML="<h4>Description:</h4>",f=g(),d=_("p"),F(l,"display","inline-block"),p(i,"placeholder","Unnamed Character"),p(u,"for","description"),p(d,"id","description"),p(d,"contenteditable",""),p(d,"class","svelte-hcjfj9"),t[2].background.description===void 0&&rt(()=>t[4].call(d)),p(e,"class","sheet-block svelte-hcjfj9")},m(b,y){k(b,e,y),a(e,n),a(n,l),a(n,s),a(n,i),ae(i,t[2].name),a(e,r),a(e,o),a(e,c),a(e,u),a(e,f),a(e,d),t[2].background.description!==void 0&&(d.innerHTML=t[2].background.description),h||(m=[Z(i,"input",t[3]),Z(d,"input",t[4])],h=!0)},p(b,y){y&4&&i.value!==b[2].name&&ae(i,b[2].name),y&4&&b[2].background.description!==d.innerHTML&&(d.innerHTML=b[2].background.description)},d(b){b&&v(e),h=!1,ye(m)}}}function no(t){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","sheet-block svelte-hcjfj9")},m(n,l){k(n,e,l)},p:H,d(n){n&&v(e)}}}function lo(t){let e,n,l,s,i,r;return{c(){e=_("div"),n=_("h2"),n.textContent="Cannot Load Social Stats",l=g(),s=_("p"),i=O("Error: "),r=O(t[1]),p(e,"class","sheet-block svelte-hcjfj9")},m(o,c){k(o,e,c),a(e,n),a(e,l),a(e,s),a(s,i),a(s,r)},p(o,c){c&2&&V(r,o[1])},d(o){o&&v(e)}}}function so(t){let e;function n(i,r){return i[1]?lo:!i[0]||i[2]==null?no:to}let l=n(t),s=l(t);return{c(){s.c(),e=ge()},m(i,r){s.m(i,r),k(i,e,r)},p(i,[r]){l===(l=n(i))&&s?s.p(i,r):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},i:H,o:H,d(i){i&&v(e),s.d(i)}}}function io(t,e,n){let l,s=H,i=()=>(s(),s=Rt(o,f=>n(2,l=f)),o);t.$$.on_destroy.push(()=>s());let r,{character:o}=e;i(),nn(async()=>{if(!o){n(1,r="Failed to load character");return}});function c(){l.name=this.value,o.set(l)}function u(){l.background.description=this.innerHTML,o.set(l)}return t.$$set=f=>{"character"in f&&i(n(0,o=f.character))},[o,r,l,c,u]}class Ys extends Ae{constructor(e){super(),je(this,e,io,so,ve,{character:0})}}function ro(t){let e,n,l,s,i,r,o,c,u,f,d,h,m,b;return{c(){e=_("div"),n=_("label"),l=O("Character Name: "),s=_("input"),i=g(),r=_("br"),o=g(),c=_("span"),c.textContent="Description:",u=g(),f=_("br"),d=g(),h=_("p"),p(s,"placeholder","Unnamed Character"),p(h,"contenteditable",""),p(h,"class","svelte-hcjfj9"),t[2].background.description===void 0&&rt(()=>t[4].call(h)),p(e,"class","sheet-block svelte-hcjfj9")},m(y,S){k(y,e,S),a(e,n),a(n,l),a(n,s),ae(s,t[2].name),a(e,i),a(e,r),a(e,o),a(e,c),a(e,u),a(e,f),a(e,d),a(e,h),t[2].background.description!==void 0&&(h.innerHTML=t[2].background.description),m||(b=[Z(s,"input",t[3]),Z(h,"input",t[4])],m=!0)},p(y,S){S&4&&s.value!==y[2].name&&ae(s,y[2].name),S&4&&y[2].background.description!==h.innerHTML&&(h.innerHTML=y[2].background.description)},d(y){y&&v(e),m=!1,ye(b)}}}function oo(t){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","sheet-block svelte-hcjfj9")},m(n,l){k(n,e,l)},p:H,d(n){n&&v(e)}}}function co(t){let e,n,l,s,i,r;return{c(){e=_("div"),n=_("h2"),n.textContent="Cannot Load Social Stats",l=g(),s=_("p"),i=O("Error: "),r=O(t[1]),p(e,"class","sheet-block svelte-hcjfj9")},m(o,c){k(o,e,c),a(e,n),a(e,l),a(e,s),a(s,i),a(s,r)},p(o,c){c&2&&V(r,o[1])},d(o){o&&v(e)}}}function ao(t){let e;function n(i,r){return i[1]?co:!i[0]||i[2]==null?oo:ro}let l=n(t),s=l(t);return{c(){s.c(),e=ge()},m(i,r){s.m(i,r),k(i,e,r)},p(i,[r]){l===(l=n(i))&&s?s.p(i,r):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},i:H,o:H,d(i){i&&v(e),s.d(i)}}}function uo(t,e,n){let l,s=H,i=()=>(s(),s=Rt(o,f=>n(2,l=f)),o);t.$$.on_destroy.push(()=>s());let r,{character:o}=e;i(),nn(async()=>{if(!o){n(1,r="Failed to load character");return}});function c(){l.name=this.value,o.set(l)}function u(){l.background.description=this.innerHTML,o.set(l)}return t.$$set=f=>{"character"in f&&i(n(0,o=f.character))},[o,r,l,c,u]}class fo extends Ae{constructor(e){super(),je(this,e,uo,ao,ve,{character:0})}}function _o(t){let e,n,l,s,i,r,o,c,u,f,d,h;return i=new it({props:{to:"/character/"+t[1]+"/build/background",getProps:xn,$$slots:{default:[mo]},$$scope:{ctx:t}}}),o=new it({props:{to:"/character/"+t[1]+"/build/class",getProps:xn,$$slots:{default:[bo]},$$scope:{ctx:t}}}),u=new it({props:{to:"/character/"+t[1]+"/build/inventory",getProps:xn,$$slots:{default:[go]},$$scope:{ctx:t}}}),d=new _l({props:{$$slots:{default:[$o]},$$scope:{ctx:t}}}),{c(){e=_("div"),n=_("h4"),n.textContent="Build Steps:",l=g(),s=_("div"),Y(i.$$.fragment),r=g(),Y(o.$$.fragment),c=g(),Y(u.$$.fragment),f=g(),Y(d.$$.fragment),p(s,"class","toggle-bg"),p(e,"class","sheet-block svelte-xg27dx"),F(e,"text-align","center")},m(m,b){k(m,e,b),a(e,n),a(e,l),a(e,s),W(i,s,null),a(s,r),W(o,s,null),a(s,c),W(u,s,null),k(m,f,b),W(d,m,b),h=!0},p(m,b){const y={};b&2&&(y.to="/character/"+m[1]+"/build/background"),b&64&&(y.$$scope={dirty:b,ctx:m}),i.$set(y);const S={};b&2&&(S.to="/character/"+m[1]+"/build/class"),b&64&&(S.$$scope={dirty:b,ctx:m}),o.$set(S);const C={};b&2&&(C.to="/character/"+m[1]+"/build/inventory"),b&64&&(C.$$scope={dirty:b,ctx:m}),u.$set(C);const j={};b&65&&(j.$$scope={dirty:b,ctx:m}),d.$set(j)},i(m){h||(E(i.$$.fragment,m),E(o.$$.fragment,m),E(u.$$.fragment,m),E(d.$$.fragment,m),h=!0)},o(m){M(i.$$.fragment,m),M(o.$$.fragment,m),M(u.$$.fragment,m),M(d.$$.fragment,m),h=!1},d(m){m&&(v(e),v(f)),G(i),G(o),G(u),G(d,m)}}}function po(t){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","sheet-block svelte-xg27dx")},m(n,l){k(n,e,l)},p:H,i:H,o:H,d(n){n&&v(e)}}}function ho(t){let e,n,l,s,i,r;return{c(){e=_("div"),n=_("h2"),n.textContent="Cannot Load Social Stats",l=g(),s=_("p"),i=O("Error: "),r=O(t[2]),p(e,"class","sheet-block svelte-xg27dx")},m(o,c){k(o,e,c),a(e,n),a(e,l),a(e,s),a(s,i),a(s,r)},p(o,c){c&4&&V(r,o[2])},i:H,o:H,d(o){o&&v(e)}}}function mo(t){let e;return{c(){e=O("1. Background")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function bo(t){let e;return{c(){e=O("2. Class")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function go(t){let e;return{c(){e=O("3. Inventory")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function vo(t){let e,n,l;function s(r){t[4](r)}let i={};return t[0]!==void 0&&(i.character=t[0]),e=new Ys({props:i}),Me.push(()=>Xe(e,"character",s)),{c(){Y(e.$$.fragment)},m(r,o){W(e,r,o),l=!0},p(r,o){const c={};!n&&o&1&&(n=!0,c.character=r[0],Qe(()=>n=!1)),e.$set(c)},i(r){l||(E(e.$$.fragment,r),l=!0)},o(r){M(e.$$.fragment,r),l=!1},d(r){G(e,r)}}}function ko(t){let e,n,l;function s(r){t[5](r)}let i={};return t[0]!==void 0&&(i.character=t[0]),e=new fo({props:i}),Me.push(()=>Xe(e,"character",s)),{c(){Y(e.$$.fragment)},m(r,o){W(e,r,o),l=!0},p(r,o){const c={};!n&&o&1&&(n=!0,c.character=r[0],Qe(()=>n=!1)),e.$set(c)},i(r){l||(E(e.$$.fragment,r),l=!0)},o(r){M(e.$$.fragment,r),l=!1},d(r){G(e,r)}}}function $o(t){let e,n,l,s;return e=new st({props:{path:"/background",$$slots:{default:[vo]},$$scope:{ctx:t}}}),l=new st({props:{path:"/stats",$$slots:{default:[ko]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=g(),Y(l.$$.fragment)},m(i,r){W(e,i,r),k(i,n,r),W(l,i,r),s=!0},p(i,r){const o={};r&65&&(o.$$scope={dirty:r,ctx:i}),e.$set(o);const c={};r&65&&(c.$$scope={dirty:r,ctx:i}),l.$set(c)},i(i){s||(E(e.$$.fragment,i),E(l.$$.fragment,i),s=!0)},o(i){M(e.$$.fragment,i),M(l.$$.fragment,i),s=!1},d(i){i&&v(n),G(e,i),G(l,i)}}}function wo(t){let e,n,l,s;const i=[ho,po,_o],r=[];function o(c,u){return c[2]?0:!c[0]||c[3]==null?1:2}return e=o(t),n=r[e]=i[e](t),{c(){n.c(),l=ge()},m(c,u){r[e].m(c,u),k(c,l,u),s=!0},p(c,[u]){let f=e;e=o(c),e===f?r[e].p(c,u):(Oe(),M(r[f],1,1,()=>{r[f]=null}),Le(),n=r[e],n?n.p(c,u):(n=r[e]=i[e](c),n.c()),E(n,1),n.m(l.parentNode,l))},i(c){s||(E(n),s=!0)},o(c){M(n),s=!1},d(c){c&&v(l),r[e].d(c)}}}function xn(t){return t.isCurrent?{class:"active"}:{class:""}}function yo(t,e,n){let l,s=H,i=()=>(s(),s=Rt(o,d=>n(3,l=d)),o);t.$$.on_destroy.push(()=>s());let{id:r}=e,{character:o}=e;i();let c;nn(async()=>{n(2,c=o||l==null?void 0:"Failed to load character")});function u(d){o=d,i(n(0,o))}function f(d){o=d,i(n(0,o))}return t.$$set=d=>{"id"in d&&n(1,r=d.id),"character"in d&&i(n(0,o=d.character))},[o,r,c,l,u,f]}class Co extends Ae{constructor(e){super(),je(this,e,yo,wo,ve,{id:1,character:0})}}function is(t,e,n){const l=t.slice();return l[3]=e[n][0],l[4]=e[n][1].mod,l[5]=e[n][1].stat,l}function rs(t,e,n){const l=t.slice();return l[3]=e[n][0],l[4]=e[n][1].mod,l[5]=e[n][1].stat,l}function os(t,e,n){const l=t.slice();return l[3]=e[n][0],l[4]=e[n][1].mod,l[5]=e[n][1].stat,l}function cs(t,e,n){const l=t.slice();return l[3]=e[n][0],l[4]=e[n][1].mod,l[5]=e[n][1].stat,l}function as(t,e,n){const l=t.slice();return l[3]=e[n][0],l[4]=e[n][1].mod,l[5]=e[n][1].stat,l}function us(t,e,n){const l=t.slice();return l[5]=e[n][0],l[4]=e[n][1].mod,l}function fs(t,e,n){const l=t.slice();return l[3]=e[n][0],l[4]=e[n][1].mod,l[5]=e[n][1].stat,l}function ds(t,e,n){const l=t.slice();return l[3]=e[n][0],l[4]=e[n][1].mod,l[5]=e[n][1].stat,l}function _s(t,e,n){const l=t.slice();return l[5]=e[n][0],l[4]=e[n][1].mod,l}function Po(t){let e,n,l,s,i,r,o,c,u,f,d,h,m,b,y,S,C,j,q,$,N,B,D,R,L,te,P,T,Q,J,X,K,Ce,se,z,x=ce(Object.entries(t[2].socialProfile.stats)),ee=[];for(let A=0;A<x.length;A+=1)ee[A]=ps(_s(t,x,A));let Re=ce(Object.entries(t[2].socialProfile.passives)),re=[];for(let A=0;A<Re.length;A+=1)re[A]=hs(ds(t,Re,A));let ke=ce(Object.entries(t[2].socialProfile.sways)),$e=[];for(let A=0;A<ke.length;A+=1)$e[A]=ms(fs(t,ke,A));let ze=ce(Object.entries(t[2].explorerProfile.stats)),pe=[];for(let A=0;A<ze.length;A+=1)pe[A]=bs(us(t,ze,A));let He=ce(Object.entries(t[2].explorerProfile.saves)),me=[];for(let A=0;A<He.length;A+=1)me[A]=gs(as(t,He,A));let Ne=ce(Object.entries(t[2].explorerProfile.perceptions)),_e=[];for(let A=0;A<Ne.length;A+=1)_e[A]=vs(cs(t,Ne,A));let Ee=ce(Object.entries(t[2].explorerProfile.explorations)),he=[];for(let A=0;A<Ee.length;A+=1)he[A]=ks(os(t,Ee,A));let Ie=ce(Object.entries(t[2].explorerProfile.knowledges)),oe=[];for(let A=0;A<Ie.length;A+=1)oe[A]=$s(rs(t,Ie,A));let De=ce(Object.entries(t[2].explorerProfile.equipments)),be=[];for(let A=0;A<De.length;A+=1)be[A]=ws(is(t,De,A));return{c(){e=_("div"),n=_("h2"),n.textContent="Social Skills",l=g(),s=_("div"),i=_("div");for(let A=0;A<ee.length;A+=1)ee[A].c();r=g(),o=_("h4"),o.textContent="Passives",c=g();for(let A=0;A<re.length;A+=1)re[A].c();u=g(),f=_("h4"),f.textContent="Sways",d=g();for(let A=0;A<$e.length;A+=1)$e[A].c();h=g(),m=_("p"),m.textContent="Social ability listed here",b=g(),y=_("br"),S=g(),C=_("h2"),C.textContent="Exploration Skills",j=g(),q=_("div"),$=_("div");for(let A=0;A<pe.length;A+=1)pe[A].c();N=g(),B=_("h4"),B.textContent="Saves",D=g();for(let A=0;A<me.length;A+=1)me[A].c();R=g(),L=_("h4"),L.textContent="Perceptions",te=g();for(let A=0;A<_e.length;A+=1)_e[A].c();P=g(),T=_("h4"),T.textContent="Exploration",Q=g();for(let A=0;A<he.length;A+=1)he[A].c();J=g(),X=_("h4"),X.textContent="Knowledge",K=g();for(let A=0;A<oe.length;A+=1)oe[A].c();Ce=g(),se=_("h4"),se.textContent="Equipment",z=g();for(let A=0;A<be.length;A+=1)be[A].c();p(o,"class","svelte-1nnq8ue"),p(f,"class","svelte-1nnq8ue"),p(i,"class","roll-grid svelte-1nnq8ue"),p(B,"class","svelte-1nnq8ue"),p(L,"class","svelte-1nnq8ue"),p(T,"class","svelte-1nnq8ue"),p(X,"class","svelte-1nnq8ue"),p(se,"class","svelte-1nnq8ue"),p($,"class","roll-grid svelte-1nnq8ue"),p(e,"class","sheet-block")},m(A,ue){k(A,e,ue),a(e,n),a(e,l),a(e,s),a(s,i);for(let w=0;w<ee.length;w+=1)ee[w]&&ee[w].m(i,null);a(i,r),a(i,o),a(i,c);for(let w=0;w<re.length;w+=1)re[w]&&re[w].m(i,null);a(i,u),a(i,f),a(i,d);for(let w=0;w<$e.length;w+=1)$e[w]&&$e[w].m(i,null);a(s,h),a(s,m),a(e,b),a(e,y),a(e,S),a(e,C),a(e,j),a(e,q),a(q,$);for(let w=0;w<pe.length;w+=1)pe[w]&&pe[w].m($,null);a($,N),a($,B),a($,D);for(let w=0;w<me.length;w+=1)me[w]&&me[w].m($,null);a($,R),a($,L),a($,te);for(let w=0;w<_e.length;w+=1)_e[w]&&_e[w].m($,null);a($,P),a($,T),a($,Q);for(let w=0;w<he.length;w+=1)he[w]&&he[w].m($,null);a($,J),a($,X),a($,K);for(let w=0;w<oe.length;w+=1)oe[w]&&oe[w].m($,null);a($,Ce),a($,se),a($,z);for(let w=0;w<be.length;w+=1)be[w]&&be[w].m($,null)},p(A,ue){if(ue&4){x=ce(Object.entries(A[2].socialProfile.stats));let w;for(w=0;w<x.length;w+=1){const ie=_s(A,x,w);ee[w]?ee[w].p(ie,ue):(ee[w]=ps(ie),ee[w].c(),ee[w].m(i,r))}for(;w<ee.length;w+=1)ee[w].d(1);ee.length=x.length}if(ue&4){Re=ce(Object.entries(A[2].socialProfile.passives));let w;for(w=0;w<Re.length;w+=1){const ie=ds(A,Re,w);re[w]?re[w].p(ie,ue):(re[w]=hs(ie),re[w].c(),re[w].m(i,u))}for(;w<re.length;w+=1)re[w].d(1);re.length=Re.length}if(ue&4){ke=ce(Object.entries(A[2].socialProfile.sways));let w;for(w=0;w<ke.length;w+=1){const ie=fs(A,ke,w);$e[w]?$e[w].p(ie,ue):($e[w]=ms(ie),$e[w].c(),$e[w].m(i,null))}for(;w<$e.length;w+=1)$e[w].d(1);$e.length=ke.length}if(ue&4){ze=ce(Object.entries(A[2].explorerProfile.stats));let w;for(w=0;w<ze.length;w+=1){const ie=us(A,ze,w);pe[w]?pe[w].p(ie,ue):(pe[w]=bs(ie),pe[w].c(),pe[w].m($,N))}for(;w<pe.length;w+=1)pe[w].d(1);pe.length=ze.length}if(ue&4){He=ce(Object.entries(A[2].explorerProfile.saves));let w;for(w=0;w<He.length;w+=1){const ie=as(A,He,w);me[w]?me[w].p(ie,ue):(me[w]=gs(ie),me[w].c(),me[w].m($,R))}for(;w<me.length;w+=1)me[w].d(1);me.length=He.length}if(ue&4){Ne=ce(Object.entries(A[2].explorerProfile.perceptions));let w;for(w=0;w<Ne.length;w+=1){const ie=cs(A,Ne,w);_e[w]?_e[w].p(ie,ue):(_e[w]=vs(ie),_e[w].c(),_e[w].m($,P))}for(;w<_e.length;w+=1)_e[w].d(1);_e.length=Ne.length}if(ue&4){Ee=ce(Object.entries(A[2].explorerProfile.explorations));let w;for(w=0;w<Ee.length;w+=1){const ie=os(A,Ee,w);he[w]?he[w].p(ie,ue):(he[w]=ks(ie),he[w].c(),he[w].m($,J))}for(;w<he.length;w+=1)he[w].d(1);he.length=Ee.length}if(ue&4){Ie=ce(Object.entries(A[2].explorerProfile.knowledges));let w;for(w=0;w<Ie.length;w+=1){const ie=rs(A,Ie,w);oe[w]?oe[w].p(ie,ue):(oe[w]=$s(ie),oe[w].c(),oe[w].m($,Ce))}for(;w<oe.length;w+=1)oe[w].d(1);oe.length=Ie.length}if(ue&4){De=ce(Object.entries(A[2].explorerProfile.equipments));let w;for(w=0;w<De.length;w+=1){const ie=is(A,De,w);be[w]?be[w].p(ie,ue):(be[w]=ws(ie),be[w].c(),be[w].m($,null))}for(;w<be.length;w+=1)be[w].d(1);be.length=De.length}},d(A){A&&v(e),Ue(ee,A),Ue(re,A),Ue($e,A),Ue(pe,A),Ue(me,A),Ue(_e,A),Ue(he,A),Ue(oe,A),Ue(be,A)}}}function So(t){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","sheet-block")},m(n,l){k(n,e,l)},p:H,d(n){n&&v(e)}}}function jo(t){let e,n,l,s,i,r;return{c(){e=_("div"),n=_("h2"),n.textContent="Cannot Load Social Stats",l=g(),s=_("p"),i=O("Error: "),r=O(t[1]),p(e,"class","sheet-block")},m(o,c){k(o,e,c),a(e,n),a(e,l),a(e,s),a(s,i),a(s,r)},p(o,c){c&2&&V(r,o[1])},d(o){o&&v(e)}}}function ps(t){let e,n,l=t[5]+"",s,i,r,o,c=t[4]+"",u;return{c(){e=_("div"),n=_("p"),s=O(l),i=g(),r=_("button"),o=O("+"),u=O(c),F(n,"text-align","center"),p(n,"class","svelte-1nnq8ue"),p(r,"class","passive-button svelte-1nnq8ue"),p(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){k(f,e,d),a(e,n),a(n,s),a(e,i),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[5]+"")&&V(s,l),d&4&&c!==(c=f[4]+"")&&V(u,c)},d(f){f&&v(e)}}}function hs(t){let e,n,l=t[3]+"",s,i,r,o,c=8+t[4]+t[2].socialProfile.stats[t[5]].mod+"",u;return{c(){e=_("div"),n=_("p"),s=O(l),i=g(),r=_("button"),o=O(">"),u=O(c),p(n,"class","svelte-1nnq8ue"),p(r,"class","passive-button svelte-1nnq8ue"),p(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){k(f,e,d),a(e,n),a(n,s),a(e,i),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&V(s,l),d&4&&c!==(c=8+f[4]+f[2].socialProfile.stats[f[5]].mod+"")&&V(u,c)},d(f){f&&v(e)}}}function ms(t){let e,n,l=t[3]+"",s,i,r,o,c=t[4]+t[2].socialProfile.stats[t[5]].mod+"",u,f;return{c(){e=_("div"),n=_("p"),s=O(l),i=g(),r=_("button"),o=O("+"),u=O(c),f=g(),p(n,"class","svelte-1nnq8ue"),p(r,"class","skill-button svelte-1nnq8ue"),p(e,"class","grid-stat svelte-1nnq8ue")},m(d,h){k(d,e,h),a(e,n),a(n,s),a(e,i),a(e,r),a(r,o),a(r,u),a(e,f)},p(d,h){h&4&&l!==(l=d[3]+"")&&V(s,l),h&4&&c!==(c=d[4]+d[2].socialProfile.stats[d[5]].mod+"")&&V(u,c)},d(d){d&&v(e)}}}function bs(t){let e,n,l=t[5]+"",s,i,r,o,c=t[4]+"",u;return{c(){e=_("div"),n=_("p"),s=O(l),i=g(),r=_("button"),o=O("+"),u=O(c),F(n,"text-align","center"),p(n,"class","svelte-1nnq8ue"),p(r,"class","passive-button svelte-1nnq8ue"),p(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){k(f,e,d),a(e,n),a(n,s),a(e,i),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[5]+"")&&V(s,l),d&4&&c!==(c=f[4]+"")&&V(u,c)},d(f){f&&v(e)}}}function gs(t){let e,n,l=t[3]+"",s,i,r,o,c=8+t[4]+t[2].explorerProfile.stats[t[5]].mod+"",u;return{c(){e=_("div"),n=_("p"),s=O(l),i=g(),r=_("button"),o=O(">"),u=O(c),p(n,"class","svelte-1nnq8ue"),p(r,"class","passive-button svelte-1nnq8ue"),p(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){k(f,e,d),a(e,n),a(n,s),a(e,i),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&V(s,l),d&4&&c!==(c=8+f[4]+f[2].explorerProfile.stats[f[5]].mod+"")&&V(u,c)},d(f){f&&v(e)}}}function vs(t){let e,n,l=t[3]+"",s,i,r,o,c=8+t[4]+t[2].explorerProfile.stats[t[5]].mod+"",u;return{c(){e=_("div"),n=_("p"),s=O(l),i=g(),r=_("button"),o=O(">"),u=O(c),p(n,"class","svelte-1nnq8ue"),p(r,"class","passive-button svelte-1nnq8ue"),p(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){k(f,e,d),a(e,n),a(n,s),a(e,i),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&V(s,l),d&4&&c!==(c=8+f[4]+f[2].explorerProfile.stats[f[5]].mod+"")&&V(u,c)},d(f){f&&v(e)}}}function ks(t){let e,n,l=t[3]+"",s,i,r,o,c=t[4]+t[2].explorerProfile.stats[t[5]].mod+"",u;return{c(){e=_("div"),n=_("p"),s=O(l),i=g(),r=_("button"),o=O("+"),u=O(c),p(n,"class","svelte-1nnq8ue"),p(r,"class","skill-button svelte-1nnq8ue"),p(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){k(f,e,d),a(e,n),a(n,s),a(e,i),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&V(s,l),d&4&&c!==(c=f[4]+f[2].explorerProfile.stats[f[5]].mod+"")&&V(u,c)},d(f){f&&v(e)}}}function $s(t){let e,n,l=t[3]+"",s,i,r,o,c=t[4]+t[2].explorerProfile.stats[t[5]].mod+"",u;return{c(){e=_("div"),n=_("p"),s=O(l),i=g(),r=_("button"),o=O("+"),u=O(c),p(n,"class","svelte-1nnq8ue"),p(r,"class","skill-button svelte-1nnq8ue"),p(e,"class","grid-stat svelte-1nnq8ue")},m(f,d){k(f,e,d),a(e,n),a(n,s),a(e,i),a(e,r),a(r,o),a(r,u)},p(f,d){d&4&&l!==(l=f[3]+"")&&V(s,l),d&4&&c!==(c=f[4]+f[2].explorerProfile.stats[f[5]].mod+"")&&V(u,c)},d(f){f&&v(e)}}}function ws(t){let e,n,l=t[3]+"",s,i,r,o,c=t[4]+t[2].explorerProfile.stats[t[5]].mod+"",u,f;return{c(){e=_("div"),n=_("p"),s=O(l),i=g(),r=_("button"),o=O("+"),u=O(c),f=g(),p(n,"class","svelte-1nnq8ue"),p(r,"class","skill-button svelte-1nnq8ue"),p(e,"class","grid-stat svelte-1nnq8ue")},m(d,h){k(d,e,h),a(e,n),a(n,s),a(e,i),a(e,r),a(r,o),a(r,u),a(e,f)},p(d,h){h&4&&l!==(l=d[3]+"")&&V(s,l),h&4&&c!==(c=d[4]+d[2].explorerProfile.stats[d[5]].mod+"")&&V(u,c)},d(d){d&&v(e)}}}function Ao(t){let e;function n(i,r){return i[1]?jo:!i[0]||i[2]==null?So:Po}let l=n(t),s=l(t);return{c(){s.c(),e=ge()},m(i,r){s.m(i,r),k(i,e,r)},p(i,[r]){l===(l=n(i))&&s?s.p(i,r):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},i:H,o:H,d(i){i&&v(e),s.d(i)}}}function Oo(t,e,n){let l,s=H,i=()=>(s(),s=Rt(o,c=>n(2,l=c)),o);t.$$.on_destroy.push(()=>s());let r,{character:o}=e;return i(),nn(async()=>{if(!o){n(1,r="Failed to load character");return}}),t.$$set=c=>{"character"in c&&i(n(0,o=c.character))},[o,r,l]}class Lo extends Ae{constructor(e){super(),je(this,e,Oo,Ao,ve,{character:0})}}function Eo(t){let e,n,l,s,i,r,o,c,u,f,d,h,m,b,y,S;const C=[Ro,To],j=[];function q($,N){return $[2]==0?0:$[2]==1?1:-1}return~(d=q(t))&&(h=j[d]=C[d](t)),{c(){e=_("div"),n=_("div"),l=_("button"),l.textContent="Skills",s=g(),i=_("button"),i.textContent="Actitons",r=g(),o=_("button"),o.textContent="Inventory",c=g(),u=_("button"),u.textContent="Inventory",f=g(),h&&h.c(),m=ge(),F(n,"display","flex"),F(n,"flex-wrap","wrap"),F(n,"justify-content","center"),F(n,"border","2px solid #222222"),F(n,"padding","2px"),F(n,"border-radius","5px"),p(e,"class","sheet-block"),F(e,"display","flex"),F(e,"flex-direction","row"),F(e,"flex-wrap","nowrap"),F(e,"justify-content","center")},m($,N){k($,e,N),a(e,n),a(n,l),a(n,s),a(n,i),a(n,r),a(n,o),a(n,c),a(n,u),k($,f,N),~d&&j[d].m($,N),k($,m,N),b=!0,y||(S=[Z(l,"click",t[5]),Z(i,"click",t[6]),Z(o,"click",t[7]),Z(u,"click",t[8])],y=!0)},p($,N){let B=d;d=q($),d===B?~d&&j[d].p($,N):(h&&(Oe(),M(j[B],1,1,()=>{j[B]=null}),Le()),~d?(h=j[d],h?h.p($,N):(h=j[d]=C[d]($),h.c()),E(h,1),h.m(m.parentNode,m)):h=null)},i($){b||(E(h),b=!0)},o($){M(h),b=!1},d($){$&&(v(e),v(f),v(m)),~d&&j[d].d($),y=!1,ye(S)}}}function Mo(t){let e;return{c(){e=_("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","page")},m(n,l){k(n,e,l)},p:H,i:H,o:H,d(n){n&&v(e)}}}function No(t){let e,n;return{c(){e=_("div"),n=O(t[1]),p(e,"class","sheet-block")},m(l,s){k(l,e,s),a(e,n)},p(l,s){s&2&&V(n,l[1])},i:H,o:H,d(l){l&&v(e)}}}function To(t){let e,n,l;function s(r){t[10](r)}let i={};return t[0]!==void 0&&(i.character=t[0]),e=new Lo({props:i}),Me.push(()=>Xe(e,"character",s)),{c(){Y(e.$$.fragment)},m(r,o){W(e,r,o),l=!0},p(r,o){const c={};!n&&o&1&&(n=!0,c.character=r[0],Qe(()=>n=!1)),e.$set(c)},i(r){l||(E(e.$$.fragment,r),l=!0)},o(r){M(e.$$.fragment,r),l=!1},d(r){G(e,r)}}}function Ro(t){let e,n,l;function s(r){t[9](r)}let i={};return t[0]!==void 0&&(i.character=t[0]),e=new Ys({props:i}),Me.push(()=>Xe(e,"character",s)),{c(){Y(e.$$.fragment)},m(r,o){W(e,r,o),l=!0},p(r,o){const c={};!n&&o&1&&(n=!0,c.character=r[0],Qe(()=>n=!1)),e.$set(c)},i(r){l||(E(e.$$.fragment,r),l=!0)},o(r){M(e.$$.fragment,r),l=!1},d(r){G(e,r)}}}function Ho(t){let e,n,l,s;const i=[No,Mo,Eo],r=[];function o(c,u){return c[1]?0:!c[0]||c[3]==null?1:2}return e=o(t),n=r[e]=i[e](t),{c(){n.c(),l=ge()},m(c,u){r[e].m(c,u),k(c,l,u),s=!0},p(c,[u]){let f=e;e=o(c),e===f?r[e].p(c,u):(Oe(),M(r[f],1,1,()=>{r[f]=null}),Le(),n=r[e],n?n.p(c,u):(n=r[e]=i[e](c),n.c()),E(n,1),n.m(l.parentNode,l))},i(c){s||(E(n),s=!0)},o(c){M(n),s=!1},d(c){c&&v(l),r[e].d(c)}}}function qo(t,e,n){let l,s=H,i=()=>(s(),s=Rt(o,S=>n(3,l=S)),o);t.$$.on_destroy.push(()=>s());let{id:r}=e,{character:o}=e;i();let c;nn(async()=>{n(1,c=o||l==null?void 0:"Failed to load character")});let u=1;const f=()=>n(2,u=1),d=()=>n(2,u=1),h=()=>n(2,u=1),m=()=>n(2,u=1);function b(S){o=S,i(n(0,o))}function y(S){o=S,i(n(0,o))}return t.$$set=S=>{"id"in S&&n(4,r=S.id),"character"in S&&i(n(0,o=S.character))},[o,c,u,l,r,f,d,h,m,b,y]}class Io extends Ae{constructor(e){super(),je(this,e,qo,Ho,ve,{id:4,character:0})}}function Do(t){let e,n,l,s=(t[2].name&&t[2].name.length>0?t[2].name:"Unnamed Character")+"",i,r,o,c,u,f,d,h,m,b,y;return c=new it({props:{to:"/character/"+t[0]+"/build",getProps:ys,$$slots:{default:[zo]},$$scope:{ctx:t}}}),f=new it({props:{to:"/character/"+t[0]+"/play",getProps:ys,$$slots:{default:[Bo]},$$scope:{ctx:t}}}),b=new _l({props:{$$slots:{default:[Go]},$$scope:{ctx:t}}}),{c(){e=_("div"),n=_("div"),l=_("p"),i=O(s),r=g(),o=_("div"),Y(c.$$.fragment),u=g(),Y(f.$$.fragment),d=g(),h=_("div"),h.textContent="HP Display",m=g(),Y(b.$$.fragment),p(l,"id","name-label"),p(l,"class","svelte-104cvdj"),p(o,"class","toggle-bg"),F(n,"display","flex"),F(n,"flex-direction","column"),p(e,"class","sheet-block"),F(e,"display","flex"),F(e,"flex-direction","row"),F(e,"flex-wrap","nowrap")},m(S,C){k(S,e,C),a(e,n),a(n,l),a(l,i),a(n,r),a(n,o),W(c,o,null),a(o,u),W(f,o,null),a(e,d),a(e,h),k(S,m,C),W(b,S,C),y=!0},p(S,C){(!y||C&4)&&s!==(s=(S[2].name&&S[2].name.length>0?S[2].name:"Unnamed Character")+"")&&V(i,s);const j={};C&1&&(j.to="/character/"+S[0]+"/build"),C&128&&(j.$$scope={dirty:C,ctx:S}),c.$set(j);const q={};C&1&&(q.to="/character/"+S[0]+"/play"),C&128&&(q.$$scope={dirty:C,ctx:S}),f.$set(q);const $={};C&131&&($.$$scope={dirty:C,ctx:S}),b.$set($)},i(S){y||(E(c.$$.fragment,S),E(f.$$.fragment,S),E(b.$$.fragment,S),y=!0)},o(S){M(c.$$.fragment,S),M(f.$$.fragment,S),M(b.$$.fragment,S),y=!1},d(S){S&&(v(e),v(m)),G(c),G(f),G(b,S)}}}function Fo(t){let e;return{c(){e=_("div"),e.innerHTML='<h2 class="svelte-104cvdj">Loading...</h2>',p(e,"class","page")},m(n,l){k(n,e,l)},p:H,i:H,o:H,d(n){n&&v(e)}}}function zo(t){let e;return{c(){e=O("Build")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Bo(t){let e;return{c(){e=O("Play")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Uo(t){let e,n,l,s;function i(c){t[3](c)}function r(c){t[4](c)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new Co({props:o}),Me.push(()=>Xe(e,"id",i)),Me.push(()=>Xe(e,"character",r)),{c(){Y(e.$$.fragment)},m(c,u){W(e,c,u),s=!0},p(c,u){const f={};!n&&u&1&&(n=!0,f.id=c[0],Qe(()=>n=!1)),!l&&u&2&&(l=!0,f.character=c[1],Qe(()=>l=!1)),e.$set(f)},i(c){s||(E(e.$$.fragment,c),s=!0)},o(c){M(e.$$.fragment,c),s=!1},d(c){G(e,c)}}}function Wo(t){let e,n,l,s;function i(c){t[5](c)}function r(c){t[6](c)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new Io({props:o}),Me.push(()=>Xe(e,"id",i)),Me.push(()=>Xe(e,"character",r)),{c(){Y(e.$$.fragment)},m(c,u){W(e,c,u),s=!0},p(c,u){const f={};!n&&u&1&&(n=!0,f.id=c[0],Qe(()=>n=!1)),!l&&u&2&&(l=!0,f.character=c[1],Qe(()=>l=!1)),e.$set(f)},i(c){s||(E(e.$$.fragment,c),s=!0)},o(c){M(e.$$.fragment,c),s=!1},d(c){G(e,c)}}}function Go(t){let e,n,l,s;return e=new st({props:{path:"/build/*",$$slots:{default:[Uo]},$$scope:{ctx:t}}}),l=new st({props:{path:"/play/*",$$slots:{default:[Wo]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=g(),Y(l.$$.fragment)},m(i,r){W(e,i,r),k(i,n,r),W(l,i,r),s=!0},p(i,r){const o={};r&131&&(o.$$scope={dirty:r,ctx:i}),e.$set(o);const c={};r&131&&(c.$$scope={dirty:r,ctx:i}),l.$set(c)},i(i){s||(E(e.$$.fragment,i),E(l.$$.fragment,i),s=!0)},o(i){M(e.$$.fragment,i),M(l.$$.fragment,i),s=!1},d(i){i&&v(n),G(e,i),G(l,i)}}}function Jo(t){let e,n,l,s;const i=[Fo,Do],r=[];function o(c,u){return!c[1]||c[2]==null?0:1}return e=o(t),n=r[e]=i[e](t),{c(){n.c(),l=ge()},m(c,u){r[e].m(c,u),k(c,l,u),s=!0},p(c,[u]){let f=e;e=o(c),e===f?r[e].p(c,u):(Oe(),M(r[f],1,1,()=>{r[f]=null}),Le(),n=r[e],n?n.p(c,u):(n=r[e]=i[e](c),n.c()),E(n,1),n.m(l.parentNode,l))},i(c){s||(E(n),s=!0)},o(c){M(n),s=!1},d(c){c&&v(l),r[e].d(c)}}}function ys(t){let{location:e,href:n,isPartiallyCurrent:l,isCurrent:s}=t;return s||l?{class:"active"}:{class:""}}function Yo(t,e,n){let l,s=H,i=()=>(s(),s=Rt(o,h=>n(2,l=h)),o);t.$$.on_destroy.push(()=>s());let{id:r=ml}=e,o;nn(async()=>{if(window.location.pathname.endsWith(`/character/${r}`)||window.location.pathname.endsWith(`/character/${r}/`)){console.log("redirecting to play view"),wn(`/character/${r}/play`,{replace:!0});return}if(r!=="local"&&!Wn(r)){console.error("Failed to load character iwht id '"+r+"'"),wn("/characters");return}});function c(h){r=h,n(0,r)}function u(h){o=h,i(n(1,o))}function f(h){r=h,n(0,r)}function d(h){o=h,i(n(1,o))}return t.$$set=h=>{"id"in h&&n(0,r=h.id)},t.$$.update=()=>{t.$$.dirty&1&&console.log("id = '"+r+"'"),t.$$.dirty&1&&i(n(1,o=r=="local"?mr:br(r)))},[r,o,l,c,u,f,d]}class Ko extends Ae{constructor(e){super(),je(this,e,Yo,Jo,ve,{id:0})}}function Cs(t,e,n){const l=t.slice();return l[5]=e[n][0],l[6]=e[n][1],l[8]=n,l}function Ps(t){let e,n,l,s,i,r,o,c,u,f,d,h;return{c(){e=_("div"),n=_("h1"),n.textContent="Characters",l=g(),s=_("p"),s.textContent="You are not logged into an account.",i=g(),r=_("p"),r.innerHTML=`You can try Hammer and Steel&#39;s character sheet without an account.<br/>
            Creating a character sheet without an account means it is <b>not</b> stored on our servers.
            You will only be able to access it on this device and it will not be backed up or secured.<br/>
            To store a character on our server, to be accessed from anywhere, you&#39;ll need to create an account and save the character to your account.`,o=g(),c=_("br"),u=g(),f=_("a"),f.textContent="Try the Character Forge",F(r,"text-align","left"),p(f,"class","button"),p(f,"href","/character/local"),p(e,"class","page")},m(m,b){k(m,e,b),a(e,n),a(e,l),a(e,s),a(e,i),a(e,r),a(e,o),a(e,c),a(e,u),a(e,f),d||(h=rl(pl.call(null,f)),d=!0)},d(m){m&&v(e),d=!1,h()}}}function Vo(t){let e,n=ce(Object.entries(t[1])),l=[];for(let s=0;s<n.length;s+=1)l[s]=Ss(Cs(t,n,s));return{c(){e=_("div");for(let s=0;s<l.length;s+=1)l[s].c();p(e,"class","char-list svelte-122uifz")},m(s,i){k(s,e,i);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(s,i){if(i&2){n=ce(Object.entries(s[1]));let r;for(r=0;r<n.length;r+=1){const o=Cs(s,n,r);l[r]?l[r].p(o,i):(l[r]=Ss(o),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&v(e),Ue(l,s)}}}function Qo(t){let e;return{c(){e=O("No characters exist yet.")},m(n,l){k(n,e,l)},p:H,d(n){n&&v(e)}}}function Ss(t){let e,n=t[6].name+"",l,s,i;return{c(){e=_("a"),l=O(n),p(e,"href","/character/"+t[5]),p(e,"class","button-outlined char-button svelte-122uifz")},m(r,o){k(r,e,o),a(e,l),s||(i=rl(pl.call(null,e)),s=!0)},p:H,d(r){r&&v(e),s=!1,i()}}}function Xo(t){let e,n,l,s,i,r,o,c,u,f,d,h,m=t[0]===null&&Ps();function b(C,j){return Object.keys(C[1]).length==0?Qo:Vo}let S=b(t)(t);return{c(){m&&m.c(),e=g(),n=_("div"),l=_("h1"),l.textContent="Characters:",s=g(),S.c(),i=g(),r=_("br"),o=g(),c=_("button"),c.textContent="+",u=g(),f=_("br"),p(c,"class","button"),p(n,"class","page")},m(C,j){m&&m.m(C,j),k(C,e,j),k(C,n,j),a(n,l),a(n,s),S.m(n,null),a(n,i),a(n,r),a(n,o),a(n,c),a(n,u),a(n,f),d||(h=Z(c,"click",t[2]),d=!0)},p(C,[j]){C[0]===null?m||(m=Ps(),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),S.p(C,j)},i:H,o:H,d(C){C&&(v(e),v(n)),m&&m.d(C),S.d(),d=!1,h()}}}function Zo(t,e,n){let l,s;We(t,sl,c=>n(4,l=c)),We(t,ut,c=>n(0,s=c));let{location:i=""}=e,r=l;function o(){sl.create(c=>{console.log("Navigating to '/character/"+c+"'"),wn("/character/"+c)})}return t.$$set=c=>{"location"in c&&n(3,i=c.location)},[s,r,o,i]}class xo extends Ae{constructor(e){super(),je(this,e,Zo,Xo,ve,{location:3})}}function js(t,e,n){const l=t.slice();return l[17]=e[n],l[18]=e,l[19]=n,l}function As(t,e,n){const l=t.slice();return l[20]=e[n],l}function ec(t){let e=t[2][t[20]]+"",n,l,s;return{c(){n=O(e),l=O("d"),s=O(t[20])},m(i,r){k(i,n,r),k(i,l,r),k(i,s,r)},p(i,r){r&4&&e!==(e=i[2][i[20]]+"")&&V(n,e)},d(i){i&&(v(n),v(l),v(s))}}}function tc(t){let e=t[2][t[20]]+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&4&&e!==(e=l[2][l[20]]+"")&&V(n,e)},d(l){l&&v(n)}}}function nc(t){let e,n;return{c(){e=O("d"),n=O(t[20])},m(l,s){k(l,e,s),k(l,n,s)},p:H,d(l){l&&(v(e),v(n))}}}function Os(t){let e,n,l;function s(c,u){return(c[2][c[20]]??0)==0?nc:c[2][c[20]]>9?tc:ec}let i=s(t),r=i(t);function o(){return t[9](t[20])}return{c(){e=_("button"),r.c(),p(e,"type","button"),p(e,"class","die-button svelte-90mbn5"),F(e,"background-image","url('/img/dice/d"+t[20]+"-inverted.svg')")},m(c,u){k(c,e,u),r.m(e,null),n||(l=Z(e,"click",o),n=!0)},p(c,u){t=c,i===(i=s(t))&&r?r.p(t,u):(r.d(1),r=i(t),r&&(r.c(),r.m(e,null)))},d(c){c&&v(e),r.d(),n=!1,l()}}}function lc(t){let e=t[2][-1]+"",n,l;return{c(){n=O(e),l=O("dF")},m(s,i){k(s,n,i),k(s,l,i)},p(s,i){i&4&&e!==(e=s[2][-1]+"")&&V(n,e)},d(s){s&&(v(n),v(l))}}}function sc(t){let e=t[2][-1]+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&4&&e!==(e=l[2][-1]+"")&&V(n,e)},d(l){l&&v(n)}}}function ic(t){let e;return{c(){e=O("dF")},m(n,l){k(n,e,l)},p:H,d(n){n&&v(e)}}}function Ls(t,e){let n,l,s=e[19],i,r,o;const c=()=>e[11](l,s),u=()=>e[11](null,s);function f(m){e[12](m,e[17])}function d(m){e[13](m,e[17])}let h={faces:e[17].faces};return e[17].result!==void 0&&(h.result=e[17].result),e[17].active!==void 0&&(h.active=e[17].active),l=new Fe({props:h}),c(),Me.push(()=>Xe(l,"result",f)),Me.push(()=>Xe(l,"active",d)),{key:t,first:null,c(){n=ge(),Y(l.$$.fragment),this.first=n},m(m,b){k(m,n,b),W(l,m,b),o=!0},p(m,b){e=m,s!==e[19]&&(u(),s=e[19],c());const y={};b&1&&(y.faces=e[17].faces),!i&&b&1&&(i=!0,y.result=e[17].result,Qe(()=>i=!1)),!r&&b&1&&(r=!0,y.active=e[17].active,Qe(()=>r=!1)),l.$set(y)},i(m){o||(E(l.$$.fragment,m),o=!0)},o(m){M(l.$$.fragment,m),o=!1},d(m){m&&v(n),u(),G(l,m)}}}function rc(t){let e;return{c(){e=O("SELECTION SUMMARY")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function oc(t){let e;return{c(){e=O("SUMMARY")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function cc(t){let e=t[2].activeSum+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&4&&e!==(e=l[2].activeSum+"")&&V(n,e)},d(l){l&&v(n)}}}function ac(t){let e=t[2].sum+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&4&&e!==(e=l[2].sum+"")&&V(n,e)},d(l){l&&v(n)}}}function uc(t){let e;return{c(){e=O("0")},m(n,l){k(n,e,l)},p:H,d(n){n&&v(e)}}}function fc(t){let e;function n(i,r){return i[2].active==0?_c:dc}let l=n(t),s=l(t);return{c(){s.c(),e=ge()},m(i,r){s.m(i,r),k(i,e,r)},p(i,r){l===(l=n(i))&&s?s.p(i,r):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&v(e),s.d(i)}}}function dc(t){let e=t[2].activeLow+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&4&&e!==(e=l[2].activeLow+"")&&V(n,e)},d(l){l&&v(n)}}}function _c(t){let e=t[2].low+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&4&&e!==(e=l[2].low+"")&&V(n,e)},d(l){l&&v(n)}}}function pc(t){let e;return{c(){e=O("0")},m(n,l){k(n,e,l)},p:H,d(n){n&&v(e)}}}function hc(t){let e;function n(i,r){return i[2].active==0?bc:mc}let l=n(t),s=l(t);return{c(){s.c(),e=ge()},m(i,r){s.m(i,r),k(i,e,r)},p(i,r){l===(l=n(i))&&s?s.p(i,r):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&v(e),s.d(i)}}}function mc(t){let e=t[2].activeHigh+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&4&&e!==(e=l[2].activeHigh+"")&&V(n,e)},d(l){l&&v(n)}}}function bc(t){let e=t[2].high+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&4&&e!==(e=l[2].high+"")&&V(n,e)},d(l){l&&v(n)}}}function gc(t){let e=t[2].activeSum+t[3]+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&12&&e!==(e=l[2].activeSum+l[3]+"")&&V(n,e)},d(l){l&&v(n)}}}function vc(t){let e=t[2].sum+t[3]+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&12&&e!==(e=l[2].sum+l[3]+"")&&V(n,e)},d(l){l&&v(n)}}}function kc(t){let e;return{c(){e=O(t[3])},m(n,l){k(n,e,l)},p(n,l){l&8&&V(e,n[3])},d(n){n&&v(e)}}}function $c(t){let e;function n(i,r){return i[2].active==0?yc:wc}let l=n(t),s=l(t);return{c(){s.c(),e=ge()},m(i,r){s.m(i,r),k(i,e,r)},p(i,r){l===(l=n(i))&&s?s.p(i,r):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&v(e),s.d(i)}}}function wc(t){let e=t[2].activeLow+t[3]+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&12&&e!==(e=l[2].activeLow+l[3]+"")&&V(n,e)},d(l){l&&v(n)}}}function yc(t){let e=t[2].low+t[3]+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&12&&e!==(e=l[2].low+l[3]+"")&&V(n,e)},d(l){l&&v(n)}}}function Cc(t){let e;return{c(){e=O(t[3])},m(n,l){k(n,e,l)},p(n,l){l&8&&V(e,n[3])},d(n){n&&v(e)}}}function Pc(t){let e;function n(i,r){return i[2].active==0?jc:Sc}let l=n(t),s=l(t);return{c(){s.c(),e=ge()},m(i,r){s.m(i,r),k(i,e,r)},p(i,r){l===(l=n(i))&&s?s.p(i,r):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&v(e),s.d(i)}}}function Sc(t){let e=t[2].activeHigh+t[3]+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&12&&e!==(e=l[2].activeHigh+l[3]+"")&&V(n,e)},d(l){l&&v(n)}}}function jc(t){let e=t[2].high+t[3]+"",n;return{c(){n=O(e)},m(l,s){k(l,n,s)},p(l,s){s&12&&e!==(e=l[2].high+l[3]+"")&&V(n,e)},d(l){l&&v(n)}}}function Ac(t){let e,n,l,s,i,r,o,c,u,f,d,h,m,b,y=t[1].length+"",S,C,j,q,$=t[2].active+"",N,B,D,R,L=t[2].active==0?"Clear All":"Clear "+String(t[2].active),te,P,T,Q,J=t[2].active==t[0].length?"Select None":"Select All",X,K,Ce,se,z=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),x,ee,Re,re,ke=[],$e=new Map,ze,pe,He,me,Ne,_e,Ee,he,Ie,oe,De,be,A,ue,w,ie,Ge,le,fe,Je,_t,Pe,pt,Pt,ln,Gt,St,Ze,jt,xe,Jt,At,ft,ot,bn,ct,gn,et,tt,Ht,Ot,ht,Yt,Lt,at,Et,mt,Te,sn,Kt,rn=ce([2,4,6,8,10,12,20]),Be=[];for(let I=0;I<7;I+=1)Be[I]=Os(As(t,rn,I));function Ye(I,ne){return(I[2][-1]??0)==0?ic:I[2][-1]>9?sc:lc}let qt=Ye(t),nt=qt(t),It=ce(t[0]);const Vt=I=>I[17].id;for(let I=0;I<It.length;I+=1){let ne=js(t,It,I),Se=Vt(ne);$e.set(Se,ke[I]=Ls(Se,ne))}function lt(I,ne){return I[2].active==0?oc:rc}let bt=lt(t),dt=bt(t);function U(I,ne){return I[2].active==0?ac:cc}let de=U(t),qe=de(t);function bl(I,ne){return I[2].low!=1/0?fc:uc}let yn=bl(t),gt=yn(t);function gl(I,ne){return I[2].low!=1/0?hc:pc}let Cn=gl(t),vt=Cn(t);function vl(I,ne){return I[2].active==0?vc:gc}let Pn=vl(t),kt=Pn(t);function kl(I,ne){return I[2].low!=1/0?$c:kc}let Sn=kl(t),$t=Sn(t);function $l(I,ne){return I[2].low!=1/0?Pc:Cc}let jn=$l(t),wt=jn(t);return{c(){e=_("div"),n=_("h1"),n.textContent="Dice Roller",l=g(),s=_("h3"),s.textContent="ADD DICE",i=g(),r=_("hr"),o=g(),c=_("div");for(let I=0;I<7;I+=1)Be[I].c();u=g(),f=_("button"),nt.c(),d=g(),h=_("div"),m=_("span"),b=O("Total: "),S=O(y),C=g(),j=_("span"),q=O("Selected: "),N=O($),B=g(),D=_("div"),R=_("button"),te=O(L),T=g(),Q=_("button"),X=O(J),Ce=g(),se=_("button"),x=O(z),Re=g(),re=_("div");for(let I=0;I<ke.length;I+=1)ke[I].c();ze=g(),pe=_("h3"),dt.c(),He=g(),me=_("hr"),Ne=g(),_e=_("div"),Ee=_("div"),he=_("h4"),he.textContent="SUM",Ie=g(),oe=_("h3"),qe.c(),De=g(),be=_("div"),A=_("div"),ue=_("h4"),ue.textContent="LOW",w=g(),ie=_("h3"),gt.c(),Ge=g(),le=_("div"),fe=_("h4"),fe.textContent="HIGH",Je=g(),_t=_("h3"),vt.c(),Pe=g(),pt=_("h3"),pt.textContent="MODIFIER",Pt=g(),ln=_("hr"),Gt=g(),St=_("div"),Ze=_("input"),jt=g(),xe=_("input"),Jt=g(),At=_("div"),ft=_("div"),ot=_("h4"),ot.textContent="SUM",bn=g(),ct=_("h3"),kt.c(),gn=g(),et=_("div"),tt=_("div"),Ht=_("h4"),Ht.textContent="LOW",Ot=g(),ht=_("h3"),$t.c(),Yt=g(),Lt=_("div"),at=_("h4"),at.textContent="HIGH",Et=g(),mt=_("h3"),wt.c(),F(s,"margin-bottom","0"),p(r,"class","underule svelte-90mbn5"),p(f,"type","button"),p(f,"class","die-button svelte-90mbn5"),F(f,"background-image","url('/img/dice/dF-inverted.svg')"),p(c,"class","dice-button-box svelte-90mbn5"),p(m,"class","svelte-90mbn5"),p(j,"class","svelte-90mbn5"),p(h,"class","total-readout svelte-90mbn5"),p(R,"class","button-outlined"),R.disabled=P=t[0].length<=0,p(Q,"class","button-outlined"),Q.disabled=K=t[0].length<=0,p(se,"class","button-outlined"),se.disabled=ee=t[0].length<=0,p(D,"class","operation-button-box svelte-90mbn5"),p(re,"class","dice-box svelte-90mbn5"),F(pe,"margin-bottom","0"),p(me,"class","underule svelte-90mbn5"),p(he,"class","text-center"),F(he,"margin","0"),p(oe,"class","result svelte-90mbn5"),F(oe,"width","120px"),F(oe,"margin","0 auto 0 auto"),p(Ee,"class","svelte-90mbn5"),p(ue,"class","text-center"),F(ue,"margin","0"),p(ie,"class","result svelte-90mbn5"),F(ie,"width","120px"),F(ie,"margin","0 auto 0 auto"),p(A,"class","svelte-90mbn5"),p(fe,"class","text-center"),F(fe,"margin","0"),p(_t,"class","result svelte-90mbn5"),F(_t,"width","120px"),F(_t,"margin","0 auto 0 auto"),p(le,"class","svelte-90mbn5"),p(be,"class","result-summary svelte-90mbn5"),p(_e,"class","result-summary svelte-90mbn5"),F(pt,"margin-top","48px"),F(pt,"margin-bottom","0"),p(ln,"class","underule svelte-90mbn5"),p(Ze,"class","modifier-input svelte-90mbn5"),p(Ze,"type","number"),p(xe,"class","modifier-range svelte-90mbn5"),p(xe,"type","range"),p(xe,"min","-15"),p(xe,"max","15"),p(St,"class","result-modifier svelte-90mbn5"),p(ot,"class","text-center"),F(ot,"margin","0"),p(ct,"class","result svelte-90mbn5"),F(ct,"width","120px"),F(ct,"margin","0 auto 0 auto"),p(ft,"class","svelte-90mbn5"),p(Ht,"class","text-center"),F(Ht,"margin","0"),p(ht,"class","result svelte-90mbn5"),F(ht,"width","120px"),F(ht,"margin","0 auto 0 auto"),p(tt,"class","svelte-90mbn5"),p(at,"class","text-center"),F(at,"margin","0"),p(mt,"class","result svelte-90mbn5"),F(mt,"width","120px"),F(mt,"margin","0 auto 0 auto"),p(Lt,"class","svelte-90mbn5"),p(et,"class","result-summary svelte-90mbn5"),p(At,"class","result-summary svelte-90mbn5"),p(e,"class","page")},m(I,ne){k(I,e,ne),a(e,n),a(e,l),a(e,s),a(e,i),a(e,r),a(e,o),a(e,c);for(let Se=0;Se<7;Se+=1)Be[Se]&&Be[Se].m(c,null);a(c,u),a(c,f),nt.m(f,null),a(e,d),a(e,h),a(h,m),a(m,b),a(m,S),a(h,C),a(h,j),a(j,q),a(j,N),a(e,B),a(e,D),a(D,R),a(R,te),a(D,T),a(D,Q),a(Q,X),a(D,Ce),a(D,se),a(se,x),a(e,Re),a(e,re);for(let Se=0;Se<ke.length;Se+=1)ke[Se]&&ke[Se].m(re,null);a(e,ze),a(e,pe),dt.m(pe,null),a(e,He),a(e,me),a(e,Ne),a(e,_e),a(_e,Ee),a(Ee,he),a(Ee,Ie),a(Ee,oe),qe.m(oe,null),a(_e,De),a(_e,be),a(be,A),a(A,ue),a(A,w),a(A,ie),gt.m(ie,null),a(be,Ge),a(be,le),a(le,fe),a(le,Je),a(le,_t),vt.m(_t,null),a(e,Pe),a(e,pt),a(e,Pt),a(e,ln),a(e,Gt),a(e,St),a(St,Ze),ae(Ze,t[3]),a(St,jt),a(St,xe),ae(xe,t[3]),a(e,Jt),a(e,At),a(At,ft),a(ft,ot),a(ft,bn),a(ft,ct),kt.m(ct,null),a(At,gn),a(At,et),a(et,tt),a(tt,Ht),a(tt,Ot),a(tt,ht),$t.m(ht,null),a(et,Yt),a(et,Lt),a(Lt,at),a(Lt,Et),a(Lt,mt),wt.m(mt,null),Te=!0,sn||(Kt=[Z(f,"click",t[10]),Z(R,"click",t[7]),Z(Q,"click",t[5]),Z(se,"click",t[6]),Z(Ze,"input",t[14]),Z(xe,"change",t[15]),Z(xe,"input",t[15])],sn=!0)},p(I,[ne]){if(ne&20){rn=ce([2,4,6,8,10,12,20]);let Se;for(Se=0;Se<7;Se+=1){const wl=As(I,rn,Se);Be[Se]?Be[Se].p(wl,ne):(Be[Se]=Os(wl),Be[Se].c(),Be[Se].m(c,u))}for(;Se<7;Se+=1)Be[Se].d(1)}qt===(qt=Ye(I))&&nt?nt.p(I,ne):(nt.d(1),nt=qt(I),nt&&(nt.c(),nt.m(f,null))),(!Te||ne&2)&&y!==(y=I[1].length+"")&&V(S,y),(!Te||ne&4)&&$!==($=I[2].active+"")&&V(N,$),(!Te||ne&4)&&L!==(L=I[2].active==0?"Clear All":"Clear "+String(I[2].active))&&V(te,L),(!Te||ne&1&&P!==(P=I[0].length<=0))&&(R.disabled=P),(!Te||ne&5)&&J!==(J=I[2].active==I[0].length?"Select None":"Select All")&&V(X,J),(!Te||ne&1&&K!==(K=I[0].length<=0))&&(Q.disabled=K),(!Te||ne&4)&&z!==(z=I[2].active==0?"Reroll All":"Reroll "+String(I[2].active))&&V(x,z),(!Te||ne&1&&ee!==(ee=I[0].length<=0))&&(se.disabled=ee),ne&3&&(It=ce(I[0]),Oe(),ke=Un(ke,ne,Vt,1,I,It,$e,re,Bn,Ls,null,js),Le()),bt!==(bt=lt(I))&&(dt.d(1),dt=bt(I),dt&&(dt.c(),dt.m(pe,null))),de===(de=U(I))&&qe?qe.p(I,ne):(qe.d(1),qe=de(I),qe&&(qe.c(),qe.m(oe,null))),yn===(yn=bl(I))&&gt?gt.p(I,ne):(gt.d(1),gt=yn(I),gt&&(gt.c(),gt.m(ie,null))),Cn===(Cn=gl(I))&&vt?vt.p(I,ne):(vt.d(1),vt=Cn(I),vt&&(vt.c(),vt.m(_t,null))),ne&8&&_n(Ze.value)!==I[3]&&ae(Ze,I[3]),ne&8&&ae(xe,I[3]),Pn===(Pn=vl(I))&&kt?kt.p(I,ne):(kt.d(1),kt=Pn(I),kt&&(kt.c(),kt.m(ct,null))),Sn===(Sn=kl(I))&&$t?$t.p(I,ne):($t.d(1),$t=Sn(I),$t&&($t.c(),$t.m(ht,null))),jn===(jn=$l(I))&&wt?wt.p(I,ne):(wt.d(1),wt=jn(I),wt&&(wt.c(),wt.m(mt,null)))},i(I){if(!Te){for(let ne=0;ne<It.length;ne+=1)E(ke[ne]);Te=!0}},o(I){for(let ne=0;ne<ke.length;ne+=1)M(ke[ne]);Te=!1},d(I){I&&v(e),Ue(Be,I),nt.d();for(let ne=0;ne<ke.length;ne+=1)ke[ne].d();dt.d(),qe.d(),gt.d(),vt.d(),kt.d(),$t.d(),wt.d(),sn=!1,ye(Kt)}}}function Oc(t,e,n){let{location:l=""}=e,s=0,i=[],r=[];function o($){n(0,i=i.concat({id:s++,faces:$,result:0,active:!1}))}let c={active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0};function u(){c.active==i.length?i.forEach($=>$.active=!1):i.forEach($=>$.active=!0),n(0,i)}function f(){c.active==0?r.filter($=>$).forEach($=>$.roll()):r.filter($=>$).forEach($=>$.rollIfActive())}function d(){c.active==0?n(0,i=[]):n(0,i=i.filter($=>!$.active))}let h=1;const m=$=>o($),b=()=>o(-1);function y($,N){Me[$?"unshift":"push"](()=>{r[N]=$,n(1,r)})}function S($,N){t.$$.not_equal(N.result,$)&&(N.result=$,n(0,i))}function C($,N){t.$$.not_equal(N.active,$)&&(N.active=$,n(0,i))}function j(){h=_n(this.value),n(3,h)}function q(){h=_n(this.value),n(3,h)}return t.$$set=$=>{"location"in $&&n(8,l=$.location)},t.$$.update=()=>{t.$$.dirty&2&&n(1,r=r.filter($=>$)),t.$$.dirty&1&&n(2,c=i.reduce(($,N)=>($.hasOwnProperty(N.faces)?$[N.faces]=$[N.faces]+1:$[N.faces]=1,$.sum+=N.result,N.result<$.low&&($.low=N.result),N.result>$.high&&($.high=N.result),N.active&&($.active=$.active+1,$.activeSum+=N.result,N.result<$.activeLow&&($.activeLow=N.result),N.result>$.activeHigh&&($.activeHigh=N.result)),$),{active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0}))},[i,r,c,h,o,u,f,d,l,m,b,y,S,C,j,q]}class Lc extends Ae{constructor(e){super(),je(this,e,Oc,Ac,ve,{location:8})}}function Es(t,e,n){const l=t.slice();return l[14]=e[n],l[15]=e,l[16]=n,l}function Ec(t){let e,n=t[0].length+"",l,s;return{c(){e=O("Add to "),l=O(n),s=O("dE")},m(i,r){k(i,e,r),k(i,l,r),k(i,s,r)},p(i,r){r&1&&n!==(n=i[0].length+"")&&V(l,n)},d(i){i&&(v(e),v(l),v(s))}}}function Mc(t){let e;return{c(){e=O("Add 1dE")},m(n,l){k(n,e,l)},p:H,d(n){n&&v(e)}}}function Ms(t,e){let n,l,s=e[16],i,r,o;const c=()=>e[10](l,s),u=()=>e[10](null,s);function f(m){e[11](m,e[14])}function d(m){e[12](m,e[14])}let h={faces:-2};return e[14].result!==void 0&&(h.result=e[14].result),e[14].active!==void 0&&(h.active=e[14].active),l=new Fe({props:h}),c(),Me.push(()=>Xe(l,"result",f)),Me.push(()=>Xe(l,"active",d)),{key:t,first:null,c(){n=ge(),Y(l.$$.fragment),this.first=n},m(m,b){k(m,n,b),W(l,m,b),o=!0},p(m,b){e=m,s!==e[16]&&(u(),s=e[16],c());const y={};!i&&b&1&&(i=!0,y.result=e[14].result,Qe(()=>i=!1)),!r&&b&1&&(r=!0,y.active=e[14].active,Qe(()=>r=!1)),l.$set(y)},i(m){o||(E(l.$$.fragment,m),o=!0)},o(m){M(l.$$.fragment,m),o=!1},d(m){m&&v(n),u(),G(l,m)}}}function Nc(t){let e,n,l,s,i,r,o,c,u=t[2].active==0?"Clear All":"Remove "+String(t[2].active),f,d,h,m,b=t[2].active==t[0].length?"Select None":"Select All",y,S,C,j,q=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),$,N,B,D,R=[],L=new Map,te,P,T,Q,J,X,K,Ce,se,z,x,ee,Re,re,ke,$e,ze,pe,He,me,Ne,_e,Ee,he,Ie,oe,De,be,A,ue,w,ie,Ge,le,fe,Je,_t,Pe,pt,Pt,ln,Gt,St,Ze,jt,xe,Jt,At,ft,ot,bn,ct,gn,et,tt,Ht,Ot,ht,Yt,Lt,at,Et,mt,Te,sn,Kt,rn,Be,Ye,qt,nt;function It(U,de){return U[0].length==0?Mc:Ec}let Vt=It(t),lt=Vt(t),bt=ce(t[0]);const dt=U=>U[14].id;for(let U=0;U<bt.length;U+=1){let de=Es(t,bt,U),qe=dt(de);L.set(qe,R[U]=Ms(qe,de))}return re=new Fe({props:{faces:-2,result:2,active:!1,enabled:!1}}),me=new Fe({props:{faces:-2,result:3,active:!1,enabled:!1}}),_e=new Fe({props:{faces:-2,result:1,active:!1,enabled:!1}}),he=new Fe({props:{faces:-2,result:3,active:!1,enabled:!1}}),oe=new Fe({props:{faces:-2,result:3,active:!1,enabled:!1}}),ue=new Fe({props:{faces:-2,result:2,active:!1,enabled:!1}}),Pt=new Fe({props:{faces:-2,result:1,active:!1,enabled:!1}}),jt=new Fe({props:{faces:-2,result:2,active:!1,enabled:!1}}),ot=new Fe({props:{faces:-2,result:3,active:!1,enabled:!1}}),tt=new Fe({props:{faces:-2,result:1,active:!1,enabled:!1}}),Ot=new Fe({props:{faces:-2,result:3,active:!1,enabled:!1}}),Et=new Fe({props:{faces:-2,result:2,active:!1,enabled:!1}}),Te=new Fe({props:{faces:-2,result:3,active:!1,enabled:!1}}),{c(){e=_("div"),n=_("div"),l=_("h1"),l.textContent="Eye Roller",s=g(),i=_("button"),lt.c(),r=g(),o=_("div"),c=_("button"),f=O(u),h=g(),m=_("button"),y=O(b),C=g(),j=_("button"),$=O(q),B=g(),D=_("div");for(let U=0;U<R.length;U+=1)R[U].c();te=g(),P=_("div"),T=O(t[3]),Q=g(),J=_("div"),X=_("div"),K=_("h2"),K.textContent="What are Eye Dice?",Ce=g(),se=_("p"),se.textContent="Eye dice are 6-sided dice that have one circle side, two pip sides, and three pip-in-circle sides.",z=g(),x=_("div"),ee=_("div"),Re=g(),Y(re.$$.fragment),ke=g(),$e=_("div"),ze=g(),pe=_("div"),He=g(),Y(me.$$.fragment),Ne=g(),Y(_e.$$.fragment),Ee=g(),Y(he.$$.fragment),Ie=g(),Y(oe.$$.fragment),De=g(),be=_("div"),A=g(),Y(ue.$$.fragment),w=g(),ie=_("div"),Ge=g(),le=_("div"),fe=g(),Je=_("p"),Je.innerHTML=`Each side type can be referred to individually or in groups, which each have their own, unique chances of occurring.<br/><br/>
        The chances of each are:`,_t=g(),Pe=_("div"),pt=_("div"),Y(Pt.$$.fragment),ln=g(),Gt=_("div"),Gt.textContent="⅙ Snake",St=g(),Ze=_("div"),Y(jt.$$.fragment),xe=g(),Jt=_("div"),Jt.textContent="⅓ Bat",At=g(),ft=_("div"),Y(ot.$$.fragment),bn=g(),ct=_("div"),ct.textContent="½ Fish",gn=g(),et=_("div"),Y(tt.$$.fragment),Ht=g(),Y(Ot.$$.fragment),ht=g(),Yt=_("div"),Yt.textContent="⅔ Pips",Lt=g(),at=_("div"),Y(Et.$$.fragment),mt=g(),Y(Te.$$.fragment),sn=g(),Kt=_("div"),Kt.textContent="⅚ Rings",rn=g(),Be=_("p"),Be.textContent="Rolling multiple eye dice for the same thing multiplies that fraction by itself number-of-dice times. For example, rolling 2dE for fish gives you a 50% * 50% = 25% chance of rolling all fish.",p(i,"class","button-outlined"),p(c,"class","button-outlined"),c.disabled=d=t[0].length<=0,p(m,"class","button-outlined"),m.disabled=S=t[0].length<=0,p(j,"class","button-outlined"),j.disabled=N=t[0].length<=0,F(o,"display","grid"),F(o,"grid-template-columns","32% 32% 32%"),F(o,"justify-content","center"),p(D,"class","dice-box"),p(P,"class","text-center"),F(P,"font-size","small"),F(P,"white-space","pre"),p(P,"id","result-view"),p(n,"class","content-box"),p(e,"class","page"),p(ee,"class","svelte-15n9wmj"),p($e,"class","svelte-15n9wmj"),p(pe,"class","svelte-15n9wmj"),p(be,"class","svelte-15n9wmj"),p(ie,"class","svelte-15n9wmj"),p(le,"class","svelte-15n9wmj"),p(x,"class","die-diagram svelte-15n9wmj"),p(pt,"class","svelte-15n9wmj"),p(Gt,"class","svelte-15n9wmj"),p(Ze,"class","svelte-15n9wmj"),p(Jt,"class","svelte-15n9wmj"),p(ft,"class","svelte-15n9wmj"),p(ct,"class","svelte-15n9wmj"),p(et,"class","svelte-15n9wmj"),p(Yt,"class","svelte-15n9wmj"),p(at,"class","svelte-15n9wmj"),p(Kt,"class","svelte-15n9wmj"),p(Pe,"class","die-list svelte-15n9wmj"),p(X,"class","content-box"),p(J,"class","page")},m(U,de){k(U,e,de),a(e,n),a(n,l),a(n,s),a(n,i),lt.m(i,null),a(n,r),a(n,o),a(o,c),a(c,f),a(o,h),a(o,m),a(m,y),a(o,C),a(o,j),a(j,$),a(n,B),a(n,D);for(let qe=0;qe<R.length;qe+=1)R[qe]&&R[qe].m(D,null);a(n,te),a(n,P),a(P,T),k(U,Q,de),k(U,J,de),a(J,X),a(X,K),a(X,Ce),a(X,se),a(X,z),a(X,x),a(x,ee),a(x,Re),W(re,x,null),a(x,ke),a(x,$e),a(x,ze),a(x,pe),a(x,He),W(me,x,null),a(x,Ne),W(_e,x,null),a(x,Ee),W(he,x,null),a(x,Ie),W(oe,x,null),a(x,De),a(x,be),a(x,A),W(ue,x,null),a(x,w),a(x,ie),a(x,Ge),a(x,le),a(X,fe),a(X,Je),a(X,_t),a(X,Pe),a(Pe,pt),W(Pt,pt,null),a(Pe,ln),a(Pe,Gt),a(Pe,St),a(Pe,Ze),W(jt,Ze,null),a(Pe,xe),a(Pe,Jt),a(Pe,At),a(Pe,ft),W(ot,ft,null),a(Pe,bn),a(Pe,ct),a(Pe,gn),a(Pe,et),W(tt,et,null),a(et,Ht),W(Ot,et,null),a(Pe,ht),a(Pe,Yt),a(Pe,Lt),a(Pe,at),W(Et,at,null),a(at,mt),W(Te,at,null),a(Pe,sn),a(Pe,Kt),a(X,rn),a(X,Be),Ye=!0,qt||(nt=[Z(i,"click",t[9]),Z(c,"click",t[7]),Z(m,"click",t[5]),Z(j,"click",t[6])],qt=!0)},p(U,[de]){Vt===(Vt=It(U))&&lt?lt.p(U,de):(lt.d(1),lt=Vt(U),lt&&(lt.c(),lt.m(i,null))),(!Ye||de&4)&&u!==(u=U[2].active==0?"Clear All":"Remove "+String(U[2].active))&&V(f,u),(!Ye||de&1&&d!==(d=U[0].length<=0))&&(c.disabled=d),(!Ye||de&5)&&b!==(b=U[2].active==U[0].length?"Select None":"Select All")&&V(y,b),(!Ye||de&1&&S!==(S=U[0].length<=0))&&(m.disabled=S),(!Ye||de&4)&&q!==(q=U[2].active==0?"Reroll All":"Reroll "+String(U[2].active))&&V($,q),(!Ye||de&1&&N!==(N=U[0].length<=0))&&(j.disabled=N),de&3&&(bt=ce(U[0]),Oe(),R=Un(R,de,dt,1,U,bt,L,D,Bn,Ms,null,Es),Le()),(!Ye||de&8)&&V(T,U[3])},i(U){if(!Ye){for(let de=0;de<bt.length;de+=1)E(R[de]);E(re.$$.fragment,U),E(me.$$.fragment,U),E(_e.$$.fragment,U),E(he.$$.fragment,U),E(oe.$$.fragment,U),E(ue.$$.fragment,U),E(Pt.$$.fragment,U),E(jt.$$.fragment,U),E(ot.$$.fragment,U),E(tt.$$.fragment,U),E(Ot.$$.fragment,U),E(Et.$$.fragment,U),E(Te.$$.fragment,U),Ye=!0}},o(U){for(let de=0;de<R.length;de+=1)M(R[de]);M(re.$$.fragment,U),M(me.$$.fragment,U),M(_e.$$.fragment,U),M(he.$$.fragment,U),M(oe.$$.fragment,U),M(ue.$$.fragment,U),M(Pt.$$.fragment,U),M(jt.$$.fragment,U),M(ot.$$.fragment,U),M(tt.$$.fragment,U),M(Ot.$$.fragment,U),M(Et.$$.fragment,U),M(Te.$$.fragment,U),Ye=!1},d(U){U&&(v(e),v(Q),v(J)),lt.d();for(let de=0;de<R.length;de+=1)R[de].d();G(re),G(me),G(_e),G(he),G(oe),G(ue),G(Pt),G(jt),G(ot),G(tt),G(Ot),G(Et),G(Te),qt=!1,ye(nt)}}}function Tc(t){var e=[];e.push(`${t.snakes} snake${t.snakes==1?"":"s"}`),e.push(`${t.bats} bat${t.bats==1?"":"s"}`),e.push(`${t.fish} fish`);var n=[e.join("  ")];return e=[],e.push(`${t.pips} pip${t.pips==1?"":"s"}`),e.push(`${t.rings} ring${t.rings==1?"":"s"}`),n.push(e.join("  ")),n.join(`\r
`)}function Rc(t,e,n){let{location:l=""}=e,s=0,i=[],r=[];function o(){n(0,i=i.concat({id:s++,result:0,active:!1}))}let c={active:0,snakes:0,bats:0,fish:0,rings:0,pips:0};function u(){c.active==i.length?i.forEach(C=>C.active=!1):i.forEach(C=>C.active=!0),n(0,i)}function f(){c.active==0?r.filter(C=>C).forEach(C=>C.roll()):r.filter(C=>C).forEach(C=>C.rollIfActive())}function d(){c.active==0?n(0,i=[]):n(0,i=i.filter(C=>!C.active))}let h="";const m=()=>o();function b(C,j){Me[C?"unshift":"push"](()=>{r[j]=C,n(1,r)})}function y(C,j){t.$$.not_equal(j.result,C)&&(j.result=C,n(0,i))}function S(C,j){t.$$.not_equal(j.active,C)&&(j.active=C,n(0,i))}return t.$$set=C=>{"location"in C&&n(8,l=C.location)},t.$$.update=()=>{t.$$.dirty&2&&n(1,r=r.filter(C=>C)),t.$$.dirty&1&&n(2,c=i.reduce((C,j)=>(j.active&&(C.active+=1),j.result==1?(C.snakes+=1,C.pips+=1):j.result==2?(C.bats+=1,C.rings+=1):j.result==3&&(C.fish+=1,C.pips+=1,C.rings+=1),C),{active:0,snakes:0,bats:0,fish:0,rings:0,pips:0})),t.$$.dirty&4&&n(3,h=Tc(c))},[i,r,c,h,o,u,f,d,l,m,b,y,S]}class Hc extends Ae{constructor(e){super(),je(this,e,Rc,Nc,ve,{location:8})}}function qc(t){let e;const n=t[1].default,l=zt(n,t,t[2],null);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&4)&&Ut(l,n,s,s[2],e?Bt(n,s[2],i,null):Wt(s[2]),null)},i(s){e||(E(l,s),e=!0)},o(s){M(l,s),e=!1},d(s){l&&l.d(s)}}}function Ic(t){let e,n;return e=new it({props:{to:t[0],replace:!1,getProps:Dc,$$slots:{default:[qc]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(l,s){W(e,l,s),n=!0},p(l,[s]){const i={};s&1&&(i.to=l[0]),s&4&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){G(e,l)}}}function Dc({location:t,href:e,isPartiallyCurrent:n,isCurrent:l}){return(e==="/"?l:n||l)?{class:"active"}:{}}function Fc(t,e,n){let{$$slots:l={},$$scope:s}=e,{to:i}=e;return t.$$set=r=>{"to"in r&&n(0,i=r.to),"$$scope"in r&&n(2,s=r.$$scope)},[i,l,s]}class zc extends Ae{constructor(e){super(),je(this,e,Fc,Ic,ve,{to:0})}}function Bc(t){let e;return{c(){e=_("div"),e.innerHTML='<span style="margin: 0pt 10pt">Report a problem:</span> <a href="https://github.com/cgbeutler/hns-site" class="svelte-m66do7"><img src="/img/github_logo.png" alt="github.com/cgbeutler/hns-site" class="svelte-m66do7"/></a> <br/> <span style="margin: 0pt 10pt">Find other projects on:</span> <a href="https://aristonaut.itch.io/" class="svelte-m66do7"><img src="/img/itchio_logo.svg" alt="aristonaut.itch.io" class="svelte-m66do7"/></a>',p(e,"class","ext-nav svelte-m66do7")},m(n,l){k(n,e,l)},p:H,i:H,o:H,d(n){n&&v(e)}}}class Uc extends Ae{constructor(e){super(),je(this,e,null,Bc,ve,{})}}function Wc(t){let e;return{c(){e=O("Dice Roller")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function Gc(t){let e,n,l,s,i,r,o,c,u,f;return r=new zc({props:{to:"dice",$$slots:{default:[Wc]},$$scope:{ctx:t}}}),u=new Uc({}),{c(){e=_("div"),n=_("h1"),n.textContent="Hammer and Steel",l=g(),s=_("p"),i=O("Try out my fancy "),Y(r.$$.fragment),o=O("!"),c=g(),Y(u.$$.fragment),p(e,"class","page")},m(d,h){k(d,e,h),a(e,n),a(e,l),a(e,s),a(s,i),W(r,s,null),a(s,o),k(d,c,h),W(u,d,h),f=!0},p(d,[h]){const m={};h&2&&(m.$$scope={dirty:h,ctx:d}),r.$set(m)},i(d){f||(E(r.$$.fragment,d),E(u.$$.fragment,d),f=!0)},o(d){M(r.$$.fragment,d),M(u.$$.fragment,d),f=!1},d(d){d&&(v(e),v(c)),G(r),G(u,d)}}}function Jc(t,e,n){let{location:l="/"}=e;return t.$$set=s=>{"location"in s&&n(0,l=s.location)},t.$$.update=()=>{t.$$.dirty&1&&console.log(l)},[l]}class Yc extends Ae{constructor(e){super(),je(this,e,Jc,Gc,ve,{location:0})}}function Kc(t){let e,n,l,s,i,r;return{c(){e=_("div"),n=_("h1"),n.textContent="Page Not Found",l=g(),s=_("a"),s.textContent="Return To Homepage",p(s,"href","/"),p(s,"class","button-outlined"),p(e,"class","page")},m(o,c){k(o,e,c),a(e,n),a(e,l),a(e,s),i||(r=rl(pl.call(null,s)),i=!0)},p:H,i:H,o:H,d(o){o&&v(e),i=!1,r()}}}function Vc(t,e,n){let{location:l=""}=e;return t.$$set=s=>{"location"in s&&n(0,l=s.location)},[l]}class Qc extends Ae{constructor(e){super(),je(this,e,Vc,Kc,ve,{location:0})}}function Xc(t,e,n){let{location:l=""}=e;return t.$$set=s=>{"location"in s&&n(0,l=s.location)},[l]}class Zc extends Ae{constructor(e){super(),je(this,e,Xc,null,ve,{location:0})}}function xc(t){let e,n,l,s,i;return{c(){e=_("div"),p(e,"slot","backdrop"),p(e,"class","backdrop svelte-rwmap")},m(r,o){k(r,e,o),l=!0,s||(i=[Z(e,"click",hl),Z(e,"keypress",t[1])],s=!0)},p:H,i(r){l||(r&&rt(()=>{l&&(n||(n=In(e,Al,{},!0)),n.run(1))}),l=!0)},o(r){r&&(n||(n=In(e,Al,{},!1)),n.run(0)),l=!1},d(r){r&&v(e),r&&n&&n.end(),s=!1,ye(i)}}}function ea(t){let e,n,l;return{c(){e=_("button"),e.innerHTML='<img src="/img/HnsSmall.svg" alt="H&amp;S"/>',p(e,"id","nav-button")},m(s,i){k(s,e,i),n||(l=Z(e,"click",t[3]),n=!0)},i:H,o:H,d(s){s&&v(e),n=!1,l()}}}function ta(t){let e,n;return e=new Js({}),{c(){Y(e.$$.fragment)},m(l,s){W(e,l,s),n=!0},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){G(e,l)}}}function na(t){let e,n,l,s,i,r,o,c,u,f,d,h,m,b,y,S,C,j,q,$,N,B,D;e=new ir({props:{$$slots:{backdrop:[xc]},$$scope:{ctx:t}}});const R=[ta,ea],L=[];function te(P,T){return P[0]>=1e3?0:1}return l=te(t),s=L[l]=R[l](t),r=new st({props:{component:Qc}}),c=new st({props:{path:"/",component:Yc}}),f=new st({props:{path:"/character",component:xo}}),h=new st({props:{path:"/character/:id/*",component:Ko}}),b=new st({props:{path:"/dice",component:Lc}}),S=new st({props:{path:"/dice/ageroller",component:eo}}),j=new st({props:{path:"/dice/eyeroller",component:Hc}}),$=new st({props:{path:"/srd",component:Zc}}),B=new st({props:{path:"/account",component:Yr}}),{c(){Y(e.$$.fragment),n=g(),s.c(),i=g(),Y(r.$$.fragment),o=g(),Y(c.$$.fragment),u=g(),Y(f.$$.fragment),d=g(),Y(h.$$.fragment),m=g(),Y(b.$$.fragment),y=g(),Y(S.$$.fragment),C=g(),Y(j.$$.fragment),q=g(),Y($.$$.fragment),N=g(),Y(B.$$.fragment)},m(P,T){W(e,P,T),k(P,n,T),L[l].m(P,T),k(P,i,T),W(r,P,T),k(P,o,T),W(c,P,T),k(P,u,T),W(f,P,T),k(P,d,T),W(h,P,T),k(P,m,T),W(b,P,T),k(P,y,T),W(S,P,T),k(P,C,T),W(j,P,T),k(P,q,T),W($,P,T),k(P,N,T),W(B,P,T),D=!0},p(P,T){const Q={};T&16&&(Q.$$scope={dirty:T,ctx:P}),e.$set(Q);let J=l;l=te(P),l!==J&&(Oe(),M(L[J],1,1,()=>{L[J]=null}),Le(),s=L[l],s||(s=L[l]=R[l](P),s.c()),E(s,1),s.m(i.parentNode,i))},i(P){D||(E(e.$$.fragment,P),E(s),E(r.$$.fragment,P),E(c.$$.fragment,P),E(f.$$.fragment,P),E(h.$$.fragment,P),E(b.$$.fragment,P),E(S.$$.fragment,P),E(j.$$.fragment,P),E($.$$.fragment,P),E(B.$$.fragment,P),D=!0)},o(P){M(e.$$.fragment,P),M(s),M(r.$$.fragment,P),M(c.$$.fragment,P),M(f.$$.fragment,P),M(h.$$.fragment,P),M(b.$$.fragment,P),M(S.$$.fragment,P),M(j.$$.fragment,P),M($.$$.fragment,P),M(B.$$.fragment,P),D=!1},d(P){P&&(v(n),v(i),v(o),v(u),v(d),v(m),v(y),v(C),v(q),v(N)),G(e,P),L[l].d(P),G(r,P),G(c,P),G(f,P),G(h,P),G(b,P),G(S,P),G(j,P),G($,P),G(B,P)}}}function la(t){let e,n,l,s;return rt(t[2]),e=new _l({props:{$$slots:{default:[na]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(i,r){W(e,i,r),n=!0,l||(s=Z(window,"resize",t[2]),l=!0)},p(i,[r]){const o={};r&17&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i(i){n||(E(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){G(e,i),l=!1,s()}}}function sa(t,e,n){let l=0;function s(o){o.repeat||o.key==="Escape"&&(hl(),o.preventDefault())}function i(){n(0,l=window.innerWidth)}return[l,s,i,()=>Ji(Hr)]}class ia extends Ae{constructor(e){super(),je(this,e,sa,la,ve,{})}}const ra=Ve(window.location.pathname);new ia({target:document.getElementById("app")});const oa=()=>{let t=window.location.pathname;const e=document.querySelector("body");new MutationObserver(l=>{l.forEach(()=>{t!==document.location.pathname&&(t=document.location.pathname,ra.set(t))})}).observe(e,{childList:!0,subtree:!0})};window.onload=oa;
