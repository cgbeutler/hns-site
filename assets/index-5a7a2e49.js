var ji=Object.defineProperty;var Oi=(t,e,l)=>e in t?ji(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Se=(t,e,l)=>(Oi(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function J(){}const hi=t=>t;function qt(t,e){for(const l in e)t[l]=e[l];return t}function Mi(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function gi(t){return t()}function pn(){return Object.create(null)}function Ce(t){t.forEach(gi)}function pl(t){return typeof t=="function"}function Ae(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let wl;function He(t,e){return wl||(wl=document.createElement("a")),wl.href=e,t===wl.href}function Ti(t){return Object.keys(t).length===0}function Ll(t,...e){if(t==null)return J;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Je(t){let e;return Ll(t,l=>e=l)(),e}function Ye(t,e,l){t.$$.on_destroy.push(Ll(e,l))}function Qt(t,e,l,n){if(t){const i=bi(t,e,l,n);return t[0](i)}}function bi(t,e,l,n){return t[1]&&n?qt(l.ctx.slice(),t[1](n(e))):l.ctx}function Xt(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let r=0;r<o;r+=1)s[r]=e.dirty[r]|i[r];return s}return e.dirty|i}return e.dirty}function Vt(t,e,l,n,i,s){if(i){const o=bi(e,l,n,s);t.p(o,i)}}function Zt(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function Ql(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function mn(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function yl(t,e,l){return t.set(l),e}function ln(t){return t&&pl(t.destroy)?t.destroy:J}const vi=typeof window<"u";let Ri=vi?()=>window.performance.now():()=>Date.now(),nn=vi?t=>requestAnimationFrame(t):J;const il=new Set;function ki(t){il.forEach(e=>{e.c(t)||(il.delete(e),e.f())}),il.size!==0&&nn(ki)}function Li(t){let e;return il.size===0&&nn(ki),{promise:new Promise(l=>{il.add(e={c:t,f:l})}),abort(){il.delete(e)}}}function c(t,e){t.appendChild(e)}function wi(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ii(t){const e=d("style");return qi(wi(t),e),e.sheet}function qi(t,e){return c(t.head||t,e),e.sheet}function v(t,e,l){t.insertBefore(e,l||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function bt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function I(t){return document.createTextNode(t)}function g(){return I(" ")}function De(){return I("")}function Q(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Nt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function a(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function hn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set?t[n]=e[n]:a(t,n,e[n])}function sl(t){return t===""?null:+t}function zi(t){return Array.from(t.childNodes)}function te(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function re(t,e){t.value=e??""}function H(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function Dt(t,e,l){t.classList[l?"add":"remove"](e)}function yi(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,l,n,e),i}function rl(t,e){return new t(e)}const Nl=new Map;let jl=0;function Hi(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function Di(t,e){const l={stylesheet:Ii(e),rules:{}};return Nl.set(t,l),l}function gn(t,e,l,n,i,s,o,r=0){const u=16.666/n;let f=`{
`;for(let y=0;y<=1;y+=u){const N=e+(l-e)*s(y);f+=y*100+`%{${o(N,1-N)}}
`}const m=f+`100% {${o(l,1-l)}}
}`,h=`__svelte_${Hi(m)}_${r}`,p=wi(t),{stylesheet:_,rules:$}=Nl.get(p)||Di(p,t);$[h]||($[h]=!0,_.insertRule(`@keyframes ${h} ${m}`,_.cssRules.length));const A=t.style.animation||"";return t.style.animation=`${A?`${A}, `:""}${h} ${n}ms linear ${i}ms 1 both`,jl+=1,h}function Fi(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=l.length-n.length;i&&(t.style.animation=n.join(", "),jl-=i,jl||Ui())}function Ui(){nn(()=>{jl||(Nl.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&b(e)}),Nl.clear())})}let _l;function Lt(t){_l=t}function al(){if(!_l)throw new Error("Function called outside component initialization");return _l}function $i(t){al().$$.on_mount.push(t)}function Gi(t){al().$$.on_destroy.push(t)}function Bi(){const t=al();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=yi(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function bn(t,e){return al().$$.context.set(t,e),e}function ol(t){return al().$$.context.get(t)}function vn(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const nl=[],dt=[],Al=[],Xl=[],Ki=Promise.resolve();let Vl=!1;function Ji(){Vl||(Vl=!0,Ki.then(sn))}function Ut(t){Al.push(t)}function cl(t){Xl.push(t)}const Ul=new Set;let tl=0;function sn(){if(tl!==0)return;const t=_l;do{try{for(;tl<nl.length;){const e=nl[tl];tl++,Lt(e),Wi(e.$$)}}catch(e){throw nl.length=0,tl=0,e}for(Lt(null),nl.length=0,tl=0;dt.length;)dt.pop()();for(let e=0;e<Al.length;e+=1){const l=Al[e];Ul.has(l)||(Ul.add(l),l())}Al.length=0}while(nl.length);for(;Xl.length;)Xl.pop()();Vl=!1,Ul.clear(),Lt(t)}function Wi(t){if(t.fragment!==null){t.update(),Ce(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ut)}}let fl;function Yi(){return fl||(fl=Promise.resolve(),fl.then(()=>{fl=null})),fl}function Gl(t,e,l){t.dispatchEvent(yi(`${e?"intro":"outro"}${l}`))}const El=new Set;let It;function Qe(){It={r:0,c:[],p:It}}function Xe(){It.r||Ce(It.c),It=It.p}function L(t,e){t&&t.i&&(El.delete(t),t.i(e))}function z(t,e,l,n){if(t&&t.o){if(El.has(t))return;El.add(t),It.c.push(()=>{El.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const Qi={duration:0};function Ol(t,e,l,n){const i={direction:"both"};let s=e(t,l,i),o=n?0:1,r=null,u=null,f=null;function m(){f&&Fi(t,f)}function h(_,$){const A=_.b-o;return $*=Math.abs(A),{a:o,b:_.b,d:A,duration:$,start:_.start,end:_.start+$,group:_.group}}function p(_){const{delay:$=0,duration:A=300,easing:y=hi,tick:N=J,css:C}=s||Qi,S={start:Ri()+$,b:_};_||(S.group=It,It.r+=1),r||u?u=S:(C&&(m(),f=gn(t,o,_,A,$,y,C)),_&&N(0,1),r=h(S,A),Ut(()=>Gl(t,_,"start")),Li(k=>{if(u&&k>u.start&&(r=h(u,A),u=null,Gl(t,r.b,"start"),C&&(m(),f=gn(t,o,r.b,r.duration,0,y,s.css))),r){if(k>=r.end)N(o=r.b,1-o),Gl(t,r.b,"end"),u||(r.b?m():--r.group.r||Ce(r.group.c)),r=null;else if(k>=r.start){const R=k-r.start;o=r.a+r.d*y(R/r.duration),N(o,1-o)}}return!!(r||u)}))}return{run(_){pl(s)?Yi().then(()=>{s=s(i),p(_)}):p(_)},end(){m(),r=u=null}}}function kn(t,e){const l=e.token={};function n(i,s,o,r){if(e.token!==l)return;e.resolved=r;let u=e.ctx;o!==void 0&&(u=u.slice(),u[o]=r);const f=i&&(e.current=i)(u);let m=!1;e.block&&(e.blocks?e.blocks.forEach((h,p)=>{p!==s&&h&&(Qe(),z(h,1,1,()=>{e.blocks[p]===h&&(e.blocks[p]=null)}),Xe())}):e.block.d(1),f.c(),L(f,1),f.m(e.mount(),e.anchor),m=!0),e.block=f,e.blocks&&(e.blocks[s]=f),m&&sn()}if(Mi(t)){const i=al();if(t.then(s=>{Lt(i),n(e.then,1,e.value,s),Lt(null)},s=>{if(Lt(i),n(e.catch,2,e.error,s),Lt(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function Xi(t,e,l){const n=e.slice(),{resolved:i}=t;t.current===t.then&&(n[t.value]=i),t.current===t.catch&&(n[t.error]=i),t.block.p(n,l)}function Il(t,e){z(t,1,1,()=>{e.delete(t.key)})}function ql(t,e,l,n,i,s,o,r,u,f,m,h){let p=t.length,_=s.length,$=p;const A={};for(;$--;)A[t[$].key]=$;const y=[],N=new Map,C=new Map;for($=_;$--;){const E=h(i,s,$),M=l(E);let F=o.get(M);F?n&&F.p(E,e):(F=f(M,E),F.c()),N.set(M,y[$]=F),M in A&&C.set(M,Math.abs($-A[M]))}const S=new Set,k=new Set;function R(E){L(E,1),E.m(r,m),o.set(E.key,E),m=E.first,_--}for(;p&&_;){const E=y[_-1],M=t[p-1],F=E.key,D=M.key;E===M?(m=E.first,p--,_--):N.has(D)?!o.has(F)||S.has(F)?R(E):k.has(D)?p--:C.get(F)>C.get(D)?(k.add(F),R(E)):(S.add(D),p--):(u(M,o),p--)}for(;p--;){const E=t[p];N.has(E.key)||u(E,o)}for(;_;)R(y[_-1]);return y}function zl(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],r=e[s];if(r){for(const u in o)u in r||(n[u]=1);for(const u in r)i[u]||(l[u]=r[u],i[u]=1);t[s]=r}else for(const u in o)i[u]=1}for(const o in n)o in l||(l[o]=void 0);return l}function Ml(t){return typeof t=="object"&&t!==null?t:{}}function ul(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function ee(t){t&&t.c()}function V(t,e,l,n){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,l),n||Ut(()=>{const o=t.$$.on_mount.map(gi).filter(pl);t.$$.on_destroy?t.$$.on_destroy.push(...o):Ce(o),t.$$.on_mount=[]}),s.forEach(Ut)}function Z(t,e){const l=t.$$;l.fragment!==null&&(Ce(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Vi(t,e){t.$$.dirty[0]===-1&&(nl.push(t),Ji(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ee(t,e,l,n,i,s,o,r=[-1]){const u=_l;Lt(t);const f=t.$$={fragment:null,ctx:[],props:s,update:J,not_equal:i,bound:pn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:pn(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};o&&o(f.root);let m=!1;if(f.ctx=l?l(t,e.props||{},(h,p,..._)=>{const $=_.length?_[0]:p;return f.ctx&&i(f.ctx[h],f.ctx[h]=$)&&(!f.skip_bound&&f.bound[h]&&f.bound[h]($),m&&Vi(t,h)),p}):[],f.update(),m=!0,Ce(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const h=zi(e.target);f.fragment&&f.fragment.l(h),h.forEach(b)}else f.fragment&&f.fragment.c();e.intro&&L(t.$$.fragment),V(t,e.target,e.anchor,e.customElement),sn()}Lt(u)}class Pe{$destroy(){Z(this,1),this.$destroy=J}$on(e,l){if(!pl(l))return J;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Ti(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Zi(t){const e=t-1;return e*e*e+1}function wn(t,{delay:e=0,duration:l=400,easing:n=hi}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:n,css:s=>`opacity: ${s*i}`}}function yn(t,{delay:e=0,duration:l=400,easing:n=Zi,x:i=0,y:s=0,opacity:o=0}={}){const r=getComputedStyle(t),u=+r.opacity,f=r.transform==="none"?"":r.transform,m=u*(1-o);return{delay:e,duration:l,easing:n,css:(h,p)=>`
			transform: ${f} translate(${(1-h)*i}px, ${(1-h)*s}px);
			opacity: ${u-m*p}`}}const ll=[];function xi(t,e){return{subscribe:st(t,e).subscribe}}function st(t,e=J){let l;const n=new Set;function i(r){if(Ae(t,r)&&(t=r,l)){const u=!ll.length;for(const f of n)f[1](),ll.push(f,t);if(u){for(let f=0;f<ll.length;f+=2)ll[f][0](ll[f+1]);ll.length=0}}}function s(r){i(r(t))}function o(r,u=J){const f=[r,u];return n.add(f),n.size===1&&(l=e(i)||J),r(t),()=>{n.delete(f),n.size===0&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function es(t,e,l){const n=!Array.isArray(t),i=n?[t]:t,s=e.length<2;return xi(l,o=>{let r=!1;const u=[];let f=0,m=J;const h=()=>{if(f)return;m();const _=e(n?u[0]:u,o);s?o(_):m=pl(_)?_:J},p=i.map((_,$)=>Ll(_,A=>{u[$]=A,f&=~(1<<$),r&&h()},()=>{f|=1<<$}));return r=!0,h(),function(){Ce(p),m()}})}const Tl={},Rl={};function Bl(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}function ts(t,e){const l=[];let n=Bl(t);return{get location(){return n},listen(i){l.push(i);const s=()=>{n=Bl(t),i({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const o=l.indexOf(i);l.splice(o,1)}},navigate(i,{state:s,replace:o=!1}={}){s={...s,key:Date.now()+""};try{o?t.history.replaceState(s,null,i):t.history.pushState(s,null,i)}catch{t.location[o?"replace":"assign"](i)}n=Bl(t),l.forEach(r=>r({location:n,action:"PUSH"}))}}}function ls(t="/"){let e=0;const l=[{pathname:t,search:""}],n=[];return{get location(){return l[e]},addEventListener(i,s){},removeEventListener(i,s){},history:{get entries(){return l},get index(){return e},get state(){return n[e]},pushState(i,s,o){const[r,u=""]=o.split("?");e++,l.push({pathname:r,search:u}),n.push(i)},replaceState(i,s,o){const[r,u=""]=o.split("?");l[e]={pathname:r,search:u},n[e]=i}}}}const ns=Boolean(typeof window<"u"&&window.document&&window.document.createElement),Zl=ts(ns?window:ls()),{navigate:ml}=Zl,Ci=/^:(.+)/,$n=4,is=3,ss=2,rs=1,os=1;function xl(t,e){return t.substr(0,e.length)===e}function cs(t){return t===""}function us(t){return Ci.test(t)}function Si(t){return t[0]==="*"}function dl(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Kl(t){return t.replace(/(^\/+|\/+$)/g,"")}function as(t,e){const l=t.default?0:dl(t.path).reduce((n,i)=>(n+=$n,cs(i)?n+=os:us(i)?n+=ss:Si(i)?n-=$n+rs:n+=is,n),0);return{route:t,score:l,index:e}}function fs(t){return t.map(as).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Ai(t,e){let l,n;const[i]=e.split("?"),s=dl(i),o=s[0]==="",r=fs(t);for(let u=0,f=r.length;u<f;u++){const m=r[u].route;let h=!1;if(m.default){n={route:m,params:{},uri:e};continue}const p=dl(m.path),_={},$=Math.max(s.length,p.length);let A=0;for(;A<$;A++){const y=p[A],N=s[A];if(y!==void 0&&Si(y)){const S=y==="*"?"*":y.slice(1);_[S]=s.slice(A).map(decodeURIComponent).join("/");break}if(N===void 0){h=!0;break}let C=Ci.exec(y);if(C&&!o){const S=decodeURIComponent(N);_[C[1]]=S}else if(y!==N){h=!0;break}}if(!h){l={route:m,params:_,uri:"/"+s.slice(0,A).join("/")};break}}return l||n||null}function _s(t,e){return Ai([t],e)}function Jl(t,e){return t+(e?`?${e}`:"")}function ds(t,e){if(xl(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=dl(l),o=dl(i);if(s[0]==="")return Jl(i,n);if(!xl(s[0],".")){const f=o.concat(s).join("/");return Jl((i==="/"?"":"/")+f,n)}const r=o.concat(s),u=[];return r.forEach(f=>{f===".."?u.pop():f!=="."&&u.push(f)}),Jl("/"+u.join("/"),n)}function Cn(t,e){return`${Kl(e==="/"?t:`${Kl(t)}/${Kl(e)}`)}/`}function Ei(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ps(t){const e=location.host;return t.host==e||t.href.indexOf(`https://${e}`)===0||t.href.indexOf(`http://${e}`)===0}function ms(t){let e;const l=t[9].default,n=Qt(l,t,t[8],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,[s]){n&&n.p&&(!e||s&256)&&Vt(n,l,i,i[8],e?Xt(l,i[8],s,null):Zt(i[8]),null)},i(i){e||(L(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function hs(t,e,l){let n,i,s,{$$slots:o={},$$scope:r}=e,{basepath:u="/"}=e,{url:f=null}=e;const m=ol(Tl),h=ol(Rl),p=st([]);Ye(t,p,k=>l(6,i=k));const _=st(null);let $=!1;const A=m||st(f?{pathname:f}:Zl.location);Ye(t,A,k=>l(5,n=k));const y=h?h.routerBase:st({path:u,uri:u});Ye(t,y,k=>l(7,s=k));const N=es([y,_],([k,R])=>{if(R===null)return k;const{path:E}=k,{route:M,uri:F}=R;return{path:M.default?E:M.path.replace(/\*.*$/,""),uri:F}});function C(k){const{path:R}=s;let{path:E}=k;if(k._path=E,k.path=Cn(R,E),typeof window>"u"){if($)return;const M=_s(k,n.pathname);M&&(_.set(M),$=!0)}else p.update(M=>(M.push(k),M))}function S(k){p.update(R=>{const E=R.indexOf(k);return R.splice(E,1),R})}return m||($i(()=>Zl.listen(R=>{A.set(R.location)})),bn(Tl,A)),bn(Rl,{activeRoute:_,base:y,routerBase:N,registerRoute:C,unregisterRoute:S}),t.$$set=k=>{"basepath"in k&&l(3,u=k.basepath),"url"in k&&l(4,f=k.url),"$$scope"in k&&l(8,r=k.$$scope)},t.$$.update=()=>{if(t.$$.dirty&128){const{path:k}=s;p.update(R=>(R.forEach(E=>E.path=Cn(k,E._path)),R))}if(t.$$.dirty&96){const k=Ai(i,n.pathname);_.set(k)}},[p,A,y,u,f,n,i,s,r,o]}class gs extends Pe{constructor(e){super(),Ee(this,e,hs,ms,Ae,{basepath:3,url:4})}}const bs=t=>({params:t&4,location:t&16}),Sn=t=>({params:t[2],location:t[4]});function An(t){let e,l,n,i;const s=[ks,vs],o=[];function r(u,f){return u[0]!==null?0:1}return e=r(t),l=o[e]=s[e](t),{c(){l.c(),n=De()},m(u,f){o[e].m(u,f),v(u,n,f),i=!0},p(u,f){let m=e;e=r(u),e===m?o[e].p(u,f):(Qe(),z(o[m],1,1,()=>{o[m]=null}),Xe(),l=o[e],l?l.p(u,f):(l=o[e]=s[e](u),l.c()),L(l,1),l.m(n.parentNode,n))},i(u){i||(L(l),i=!0)},o(u){z(l),i=!1},d(u){o[e].d(u),u&&b(n)}}}function vs(t){let e;const l=t[10].default,n=Qt(l,t,t[9],Sn);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&532)&&Vt(n,l,i,i[9],e?Xt(l,i[9],s,bs):Zt(i[9]),Sn)},i(i){e||(L(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function ks(t){let e,l,n;const i=[{location:t[4]},t[2],t[3]];var s=t[0];function o(r){let u={};for(let f=0;f<i.length;f+=1)u=qt(u,i[f]);return{props:u}}return s&&(e=rl(s,o())),{c(){e&&ee(e.$$.fragment),l=De()},m(r,u){e&&V(e,r,u),v(r,l,u),n=!0},p(r,u){const f=u&28?zl(i,[u&16&&{location:r[4]},u&4&&Ml(r[2]),u&8&&Ml(r[3])]):{};if(s!==(s=r[0])){if(e){Qe();const m=e;z(m.$$.fragment,1,0,()=>{Z(m,1)}),Xe()}s?(e=rl(s,o()),ee(e.$$.fragment),L(e.$$.fragment,1),V(e,l.parentNode,l)):e=null}else s&&e.$set(f)},i(r){n||(e&&L(e.$$.fragment,r),n=!0)},o(r){e&&z(e.$$.fragment,r),n=!1},d(r){r&&b(l),e&&Z(e,r)}}}function ws(t){let e,l,n=t[1]!==null&&t[1].route===t[7]&&An(t);return{c(){n&&n.c(),e=De()},m(i,s){n&&n.m(i,s),v(i,e,s),l=!0},p(i,[s]){i[1]!==null&&i[1].route===i[7]?n?(n.p(i,s),s&2&&L(n,1)):(n=An(i),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(Qe(),z(n,1,1,()=>{n=null}),Xe())},i(i){l||(L(n),l=!0)},o(i){z(n),l=!1},d(i){n&&n.d(i),i&&b(e)}}}function ys(t,e,l){let n,i,{$$slots:s={},$$scope:o}=e,{path:r=""}=e,{component:u=null}=e;const{registerRoute:f,unregisterRoute:m,activeRoute:h}=ol(Rl);Ye(t,h,y=>l(1,n=y));const p=ol(Tl);Ye(t,p,y=>l(4,i=y));const _={path:r,default:r===""};let $={},A={};return f(_),typeof window<"u"&&Gi(()=>{m(_)}),t.$$set=y=>{l(13,e=qt(qt({},e),Ql(y))),"path"in y&&l(8,r=y.path),"component"in y&&l(0,u=y.component),"$$scope"in y&&l(9,o=y.$$scope)},t.$$.update=()=>{t.$$.dirty&2&&n&&n.route===_&&l(2,$=n.params);{const{path:y,component:N,...C}=e;l(3,A=C)}},e=Ql(e),[u,n,$,A,i,h,p,_,r,o,s]}class Tt extends Pe{constructor(e){super(),Ee(this,e,ys,ws,Ae,{path:8,component:0})}}function $s(t){let e,l,n,i;const s=t[16].default,o=Qt(s,t,t[15],null);let r=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],u={};for(let f=0;f<r.length;f+=1)u=qt(u,r[f]);return{c(){e=d("a"),o&&o.c(),hn(e,u)},m(f,m){v(f,e,m),o&&o.m(e,null),l=!0,n||(i=Q(e,"click",t[5]),n=!0)},p(f,[m]){o&&o.p&&(!l||m&32768)&&Vt(o,s,f,f[15],l?Xt(s,f[15],m,null):Zt(f[15]),null),hn(e,u=zl(r,[(!l||m&1)&&{href:f[0]},(!l||m&4)&&{"aria-current":f[2]},m&2&&f[1],m&64&&f[6]]))},i(f){l||(L(o,f),l=!0)},o(f){z(o,f),l=!1},d(f){f&&b(e),o&&o.d(f),n=!1,i()}}}function Cs(t,e,l){let n;const i=["to","replace","state","getProps"];let s=mn(e,i),o,r,{$$slots:u={},$$scope:f}=e,{to:m="#"}=e,{replace:h=!1}=e,{state:p={}}=e,{getProps:_=()=>({})}=e;const{base:$}=ol(Rl);Ye(t,$,E=>l(14,r=E));const A=ol(Tl);Ye(t,A,E=>l(13,o=E));const y=Bi();let N,C,S,k;function R(E){if(y("click",E),Ei(E)){E.preventDefault();const M=o.pathname===N||h;ml(N,{state:p,replace:M})}}return t.$$set=E=>{e=qt(qt({},e),Ql(E)),l(6,s=mn(e,i)),"to"in E&&l(7,m=E.to),"replace"in E&&l(8,h=E.replace),"state"in E&&l(9,p=E.state),"getProps"in E&&l(10,_=E.getProps),"$$scope"in E&&l(15,f=E.$$scope)},t.$$.update=()=>{t.$$.dirty&16512&&l(0,N=m==="/"?r.uri:ds(m,r.uri)),t.$$.dirty&8193&&l(11,C=xl(o.pathname,N)),t.$$.dirty&8193&&l(12,S=N===o.pathname),t.$$.dirty&4096&&l(2,n=S?"page":void 0),t.$$.dirty&15361&&l(1,k=_({location:o,href:N,isPartiallyCurrent:C,isCurrent:S}))},[N,k,n,$,A,R,s,m,h,p,_,C,S,o,r,f,u]}class Ft extends Pe{constructor(e){super(),Ee(this,e,Cs,$s,Ae,{to:7,replace:8,state:9,getProps:10})}}function rn(t){function e(l){const n=l.currentTarget;n.target===""&&ps(n)&&Ei(l)&&(l.preventDefault(),ml(n.pathname+n.search,{replace:n.hasAttribute("replace")}))}return t.addEventListener("click",e),{destroy(){t.removeEventListener("click",e)}}}const Jt=st(!1),Wt=st(null),Yt=st([]),Pi=st(null);function Ss(t=1){var n,i;const e=Je(Yt).length,l=Je(Yt)[e-1];return Je(Wt)||(n=l==null?void 0:l.callbacks)!=null&&n.onBeforeClose&&((i=l==null?void 0:l.callbacks)==null?void 0:i.onBeforeClose())===!1?!1:(Je(Jt)&&e>0&&Wt.set(!0),Jt.set(!1),Pi.set("pop"),Es(t),!0)}function on(){return Ss(1)}function As(t,e,l){Je(Wt)||(Pi.set("push"),Je(Jt)&&Je(Yt).length&&Wt.set(!0),Jt.set(!1),l!=null&&l.replace?Yt.update(n=>[...n.slice(0,n.length-1),{component:t,props:e}]):Yt.update(n=>[...n,{component:t,props:e}]))}function Es(t=1){Yt.update(e=>e.slice(0,Math.max(0,e.length-t)))}function En(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}const Ps=t=>({}),Pn=t=>({}),Ns=t=>({}),Nn=t=>({});function jn(t){let e;const l=t[4].backdrop,n=Qt(l,t,t[3],Nn);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&Vt(n,l,i,i[3],e?Xt(l,i[3],s,Ns):Zt(i[3]),Nn)},i(i){e||(L(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function js(t){let e,l,n;const i=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var s=t[9].component;function o(r){let u={};for(let f=0;f<i.length;f+=1)u=qt(u,i[f]);return{props:u}}return s&&(e=rl(s,o()),e.$on("introstart",t[7]),e.$on("outroend",t[8])),{c(){e&&ee(e.$$.fragment),l=De()},m(r,u){e&&V(e,r,u),v(r,l,u),n=!0},p(r,u){const f=u&3?zl(i,[{isOpen:r[11]===r[0].length-1&&!r[1]},u&1&&Ml(r[9].props)]):{};if(s!==(s=r[9].component)){if(e){Qe();const m=e;z(m.$$.fragment,1,0,()=>{Z(m,1)}),Xe()}s?(e=rl(s,o()),e.$on("introstart",r[7]),e.$on("outroend",r[8]),ee(e.$$.fragment),L(e.$$.fragment,1),V(e,l.parentNode,l)):e=null}else s&&e.$set(f)},i(r){n||(e&&L(e.$$.fragment,r),n=!0)},o(r){e&&z(e.$$.fragment,r),n=!1},d(r){r&&b(l),e&&Z(e,r)}}}function Os(t){let e,l,n,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Rs,then:Ts,catch:Ms,value:12,blocks:[,,,]};return kn(l=Mn(t[9].component),i),{c(){e=De(),i.block.c()},m(s,o){v(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(s,o){t=s,i.ctx=t,o&1&&l!==(l=Mn(t[9].component))&&kn(l,i)||Xi(i,t,o)},i(s){n||(L(i.block),n=!0)},o(s){for(let o=0;o<3;o+=1){const r=i.blocks[o];z(r)}n=!1},d(s){s&&b(e),i.block.d(s),i.token=null,i=null}}}function Ms(t){return{c:J,m:J,p:J,i:J,o:J,d:J}}function Ts(t){let e,l,n;const i=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var s=t[12];function o(r){let u={};for(let f=0;f<i.length;f+=1)u=qt(u,i[f]);return{props:u}}return s&&(e=rl(s,o()),e.$on("introstart",t[5]),e.$on("outroend",t[6])),{c(){e&&ee(e.$$.fragment),l=g()},m(r,u){e&&V(e,r,u),v(r,l,u),n=!0},p(r,u){const f=u&3?zl(i,[{isOpen:r[11]===r[0].length-1&&!r[1]},u&1&&Ml(r[9].props)]):{};if(s!==(s=r[12])){if(e){Qe();const m=e;z(m.$$.fragment,1,0,()=>{Z(m,1)}),Xe()}s?(e=rl(s,o()),e.$on("introstart",r[5]),e.$on("outroend",r[6]),ee(e.$$.fragment),L(e.$$.fragment,1),V(e,l.parentNode,l)):e=null}else s&&e.$set(f)},i(r){n||(e&&L(e.$$.fragment,r),n=!0)},o(r){e&&z(e.$$.fragment,r),n=!1},d(r){e&&Z(e,r),r&&b(l)}}}function Rs(t){let e,l;const n=t[4].loading,i=Qt(n,t,t[3],Pn);return{c(){i&&i.c(),e=g()},m(s,o){i&&i.m(s,o),v(s,e,o),l=!0},p(s,o){i&&i.p&&(!l||o&8)&&Vt(i,n,s,s[3],l?Xt(n,s[3],o,Ps):Zt(s[3]),Pn)},i(s){l||(L(i,s),l=!0)},o(s){z(i,s),l=!1},d(s){i&&i.d(s),s&&b(e)}}}function On(t,e){let l,n,i,s,o,r;const u=[Os,js],f=[];function m(h,p){return p&1&&(n=null),n==null&&(n=!!qs(h[9].component)),n?0:1}return i=m(e,-1),s=f[i]=u[i](e),{key:t,first:null,c(){l=De(),s.c(),o=De(),this.first=l},m(h,p){v(h,l,p),f[i].m(h,p),v(h,o,p),r=!0},p(h,p){e=h;let _=i;i=m(e,p),i===_?f[i].p(e,p):(Qe(),z(f[_],1,1,()=>{f[_]=null}),Xe(),s=f[i],s?s.p(e,p):(s=f[i]=u[i](e),s.c()),L(s,1),s.m(o.parentNode,o))},i(h){r||(L(s),r=!0)},o(h){z(s),r=!1},d(h){h&&b(l),f[i].d(h),h&&b(o)}}}function Ls(t){let e=[],l=new Map,n,i,s=t[0];const o=r=>r[11];for(let r=0;r<s.length;r+=1){let u=En(t,s,r),f=o(u);l.set(f,e[r]=On(f,u))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=De()},m(r,u){for(let f=0;f<e.length;f+=1)e[f].m(r,u);v(r,n,u),i=!0},p(r,u){u&15&&(s=r[0],Qe(),e=ql(e,u,o,1,r,s,l,n.parentNode,Il,On,n,En),Xe())},i(r){if(!i){for(let u=0;u<s.length;u+=1)L(e[u]);i=!0}},o(r){for(let u=0;u<e.length;u+=1)z(e[u]);i=!1},d(r){for(let u=0;u<e.length;u+=1)e[u].d(r);r&&b(n)}}}function Is(t){let e,l,n=t[0].length>0&&jn(t);const i=t[4].default,s=Qt(i,t,t[3],null),o=s||Ls(t);return{c(){n&&n.c(),e=g(),o&&o.c()},m(r,u){n&&n.m(r,u),v(r,e,u),o&&o.m(r,u),l=!0},p(r,[u]){r[0].length>0?n?(n.p(r,u),u&1&&L(n,1)):(n=jn(r),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(Qe(),z(n,1,1,()=>{n=null}),Xe()),s?s.p&&(!l||u&8)&&Vt(s,i,r,r[3],l?Xt(i,r[3],u,null):Zt(r[3]),null):o&&o.p&&(!l||u&15)&&o.p(r,l?u:-1)},i(r){l||(L(n),L(o,r),l=!0)},o(r){z(n),z(o,r),l=!1},d(r){n&&n.d(r),r&&b(e),o&&o.d(r)}}}function qs(t){return typeof t.prototype>"u"}async function Mn(t){return t().then(e=>e.default)}function zs(t,e,l){let n,i,s;Ye(t,Yt,p=>l(0,n=p)),Ye(t,Wt,p=>l(1,i=p)),Ye(t,Jt,p=>l(2,s=p));let{$$slots:o={},$$scope:r}=e;const u=()=>{yl(Jt,s=!0,s)},f=()=>{yl(Wt,i=!1,i)},m=()=>{yl(Jt,s=!0,s)},h=()=>{yl(Wt,i=!1,i)};return t.$$set=p=>{"$$scope"in p&&l(3,r=p.$$scope)},[n,i,s,r,o,u,f,m,h]}class Hs extends Pe{constructor(e){super(),Ee(this,e,zs,Is,Ae,{})}}function Ds(t){let e,l,n,i,s,o;return{c(){e=d("div"),l=d("h1"),l.textContent="Page Not Found",n=g(),i=d("a"),i.textContent="Return To Homepage",a(i,"href","/"),a(i,"class","button-outlined"),a(e,"class","page")},m(r,u){v(r,e,u),c(e,l),c(e,n),c(e,i),s||(o=ln(rn.call(null,i)),s=!0)},p:J,i:J,o:J,d(r){r&&b(e),s=!1,o()}}}class Fs extends Pe{constructor(e){super(),Ee(this,e,null,Ds,Ae,{})}}const Us=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Hl(t){return typeof t=="string"&&Us.test(t)}const Dl="00000000-0000-0000-0000-000000000000";class it{constructor(e=""){Se(this,"_id","");Se(this,"_name","");Se(this,"_description","");Se(this,"_pres",1);Se(this,"_thea",1);Se(this,"_cred",1);Se(this,"_insi",1);Se(this,"_mig",1);Se(this,"_fin",1);Se(this,"_art",1);Se(this,"_tun",1);Se(this,"_skills",[{name:"Fortitude",aptitude:"MIG",category:"Save",level:0},{name:"Initiative",aptitude:"FIN",category:"Save",level:0},{name:"Cunning",aptitude:"ART",category:"Save",level:0},{name:"Clarity",aptitude:"TUN",category:"Save",level:0},{name:"Tracking",aptitude:"MIG",category:"Exploration",level:0},{name:"Inventory",aptitude:"FIN",category:"Exploration",level:0},{name:"Examination",aptitude:"ART",category:"Exploration",level:0},{name:"Insight",aptitude:"TUN",category:"Exploration",level:0},{name:"Athletics",aptitude:"MIG",category:"Exploration",level:0},{name:"Stealth",aptitude:"FIN",category:"Exploration",level:0},{name:"Tinkering",aptitude:"ART",category:"Exploration",level:0},{name:"Trancing",aptitude:"TUN",category:"Exploration",level:0},{name:"Security",aptitude:"MIG",category:"Knowledge",level:0},{name:"History",aptitude:"FIN",category:"Knowledge",level:0},{name:"Magecraft",aptitude:"ART",category:"Knowledge",level:0},{name:"Discord",aptitude:"TUN",category:"Knowledge",level:0},{name:"Wayfaring",aptitude:"MIG",category:"Knowledge",level:0},{name:"Rumor",aptitude:"FIN",category:"Knowledge",level:0},{name:"Workmanship",aptitude:"ART",category:"Knowledge",level:0},{name:"Harmony",aptitude:"TUN",category:"Knowledge",level:0},{name:"Heavy",aptitude:"MIG",category:"Equipment",level:0},{name:"Raw",aptitude:"FIN",category:"Equipment",level:0},{name:"Steady",aptitude:"ART",category:"Equipment",level:0},{name:"Magian",aptitude:"TUN",category:"Equipment",level:0},{name:"Simple",aptitude:"MIG",category:"Equipment",level:0},{name:"Swift",aptitude:"FIN",category:"Equipment",level:0},{name:"Cunning",aptitude:"ART",category:"Equipment",level:0},{name:"Source",aptitude:"TUN",category:"Equipment",level:0}]);this.id=e,this.name=""}static __clampStat(e){return e=Math.round(e),e<0?0:e>4?4:e}static __clampSkill(e){return e=Math.round(e),e<0?0:e>2?2:e}get id(){return this._id}set id(e){if(!Hl(e)){this._id=Dl;return}this._id=e}get name(){return this._name??""}set name(e){this._name=e??""}get description(){return this._description??""}set description(e){this._description=e??""}get pres(){return this._pres}set pres(e){this._pres=it.__clampStat(e)}get thea(){return this._thea}set thea(e){this._thea=it.__clampStat(e)}get cred(){return this._cred}set cred(e){this._cred=it.__clampStat(e)}get insi(){return this._insi}set insi(e){this._insi=it.__clampStat(e)}*sways(){yield{name:"Presence",level:this._pres},yield{name:"Theatrics",level:this._thea},yield{name:"Credibility",level:this._cred},yield{name:"Insight",level:this._insi}}get mig(){return this._mig}set mig(e){this._mig=it.__clampStat(e)}get fin(){return this._fin}set fin(e){this._fin=it.__clampStat(e)}get art(){return this._art}set art(e){this._art=it.__clampStat(e)}get tun(){return this._tun}set tun(e){this._tun=it.__clampStat(e)}get skills(){return this._skills}static FromJson(e){return Object.assign(new it,JSON.parse(e))}}class Fl{constructor(){Se(this,"_id","");Se(this,"_name","");Se(this,"_class","");Se(this,"_subclass","");Se(this,"_class2","");Se(this,"_subclass2","")}get id(){return this._id}set id(e){if(!Hl(e)){this._id=Dl;return}this._id=e}get name(){return this._name??""}set name(e){this._name=e??""}get class(){return this._class??""}set class(e){this._class=e??""}get subclass(){return this._subclass??""}set subclass(e){this._subclass=e??""}get class2(){return this._class2??""}set class2(e){this._class2=e??""}get subclass2(){return this._subclass2??""}set subclass2(e){this._subclass2=e??""}static FromJson(e){return Object.assign(new Fl,JSON.parse(e))}}let $l=class{constructor(){Se(this,"_name");Se(this,"_email","")}get name(){return this._name??""}set name(e){this._name=e??""}get email(){return this._email??""}set email(e){this._email=e??""}};const Rt={}.HNS_API_URL,Pl=typeof window<"u";console.log("IsBrowser: "+Pl);const Gs=()=>{const t=st(null),{subscribe:e,set:l,update:n}=t;return fetch(Rt+"Api/Account/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}).then(i=>{i.ok?i.json().then(s=>l(Object.assign(new $l,s))):console.log(i.statusText)}),{subscribe:e,set:l,update:n,createAccount:async(i,s,o,r)=>{if(Je(t))return["Already logged-in. Log out first."];const u=await fetch(Rt+"Api/Account/Create",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:o})});switch(u.status){case 200:u.json().then(f=>l(Object.assign(new $l,f)));break;case 400:u.json().then(f=>{let m=Object.values(f.errors).flatMap(h=>h);r(m)});break;case 422:u.json().then(f=>{let m=Object.values(f).flatMap(h=>h);r(m)});break;default:console.error("Unrecognized response status '"+u.status+": "+u.statusText+"'");break}},login:async(i,s,o)=>{if(Je(t)){console.log("Tried to login while already logged in. Log out first.");return}const r=await fetch(Rt+"Api/Account/Login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:i,password:s})});switch(r.status){case 200:r.json().then(u=>l(Object.assign(new $l,u)));break;case 400:r.json().then(u=>{let f=Object.values(u.errors).flatMap(m=>m);o(f)});break;case 401:r.json().then(u=>{let f=Object.values(u).flatMap(m=>m.errors.map(h=>h.errorMessage));o(f)});break;default:console.error("Unrecognized response status '"+r.status+": "+r.statusText+"'");break}},logout:async()=>{await fetch(Rt+"Api/Account/Logout",{method:"POST",credentials:"include"}).then(i=>{ht.set(null),location.reload()},i=>console.log(i))},updateAccount:async(i,s,o,r,u,f)=>{const m=await fetch(Rt+"Api/Account",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:o,currentPassword:r})});switch(m.status){case 200:m.json().then(h=>l(Object.assign(new $l,h))),u();break;case 400:m.json().then(h=>{let p=Object.values(h.errors).flatMap(_=>_);f(p)});break;case 401:m.json().then(h=>{let p=Object.values(h).flatMap(_=>_.errors.map($=>$.errorMessage));f(p)});break;case 422:m.json().then(h=>{let p=Object.values(h).flatMap(_=>_);f(p)});break;default:console.error("Unrecognized response status '"+m.status+": "+m.statusText+"'");break}}}},ht=Gs(),Tn=async()=>fetch(Rt+"Api/Characters/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function Rn(t,e){const l=t={};return n=>{t===l&&(n.ok?n.json().then(i=>{let s=i.map(o=>Object.assign(new Fl,o));e(s)}):(e([]),console.log(n.statusText)))}}const Bs=async()=>fetch(Rt+"Api/Characters/",{method:"POST",credentials:"include",headers:{Accept:"application/json"}});function Ks(t,e){const l=t={};return n=>{n.ok?n.json().then(i=>{if(t===l){let s=i.map(o=>Object.assign(new Fl,o));e(o=>(o.push(s),o))}}):console.log(n.statusText)}}function Js(){var t=[];const{subscribe:e,set:l,update:n}=st(t);let i={};return Promise.resolve(Tn()).then(Rn(i,l)),{subscribe:e,refresh:()=>{Promise.resolve(Tn()).then(Rn(i,l))},create:()=>{Promise.resolve(Bs()).then(Ks(i,n))}}}const en=Js(),Ws=async t=>fetch(Rt+"Api/Characters/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function Wl(t,e){const l=t={};return n=>{t===l&&(n.ok?n.json().then(i=>{e(Object.assign(new it,i))}):console.log(n.statusText))}}const Ln=async t=>fetch(Rt+"Api/Characters/"+t.id,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}),Cl="HnsCharacter/local";function Ys(){const t=st(new it),{subscribe:e,set:l,update:n}=t;let i=l,s=n;if(Pl){const o=localStorage.getItem(Cl);o!==null?(console.log("Loading char "+o),l(it.FromJson(o))):(console.log("New char"),localStorage.setItem(Cl,JSON.stringify(Je(t)))),i=r=>{console.log("Set char"),Pl&&localStorage.setItem(Cl,JSON.stringify(r)),l(r)},s=r=>{console.log("Update char");const u=r(Je(t));Pl&&localStorage.setItem(Cl,JSON.stringify(u)),l(u)}}return{subscribe:e,set:i,update:s}}const Qs=Ys(),Yl={};function Xs(t){if(Object.hasOwn(Yl,t))return Yl[t];let e={};const l=st(new it(t)),{subscribe:n,set:i,update:s}=l;if(!Hl(t))return console.error("Invalid id '"+t+"'"),{subscribe:n,set:i,update:s};Promise.resolve(Ws(t)).then(Wl(e,i));const o={subscribe:n,set:r=>{if(console.log("Set char"),t!=r.id){console.error("Id did not match");return}Promise.resolve(Ln(r)).then(Wl(e,i))},update:r=>{console.log("Update char");const u=r(Je(l));Promise.resolve(Ln(u)).then(Wl(e,i))}};return Yl[t]=o,o}function In(t,e,l){const n=t.slice();return n[12]=e[l],n}function Vs(t){let e,l,n,i=t[4].name+"",s,o,r;function u(h,p){return h[3]?er:xs}let f=u(t),m=f(t);return{c(){e=d("div"),l=d("p"),n=I("Hello "),s=I(i),o=I("!"),r=g(),m.c(),a(l,"class","svelte-9xzto8"),a(e,"class","logout-box svelte-9xzto8")},m(h,p){v(h,e,p),c(e,l),c(l,n),c(l,s),c(l,o),c(e,r),m.m(e,null)},p(h,p){p&16&&i!==(i=h[4].name+"")&&te(s,i),f===(f=u(h))&&m?m.p(h,p):(m.d(1),m=f(h),m&&(m.c(),m.m(e,null)))},d(h){h&&b(e),m.d()}}}function Zs(t){let e,l,n,i,s,o,r,u,f,m,h,p,_,$,A,y,N,C,S=t[2],k=[];for(let R=0;R<S.length;R+=1)k[R]=qn(In(t,S,R));return{c(){e=d("form"),l=d("div"),n=d("label"),n.textContent="Name",i=g(),s=d("input"),o=g(),r=d("div"),u=d("label"),u.textContent="Password",f=g(),m=d("input"),h=g(),p=d("div"),_=d("button"),_.textContent="Sign-Up…",$=g(),A=d("button"),A.textContent="Login",y=g();for(let R=0;R<k.length;R+=1)k[R].c();a(n,"for","nameOrEmail"),a(n,"class","svelte-9xzto8"),a(s,"name","nameOrEmail"),a(s,"type","text"),a(s,"placeholder","or Email"),a(s,"class","svelte-9xzto8"),a(l,"class","svelte-9xzto8"),a(u,"for","password"),a(u,"class","svelte-9xzto8"),a(m,"name","password"),a(m,"type","password"),a(m,"class","svelte-9xzto8"),a(r,"class","svelte-9xzto8"),a(_,"type","button"),a(A,"class","bright"),a(A,"type","submit"),a(p,"class","svelte-9xzto8"),a(e,"class","login-box svelte-9xzto8"),a(e,"method","post")},m(R,E){v(R,e,E),c(e,l),c(l,n),c(l,i),c(l,s),re(s,t[0]),c(e,o),c(e,r),c(r,u),c(r,f),c(r,m),re(m,t[1]),c(e,h),c(e,p),c(p,_),c(p,$),c(p,A),c(e,y);for(let M=0;M<k.length;M+=1)k[M].m(e,null);N||(C=[Q(s,"input",t[8]),Q(m,"input",t[9]),Q(_,"click",Nt(t[10])),Q(e,"submit",Nt(t[6]))],N=!0)},p(R,E){if(E&1&&s.value!==R[0]&&re(s,R[0]),E&2&&m.value!==R[1]&&re(m,R[1]),E&4){S=R[2];let M;for(M=0;M<S.length;M+=1){const F=In(R,S,M);k[M]?k[M].p(F,E):(k[M]=qn(F),k[M].c(),k[M].m(e,null))}for(;M<k.length;M+=1)k[M].d(1);k.length=S.length}},d(R){R&&b(e),bt(k,R),N=!1,Ce(C)}}}function xs(t){let e,l,n;return{c(){e=d("button"),e.textContent="Logout",a(e,"class","logout-button")},m(i,s){v(i,e,s),l||(n=Q(e,"click",t[5]),l=!0)},p:J,d(i){i&&b(e),l=!1,n()}}}function er(t){let e,l,n,i,s,o,r;return{c(){e=d("div"),l=I(`Logout?
        `),n=d("button"),n.textContent="No",i=g(),s=d("button"),s.textContent="Yes",a(n,"class","logout-confirm-button svelte-9xzto8"),a(s,"class","bright-red logout-confirm-button svelte-9xzto8"),a(e,"class","logout-confirmation svelte-9xzto8")},m(u,f){v(u,e,f),c(e,l),c(e,n),c(e,i),c(e,s),o||(r=[Q(n,"click",t[5]),Q(s,"click",t[7])],o=!0)},p:J,d(u){u&&b(e),o=!1,Ce(r)}}}function qn(t){let e,l=t[12]+"",n;return{c(){e=d("label"),n=I(l),H(e,"text-align","left"),a(e,"for","errors"),a(e,"class","svelte-9xzto8")},m(i,s){v(i,e,s),c(e,n)},p(i,s){s&4&&l!==(l=i[12]+"")&&te(n,l)},d(i){i&&b(e)}}}function tr(t){let e;function l(s,o){return s[4]?Vs:Zs}let n=l(t),i=n(t);return{c(){i.c(),e=De()},m(s,o){i.m(s,o),v(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:J,o:J,d(s){i.d(s),s&&b(e)}}}function lr(t,e,l){let n;Ye(t,ht,$=>l(4,n=$));let i="",s="",o=[],r=!1;function u(){l(3,r=!r)}async function f(){l(2,o=[]),await ht.login(i,s,$=>{l(2,o=$)})}async function m(){await ht.logout()}function h(){i=this.value,l(0,i)}function p(){s=this.value,l(1,s)}return[i,s,o,r,n,u,f,m,h,p,()=>ml("/account")]}class nr extends Pe{constructor(e){super(),Ee(this,e,lr,tr,Ae,{})}}function zn(t,e,l){const n=t.slice();return n[2]=e[l][0],n[3]=e[l][1],n[5]=l,n}function ir(t){let e;return{c(){e=I("Rulebook")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function sr(t){let e;return{c(){e=I("Dice Roller")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function rr(t){let e;return{c(){e=I("AGE Roller")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function or(t){let e;return{c(){e=I("Eye Roller")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function cr(t){let e;return{c(){e=I("My Account")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function ur(t){let e;return{c(){e=I("Characters")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function ar(t){let e=Je(t[3]).name+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p:J,d(n){n&&b(l)}}}function Hn(t){let e,l;return e=new Ft({props:{to:"/character/"+t[2],getProps:tn,$$slots:{default:[ar]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(n,i){V(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){z(e.$$.fragment,n),l=!1},d(n){Z(e,n)}}}function fr(t){let e,l,n,i,s,o,r,u,f,m,h,p,_,$,A,y,N,C,S,k,R,E,M;r=new Ft({props:{to:"/srd",getProps:Sl,$$slots:{default:[ir]},$$scope:{ctx:t}}}),f=new Ft({props:{to:"/dice",getProps:Sl,$$slots:{default:[sr]},$$scope:{ctx:t}}}),h=new Ft({props:{to:"/dice/ageroller",getProps:tn,$$slots:{default:[rr]},$$scope:{ctx:t}}}),_=new Ft({props:{to:"/dice/eyeroller",getProps:tn,$$slots:{default:[or]},$$scope:{ctx:t}}}),N=new Ft({props:{to:"/account",getProps:Sl,$$slots:{default:[cr]},$$scope:{ctx:t}}}),S=new Ft({props:{to:"/character",getProps:Sl,$$slots:{default:[ur]},$$scope:{ctx:t}}});let F=Object.entries(t[0]),D=[];for(let w=0;w<F.length;w+=1)D[w]=Hn(zn(t,F,w));const ce=w=>z(D[w],1,1,()=>{D[w]=null});return E=new nr({}),{c(){e=d("div"),l=d("nav"),n=d("a"),n.innerHTML='<img src="/img/HnsBig.svg" alt="H&amp;S"/>',i=g(),s=d("h4"),s.textContent="Hammer & Steel",o=g(),ee(r.$$.fragment),u=g(),ee(f.$$.fragment),m=g(),ee(h.$$.fragment),p=g(),ee(_.$$.fragment),$=g(),A=d("span"),A.textContent="---",y=g(),ee(N.$$.fragment),C=g(),ee(S.$$.fragment),k=g();for(let w=0;w<D.length;w+=1)D[w].c();R=g(),ee(E.$$.fragment),a(n,"href","/"),a(n,"id","home-button"),a(s,"class","title svelte-2gacrc"),H(A,"text-align","center"),a(l,"class","banded-menu"),a(e,"class","contents svelte-2gacrc")},m(w,T){v(w,e,T),c(e,l),c(l,n),c(l,i),c(l,s),c(l,o),V(r,l,null),c(l,u),V(f,l,null),c(l,m),V(h,l,null),c(l,p),V(_,l,null),c(l,$),c(l,A),c(l,y),V(N,l,null),c(l,C),V(S,l,null),c(l,k);for(let K=0;K<D.length;K+=1)D[K].m(l,null);c(e,R),V(E,e,null),M=!0},p(w,[T]){const K={};T&64&&(K.$$scope={dirty:T,ctx:w}),r.$set(K);const U={};T&64&&(U.$$scope={dirty:T,ctx:w}),f.$set(U);const B={};T&64&&(B.$$scope={dirty:T,ctx:w}),h.$set(B);const X={};T&64&&(X.$$scope={dirty:T,ctx:w}),_.$set(X);const be={};T&64&&(be.$$scope={dirty:T,ctx:w}),N.$set(be);const le={};if(T&64&&(le.$$scope={dirty:T,ctx:w}),S.$set(le),T&1){F=Object.entries(w[0]);let q;for(q=0;q<F.length;q+=1){const W=zn(w,F,q);D[q]?(D[q].p(W,T),L(D[q],1)):(D[q]=Hn(W),D[q].c(),L(D[q],1),D[q].m(l,null))}for(Qe(),q=F.length;q<D.length;q+=1)ce(q);Xe()}},i(w){if(!M){L(r.$$.fragment,w),L(f.$$.fragment,w),L(h.$$.fragment,w),L(_.$$.fragment,w),L(N.$$.fragment,w),L(S.$$.fragment,w);for(let T=0;T<F.length;T+=1)L(D[T]);L(E.$$.fragment,w),M=!0}},o(w){z(r.$$.fragment,w),z(f.$$.fragment,w),z(h.$$.fragment,w),z(_.$$.fragment,w),z(N.$$.fragment,w),z(S.$$.fragment,w),D=D.filter(Boolean);for(let T=0;T<D.length;T+=1)z(D[T]);z(E.$$.fragment,w),M=!1},d(w){w&&b(e),Z(r),Z(f),Z(h),Z(_),Z(N),Z(S),bt(D,w),Z(E)}}}function Sl({location:t,href:e,isPartiallyCurrent:l,isCurrent:n}){return l?{class:"curr-path"}:{class:""}}function tn({location:t,href:e,isPartiallyCurrent:l,isCurrent:n}){if(n)return{class:"ml20 active curr-path"};if(l)return{class:"ml20 active"};let i=t.pathname;if(console.log("pathname: "+i),i.length<=1||i[0]!=="/")return{class:"ml20 hidden"};const s=i.indexOf("/",1),o=s>0?i.slice(0,s):i;return console.log("rootpath: "+o),o.length<2?{class:"ml20 hidden"}:e.startsWith(o)?{class:"ml20 active"}:e.startsWith("/"+o)?{class:"ml20 active"}:{class:"ml20 hidden"}}function _r(t,e,l){let n;return Ye(t,en,s=>l(1,n=s)),[n]}class Ni extends Pe{constructor(e){super(),Ee(this,e,_r,fr,Ae,{})}}function Dn(t){let e,l,n,i,s,o;return l=new Ni({}),{c(){e=d("div"),ee(l.$$.fragment),a(e,"role","dialog"),a(e,"class","modal svelte-1e2i3ow")},m(r,u){v(r,e,u),V(l,e,null),i=!0,s||(o=[Q(e,"introstart",t[2]),Q(e,"outroend",t[3])],s=!0)},i(r){i||(L(l.$$.fragment,r),Ut(()=>{n||(n=Ol(e,yn,{x:-100},!0)),n.run(1)}),i=!0)},o(r){z(l.$$.fragment,r),n||(n=Ol(e,yn,{x:-100},!1)),n.run(0),i=!1},d(r){r&&b(e),Z(l),r&&n&&n.end(),s=!1,Ce(o)}}}function dr(t){let e,l,n,i;Ut(t[4]);let s=t[0]&&Dn(t);return{c(){s&&s.c(),e=De()},m(o,r){s&&s.m(o,r),v(o,e,r),l=!0,n||(i=Q(window,"resize",t[4]),n=!0)},p(o,[r]){o[0]?s?r&1&&L(s,1):(s=Dn(o),s.c(),L(s,1),s.m(e.parentNode,e)):s&&(Qe(),z(s,1,1,()=>{s=null}),Xe())},i(o){l||(L(s),l=!0)},o(o){z(s),l=!1},d(o){s&&s.d(o),o&&b(e),n=!1,i()}}}function pr(t,e,l){let{isOpen:n=!1}=e,i=0;function s(u){vn.call(this,t,u)}function o(u){vn.call(this,t,u)}function r(){l(1,i=window.innerWidth)}return t.$$set=u=>{"isOpen"in u&&l(0,n=u.isOpen)},t.$$.update=()=>{t.$$.dirty&3&&n&&i>=1e3&&on()},[n,i,s,o,r]}class mr extends Pe{constructor(e){super(),Ee(this,e,pr,dr,Ae,{isOpen:0})}}function hr(t){let e;const l=t[1].default,n=Qt(l,t,t[2],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&4)&&Vt(n,l,i,i[2],e?Xt(l,i[2],s,null):Zt(i[2]),null)},i(i){e||(L(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function gr(t){let e,l;return e=new Ft({props:{to:t[0],replace:!1,getProps:br,$$slots:{default:[hr]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(n,i){V(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.to=n[0]),i&4&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){z(e.$$.fragment,n),l=!1},d(n){Z(e,n)}}}function br({location:t,href:e,isPartiallyCurrent:l,isCurrent:n}){return(e==="/"?n:l||n)?{class:"active"}:{}}function vr(t,e,l){let{$$slots:n={},$$scope:i}=e,{to:s}=e;return t.$$set=o=>{"to"in o&&l(0,s=o.to),"$$scope"in o&&l(2,i=o.$$scope)},[s,n,i]}class kr extends Pe{constructor(e){super(),Ee(this,e,vr,gr,Ae,{to:0})}}function wr(t){let e;return{c(){e=d("div"),e.innerHTML=`<span style="margin: 0pt 10pt">Report a problem:</span> 
    <a href="https://github.com/cgbeutler/hns-site" class="svelte-m66do7"><img src="/img/github_logo.png" alt="github.com/cgbeutler/hns-site" class="svelte-m66do7"/></a> 
    <br/> 
    <span style="margin: 0pt 10pt">Find other projects on:</span> 
    <a href="https://aristonaut.itch.io/" class="svelte-m66do7"><img src="/img/itchio_logo.svg" alt="aristonaut.itch.io" class="svelte-m66do7"/></a>`,a(e,"class","ext-nav svelte-m66do7")},m(l,n){v(l,e,n)},p:J,i:J,o:J,d(l){l&&b(e)}}}class yr extends Pe{constructor(e){super(),Ee(this,e,null,wr,Ae,{})}}function $r(t){let e;return{c(){e=I("Dice Roller")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function Cr(t){let e,l,n,i,s,o,r,u,f,m;return o=new kr({props:{to:"dice",$$slots:{default:[$r]},$$scope:{ctx:t}}}),f=new yr({}),{c(){e=d("div"),l=d("h1"),l.textContent="Hammer and Steel",n=g(),i=d("p"),s=I("Try out my fancy "),ee(o.$$.fragment),r=I("!"),u=g(),ee(f.$$.fragment),a(e,"class","page")},m(h,p){v(h,e,p),c(e,l),c(e,n),c(e,i),c(i,s),V(o,i,null),c(i,r),v(h,u,p),V(f,h,p),m=!0},p(h,[p]){const _={};p&2&&(_.$$scope={dirty:p,ctx:h}),o.$set(_)},i(h){m||(L(o.$$.fragment,h),L(f.$$.fragment,h),m=!0)},o(h){z(o.$$.fragment,h),z(f.$$.fragment,h),m=!1},d(h){h&&b(e),Z(o),h&&b(u),Z(f,h)}}}function Sr(t,e,l){let{location:n}=e;return t.$$set=i=>{"location"in i&&l(0,n=i.location)},t.$$.update=()=>{t.$$.dirty&1&&console.log(n)},[n]}class Ar extends Pe{constructor(e){super(),Ee(this,e,Sr,Cr,Ae,{location:0})}}function Fn(t,e,l){const n=t.slice();return n[4]=e[l][0],n[5]=e[l][1],n[7]=l,n}function Un(t){let e,l,n,i,s,o,r,u,f,m,h,p;return{c(){e=d("div"),l=d("h1"),l.textContent="Characters",n=g(),i=d("p"),i.textContent="You are not logged into an account.",s=g(),o=d("p"),o.innerHTML=`You can try Hammer and Steel&#39;s character sheet without an account.<br/>
            Creating a character sheet without an account means it is <b>not</b> stored on our servers.
            You will only be able to access it on this device and it will not be backed up or secured.<br/>
            To store a character on our server, to be accessed from anywhere, you&#39;ll need to create an account and save the character to your account.`,r=g(),u=d("br"),f=g(),m=d("a"),m.textContent="Try the Character Forge",H(o,"text-align","left"),a(m,"class","button"),a(m,"href","/character/local"),a(e,"class","page")},m(_,$){v(_,e,$),c(e,l),c(e,n),c(e,i),c(e,s),c(e,o),c(e,r),c(e,u),c(e,f),c(e,m),h||(p=ln(rn.call(null,m)),h=!0)},d(_){_&&b(e),h=!1,p()}}}function Er(t){let e,l=Object.entries(t[1]),n=[];for(let i=0;i<l.length;i+=1)n[i]=Gn(Fn(t,l,i));return{c(){e=d("div");for(let i=0;i<n.length;i+=1)n[i].c();a(e,"class","char-list svelte-122uifz")},m(i,s){v(i,e,s);for(let o=0;o<n.length;o+=1)n[o].m(e,null)},p(i,s){if(s&2){l=Object.entries(i[1]);let o;for(o=0;o<l.length;o+=1){const r=Fn(i,l,o);n[o]?n[o].p(r,s):(n[o]=Gn(r),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&b(e),bt(n,i)}}}function Pr(t){let e;return{c(){e=I("No characters exist yet.")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function Gn(t){let e,l=Je(t[5]).name+"",n,i,s;return{c(){e=d("a"),n=I(l),a(e,"href","/character/"+t[4]),a(e,"class","button-outlined char-button svelte-122uifz")},m(o,r){v(o,e,r),c(e,n),i||(s=ln(rn.call(null,e)),i=!0)},p:J,d(o){o&&b(e),i=!1,s()}}}function Nr(t){let e,l,n,i,s,o,r,u,f,m,h,p,_=t[0]===null&&Un();function $(N,C){return Object.keys(N[1]).length==0?Pr:Er}let y=$(t)(t);return{c(){_&&_.c(),e=g(),l=d("div"),n=d("h1"),n.textContent="Characters:",i=g(),y.c(),s=g(),o=d("br"),r=g(),u=d("button"),u.textContent="+",f=g(),m=d("br"),a(u,"class","button"),a(l,"class","page")},m(N,C){_&&_.m(N,C),v(N,e,C),v(N,l,C),c(l,n),c(l,i),y.m(l,null),c(l,s),c(l,o),c(l,r),c(l,u),c(l,f),c(l,m),h||(p=Q(u,"click",t[2]),h=!0)},p(N,[C]){N[0]===null?_||(_=Un(),_.c(),_.m(e.parentNode,e)):_&&(_.d(1),_=null),y.p(N,C)},i:J,o:J,d(N){_&&_.d(N),N&&b(e),N&&b(l),y.d(),h=!1,p()}}}function jr(t,e,l){let n,i;Ye(t,en,r=>l(3,n=r)),Ye(t,ht,r=>l(0,i=r));let s=n;function o(){var r=en.create();if(r==Dl){console.log("Got nil from create character");return}console.log("Navigating to '/character/"+r+"'"),ml("/character/"+r)}return[i,s,o]}class Or extends Pe{constructor(e){super(),Ee(this,e,jr,Nr,Ae,{})}}function Bn(t,e,l){const n=t.slice();return n[7]=e[l],n}function Kn(t,e,l){const n=t.slice();return n[7]=e[l],n}function Jn(t,e,l){const n=t.slice();return n[7]=e[l],n}function Wn(t,e,l){const n=t.slice();return n[7]=e[l],n}function Yn(t,e,l){const n=t.slice();return n[16]=e[l],n}function Mr(t){let e,l,n,i,s,o,r,u,f=t[1].description+"",m,h,p,_,$,A,y,N,C,S,k,R,E,M,F,D,ce,w,T,K,U,B,X,be,le,q,W,ne,Ve,ae,ke,rt,ot,he,Ue,Me,We,ge,Te,Re,Ze,ue,xe,Le,Ie,$e,ct,Ne,je,Y,ie,qe,ut,fe,et,at,vt,kt,Ge=[...t[1].sways()],_e=[];for(let j=0;j<Ge.length;j+=1)_e[j]=Qn(Yn(t,Ge,j));let Be=t[1].skills.filter(ei),de=[];for(let j=0;j<Be.length;j+=1)de[j]=Xn(Wn(t,Be,j));let tt=t[1].skills.filter(ti),ve=[];for(let j=0;j<tt.length;j+=1)ve[j]=Vn(Jn(t,tt,j));let ze=t[1].skills.filter(li),pe=[];for(let j=0;j<ze.length;j+=1)pe[j]=Zn(Kn(t,ze,j));let pt=t[1].skills.filter(ni),me=[];for(let j=0;j<pt.length;j+=1)me[j]=xn(Bn(t,pt,j));return{c(){e=d("div"),l=d("input"),n=d("button"),i=g(),s=d("br"),o=g(),r=d("hr"),u=I(`
        Description
        `),m=I(f),h=g(),p=d("div"),_=d("h2"),_.textContent="Sways",$=g(),A=d("div"),y=d("div");for(let j=0;j<_e.length;j+=1)_e[j].c();N=g(),C=d("div"),S=d("div"),k=d("div"),R=d("h2"),R.textContent="Aptitudes",E=g(),M=d("h2"),M.textContent="Saves",F=g(),D=d("h2"),D.textContent="Exploration",ce=g(),w=d("h2"),w.textContent="Knowledge",T=g(),K=d("h2"),K.textContent="Equipment",U=g(),B=d("div"),X=d("h3"),X.textContent="Might",be=g(),le=d("button"),q=d("img"),Ve=g(),ae=d("div"),ke=d("h3"),ke.textContent="Finesse",rt=g(),ot=d("button"),he=d("img"),We=g(),ge=d("div"),Te=d("h3"),Te.textContent="Artifice",Re=g(),Ze=d("button"),ue=d("img"),Ie=g(),$e=d("div"),ct=d("h3"),ct.textContent="Tuning",Ne=g(),je=d("button"),Y=d("img"),ut=g();for(let j=0;j<de.length;j+=1)de[j].c();fe=g();for(let j=0;j<ve.length;j+=1)ve[j].c();et=g();for(let j=0;j<pe.length;j+=1)pe[j].c();at=g();for(let j=0;j<me.length;j+=1)me[j].c();a(l,"id","name-input"),a(l,"placeholder","Unnamed Character"),a(l,"class","svelte-pztcoq"),a(n,"class","edit-button svelte-pztcoq"),a(e,"class","page"),a(_,"class","svelte-pztcoq"),a(y,"class","roll-grid svelte-pztcoq"),a(A,"class","scrollbox svelte-pztcoq"),a(p,"class","page"),a(R,"class","roll-grid-header svelte-pztcoq"),H(R,"top","0px"),H(R,"grid-row","1"),H(R,"grid-column","1"),H(R,"z-index","1"),a(M,"class","roll-grid-header svelte-pztcoq"),H(M,"grid-row","2"),H(M,"grid-column","1"),a(D,"class","roll-grid-header svelte-pztcoq"),H(D,"grid-row","3 / 5"),H(D,"grid-column","1"),a(w,"class","roll-grid-header svelte-pztcoq"),H(w,"grid-row","5 / 7"),H(w,"grid-column","1"),a(K,"class","roll-grid-header svelte-pztcoq"),H(K,"grid-row","7 / 9"),H(K,"grid-column","1"),a(X,"class","svelte-pztcoq"),He(q.src,W="/img/d6-char-sheet/d6-white-"+t[1].mig+".png")||a(q,"src",W),a(q,"width","74"),a(q,"alt",ne="["+t[1].mig+" white]"),a(le,"class","svelte-pztcoq"),a(B,"class","grid-stat grid-stat-sticky-top svelte-pztcoq"),a(ke,"class","svelte-pztcoq"),He(he.src,Ue="/img/d6-char-sheet/d6-white-"+t[1].fin+".png")||a(he,"src",Ue),a(he,"width","74"),a(he,"alt",Me="["+t[1].fin+" white]"),a(ot,"class","svelte-pztcoq"),a(ae,"class","grid-stat grid-stat-sticky-top svelte-pztcoq"),a(Te,"class","svelte-pztcoq"),He(ue.src,xe="/img/d6-char-sheet/d6-white-"+t[1].art+".png")||a(ue,"src",xe),a(ue,"width","74"),a(ue,"alt",Le="["+t[1].art+" white]"),a(Ze,"class","svelte-pztcoq"),a(ge,"class","grid-stat grid-stat-sticky-top svelte-pztcoq"),a(ct,"class","svelte-pztcoq"),He(Y.src,ie="/img/d6-char-sheet/d6-white-"+t[1].tun+".png")||a(Y,"src",ie),a(Y,"width","74"),a(Y,"alt",qe="["+t[1].tun+" white]"),a(je,"class","svelte-pztcoq"),a($e,"class","grid-stat grid-stat-sticky-top svelte-pztcoq"),a(k,"class","roll-grid2 scrollbox svelte-pztcoq"),a(S,"class",""),a(C,"class","page")},m(j,se){v(j,e,se),c(e,l),t[4](l),re(l,t[1].name),c(e,n),c(e,i),c(e,s),c(e,o),c(e,r),c(e,u),c(e,m),v(j,h,se),v(j,p,se),c(p,_),c(p,$),c(p,A),c(A,y);for(let P=0;P<_e.length;P+=1)_e[P].m(y,null);v(j,N,se),v(j,C,se),c(C,S),c(S,k),c(k,R),c(k,E),c(k,M),c(k,F),c(k,D),c(k,ce),c(k,w),c(k,T),c(k,K),c(k,U),c(k,B),c(B,X),c(B,be),c(B,le),c(le,q),c(k,Ve),c(k,ae),c(ae,ke),c(ae,rt),c(ae,ot),c(ot,he),c(k,We),c(k,ge),c(ge,Te),c(ge,Re),c(ge,Ze),c(Ze,ue),c(k,Ie),c(k,$e),c($e,ct),c($e,Ne),c($e,je),c(je,Y),c(k,ut);for(let P=0;P<de.length;P+=1)de[P].m(k,null);c(k,fe);for(let P=0;P<ve.length;P+=1)ve[P].m(k,null);c(k,et);for(let P=0;P<pe.length;P+=1)pe[P].m(k,null);c(k,at);for(let P=0;P<me.length;P+=1)me[P].m(k,null);vt||(kt=[Q(l,"input",t[5]),Q(n,"click",t[6])],vt=!0)},p(j,se){if(se&2&&l.value!==j[1].name&&re(l,j[1].name),se&2&&f!==(f=j[1].description+"")&&te(m,f),se&2){Ge=[...j[1].sways()];let P;for(P=0;P<Ge.length;P+=1){const we=Yn(j,Ge,P);_e[P]?_e[P].p(we,se):(_e[P]=Qn(we),_e[P].c(),_e[P].m(y,null))}for(;P<_e.length;P+=1)_e[P].d(1);_e.length=Ge.length}if(se&2&&!He(q.src,W="/img/d6-char-sheet/d6-white-"+j[1].mig+".png")&&a(q,"src",W),se&2&&ne!==(ne="["+j[1].mig+" white]")&&a(q,"alt",ne),se&2&&!He(he.src,Ue="/img/d6-char-sheet/d6-white-"+j[1].fin+".png")&&a(he,"src",Ue),se&2&&Me!==(Me="["+j[1].fin+" white]")&&a(he,"alt",Me),se&2&&!He(ue.src,xe="/img/d6-char-sheet/d6-white-"+j[1].art+".png")&&a(ue,"src",xe),se&2&&Le!==(Le="["+j[1].art+" white]")&&a(ue,"alt",Le),se&2&&!He(Y.src,ie="/img/d6-char-sheet/d6-white-"+j[1].tun+".png")&&a(Y,"src",ie),se&2&&qe!==(qe="["+j[1].tun+" white]")&&a(Y,"alt",qe),se&2){Be=j[1].skills.filter(ei);let P;for(P=0;P<Be.length;P+=1){const we=Wn(j,Be,P);de[P]?de[P].p(we,se):(de[P]=Xn(we),de[P].c(),de[P].m(k,fe))}for(;P<de.length;P+=1)de[P].d(1);de.length=Be.length}if(se&2){tt=j[1].skills.filter(ti);let P;for(P=0;P<tt.length;P+=1){const we=Jn(j,tt,P);ve[P]?ve[P].p(we,se):(ve[P]=Vn(we),ve[P].c(),ve[P].m(k,et))}for(;P<ve.length;P+=1)ve[P].d(1);ve.length=tt.length}if(se&2){ze=j[1].skills.filter(li);let P;for(P=0;P<ze.length;P+=1){const we=Kn(j,ze,P);pe[P]?pe[P].p(we,se):(pe[P]=Zn(we),pe[P].c(),pe[P].m(k,at))}for(;P<pe.length;P+=1)pe[P].d(1);pe.length=ze.length}if(se&2){pt=j[1].skills.filter(ni);let P;for(P=0;P<pt.length;P+=1){const we=Bn(j,pt,P);me[P]?me[P].p(we,se):(me[P]=xn(we),me[P].c(),me[P].m(k,null))}for(;P<me.length;P+=1)me[P].d(1);me.length=pt.length}},d(j){j&&b(e),t[4](null),j&&b(h),j&&b(p),bt(_e,j),j&&b(N),j&&b(C),bt(de,j),bt(ve,j),bt(pe,j),bt(me,j),vt=!1,Ce(kt)}}}function Tr(t){let e;return{c(){e=d("div"),e.innerHTML='<h2 class="svelte-pztcoq">Loading...</h2>',a(e,"class","page")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function Qn(t){let e,l,n=t[16].name+"",i,s,o,r,u,f,m;return{c(){e=d("div"),l=d("h3"),i=I(n),s=g(),o=d("button"),r=d("img"),m=g(),a(l,"class","svelte-pztcoq"),He(r.src,u="/img/d6-char-sheet/d6-white-"+t[16].level+".png")||a(r,"src",u),a(r,"width","74"),a(r,"alt",f="["+t[16].level+" white]"),a(o,"class","svelte-pztcoq"),a(e,"class","grid-stat svelte-pztcoq")},m(h,p){v(h,e,p),c(e,l),c(l,i),c(e,s),c(e,o),c(o,r),c(e,m)},p(h,p){p&2&&n!==(n=h[16].name+"")&&te(i,n),p&2&&!He(r.src,u="/img/d6-char-sheet/d6-white-"+h[16].level+".png")&&a(r,"src",u),p&2&&f!==(f="["+h[16].level+" white]")&&a(r,"alt",f)},d(h){h&&b(e)}}}function Rr(t){let e;return{c(){e=d("div"),H(e,"width","50px"),H(e,"height","50px")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function Lr(t){let e,l,n;return{c(){e=d("img"),He(e.src,l="/img/d6-char-sheet/d6-black-"+t[7].level+".png")||a(e,"src",l),a(e,"width","50"),a(e,"alt",n="["+t[7].level+" black]")},m(i,s){v(i,e,s)},p(i,s){s&2&&!He(e.src,l="/img/d6-char-sheet/d6-black-"+i[7].level+".png")&&a(e,"src",l),s&2&&n!==(n="["+i[7].level+" black]")&&a(e,"alt",n)},d(i){i&&b(e)}}}function Xn(t){let e,l,n=t[7].name+"",i,s,o,r;function u(h,p){return h[7].level>0?Lr:Rr}let f=u(t),m=f(t);return{c(){e=d("div"),l=d("p"),i=I(n),s=g(),o=d("button"),m.c(),r=g(),a(l,"class","svelte-pztcoq"),a(e,"class","grid-skill")},m(h,p){v(h,e,p),c(e,l),c(l,i),c(e,s),c(e,o),m.m(o,null),c(e,r)},p(h,p){p&2&&n!==(n=h[7].name+"")&&te(i,n),f===(f=u(h))&&m?m.p(h,p):(m.d(1),m=f(h),m&&(m.c(),m.m(o,null)))},d(h){h&&b(e),m.d()}}}function Ir(t){let e;return{c(){e=d("div"),H(e,"width","50px"),H(e,"height","50px")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function qr(t){let e,l,n;return{c(){e=d("img"),He(e.src,l="/img/d6-char-sheet/d6-black-"+t[7].level+".png")||a(e,"src",l),a(e,"width","50"),a(e,"alt",n="["+t[7].level+" black]")},m(i,s){v(i,e,s)},p(i,s){s&2&&!He(e.src,l="/img/d6-char-sheet/d6-black-"+i[7].level+".png")&&a(e,"src",l),s&2&&n!==(n="["+i[7].level+" black]")&&a(e,"alt",n)},d(i){i&&b(e)}}}function Vn(t){let e,l,n=t[7].name+"",i,s,o,r;function u(h,p){return h[7].level>0?qr:Ir}let f=u(t),m=f(t);return{c(){e=d("div"),l=d("p"),i=I(n),s=g(),o=d("button"),m.c(),r=g(),a(l,"class","svelte-pztcoq"),a(e,"class","grid-skill")},m(h,p){v(h,e,p),c(e,l),c(l,i),c(e,s),c(e,o),m.m(o,null),c(e,r)},p(h,p){p&2&&n!==(n=h[7].name+"")&&te(i,n),f===(f=u(h))&&m?m.p(h,p):(m.d(1),m=f(h),m&&(m.c(),m.m(o,null)))},d(h){h&&b(e),m.d()}}}function zr(t){let e;return{c(){e=d("div"),H(e,"width","50px"),H(e,"height","50px")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function Hr(t){let e,l,n;return{c(){e=d("img"),He(e.src,l="/img/d6-char-sheet/d6-black-"+t[7].level+".png")||a(e,"src",l),a(e,"width","50"),a(e,"alt",n="["+t[7].level+" black]")},m(i,s){v(i,e,s)},p(i,s){s&2&&!He(e.src,l="/img/d6-char-sheet/d6-black-"+i[7].level+".png")&&a(e,"src",l),s&2&&n!==(n="["+i[7].level+" black]")&&a(e,"alt",n)},d(i){i&&b(e)}}}function Zn(t){let e,l,n=t[7].name+"",i,s,o,r;function u(h,p){return h[7].level>0?Hr:zr}let f=u(t),m=f(t);return{c(){e=d("div"),l=d("p"),i=I(n),s=g(),o=d("button"),m.c(),r=g(),a(l,"class","svelte-pztcoq"),a(e,"class","grid-skill")},m(h,p){v(h,e,p),c(e,l),c(l,i),c(e,s),c(e,o),m.m(o,null),c(e,r)},p(h,p){p&2&&n!==(n=h[7].name+"")&&te(i,n),f===(f=u(h))&&m?m.p(h,p):(m.d(1),m=f(h),m&&(m.c(),m.m(o,null)))},d(h){h&&b(e),m.d()}}}function Dr(t){let e;return{c(){e=d("div"),H(e,"width","50px"),H(e,"height","50px")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function Fr(t){let e,l,n;return{c(){e=d("img"),He(e.src,l="/img/d6-char-sheet/d6-black-"+t[7].level+".png")||a(e,"src",l),a(e,"width","50"),a(e,"alt",n="["+t[7].level+" black]")},m(i,s){v(i,e,s)},p(i,s){s&2&&!He(e.src,l="/img/d6-char-sheet/d6-black-"+i[7].level+".png")&&a(e,"src",l),s&2&&n!==(n="["+i[7].level+" black]")&&a(e,"alt",n)},d(i){i&&b(e)}}}function xn(t){let e,l,n=t[7].name+"",i,s,o,r;function u(h,p){return h[7].level>0?Fr:Dr}let f=u(t),m=f(t);return{c(){e=d("div"),l=d("p"),i=I(n),s=g(),o=d("button"),m.c(),r=g(),a(l,"class","svelte-pztcoq"),a(e,"class","grid-skill")},m(h,p){v(h,e,p),c(e,l),c(l,i),c(e,s),c(e,o),m.m(o,null),c(e,r)},p(h,p){p&2&&n!==(n=h[7].name+"")&&te(i,n),f===(f=u(h))&&m?m.p(h,p):(m.d(1),m=f(h),m&&(m.c(),m.m(o,null)))},d(h){h&&b(e),m.d()}}}function Ur(t){let e;function l(s,o){return!s[2]||s[1]==null?Tr:Mr}let n=l(t),i=n(t);return{c(){i.c(),e=De()},m(s,o){i.m(s,o),v(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:J,o:J,d(s){i.d(s),s&&b(e)}}}const ei=t=>t.category=="Save",ti=t=>t.category=="Exploration",li=t=>t.category=="Knowledge",ni=t=>t.category=="Equipment";function Gr(t,e,l){let n,i=J,s=()=>(i(),i=Ll(r,p=>l(1,n=p)),r);t.$$.on_destroy.push(()=>i());let{id:o=Dl}=e,r=null;s(),$i(async()=>{if(o!=="local"&&!Hl(o)){console.error("Failed to load character iwht id '"+o+"'"),ml("/characters");return}});let u;function f(p){dt[p?"unshift":"push"](()=>{u=p,l(0,u),l(1,n)})}function m(){n.name=this.value,r.set(n)}const h=()=>u.focus();return t.$$set=p=>{"id"in p&&l(3,o=p.id)},t.$$.update=()=>{if(t.$$.dirty&8&&console.log("id = '"+o+"'"),t.$$.dirty&8&&s(l(2,r=o=="local"?Qs:Xs(o))),t.$$.dirty&3&&u){let p=n.name;p.length==0?l(0,u.style.width=17+"ch",u):l(0,u.style.width=p.length+"em",u)}},[u,n,r,o,f,m,h]}class Br extends Pe{constructor(e){super(),Ee(this,e,Gr,Ur,Ae,{id:3})}}function Kr(t){let e,l=(t[0]==1/0?"?":t[0])+"",n,i,s,o;return{c(){e=d("button"),n=I(l),a(e,"type","button"),a(e,"class",i="die faces-"+(t[2]==t[7]?"F":t[2]==t[8]?"E":t[2])+" result-"+t[0]+" svelte-ogq5bb"),Dt(e,"active",t[1]),Dt(e,"inverted",t[5]),Dt(e,"show-pips",t[3])},m(r,u){v(r,e,u),c(e,n),t[11](e),s||(o=Q(e,"click",t[12]),s=!0)},p(r,[u]){u&1&&l!==(l=(r[0]==1/0?"?":r[0])+"")&&te(n,l),u&5&&i!==(i="die faces-"+(r[2]==r[7]?"F":r[2]==r[8]?"E":r[2])+" result-"+r[0]+" svelte-ogq5bb")&&a(e,"class",i),u&7&&Dt(e,"active",r[1]),u&37&&Dt(e,"inverted",r[5]),u&13&&Dt(e,"show-pips",r[3])},i:J,o:J,d(r){r&&b(e),t[11](null),s=!1,o()}}}function Jr(t,e,l){let{faces:n=6}=e,{showPips:i=!1}=e,{result:s=1/0}=e,{active:o=!1}=e,{enabled:r=!0}=e,{invert:u=!1}=e;const f=-1,m=-2;let h;function p(){if(n>0)return Math.floor(Math.random()*n)+1;if(n==f)return Math.floor(Math.random()*3)-1;if(n==m){var C=Math.floor(Math.random()*6)+1;if(C==1)return 1;if(C==2||C==3)return 2;if(C==4||C==5||C==6)return 3}return 0}function _(){h&&(l(6,h.style.animation="none",h),h.offsetHeight,l(6,h.style.animation=null,h))}function $(){r&&(l(0,s=p()),l(1,o=!1),_())}function A(){!o||!r||(l(0,s=p()),l(1,o=!1),_())}function y(C){dt[C?"unshift":"push"](()=>{h=C,l(6,h)})}const N=()=>{l(1,o=r&&!o)};return t.$$set=C=>{"faces"in C&&l(2,n=C.faces),"showPips"in C&&l(3,i=C.showPips),"result"in C&&l(0,s=C.result),"active"in C&&l(1,o=C.active),"enabled"in C&&l(4,r=C.enabled),"invert"in C&&l(5,u=C.invert)},t.$$.update=()=>{t.$$.dirty&17&&l(0,s=r?p():s)},[s,o,n,i,r,u,h,f,m,$,A,y,N]}class Ke extends Pe{constructor(e){super(),Ee(this,e,Jr,Kr,Ae,{faces:2,showPips:3,result:0,active:1,enabled:4,invert:5,roll:9,rollIfActive:10})}get roll(){return this.$$.ctx[9]}get rollIfActive(){return this.$$.ctx[10]}}function ii(t,e,l){const n=t.slice();return n[16]=e[l],n[17]=e,n[18]=l,n}function si(t,e,l){const n=t.slice();return n[19]=e[l],n}function Wr(t){let e=t[2][t[19]]+"",l,n,i;return{c(){l=I(e),n=I("d"),i=I(t[19])},m(s,o){v(s,l,o),v(s,n,o),v(s,i,o)},p(s,o){o&4&&e!==(e=s[2][s[19]]+"")&&te(l,e)},d(s){s&&b(l),s&&b(n),s&&b(i)}}}function Yr(t){let e=t[2][t[19]]+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&4&&e!==(e=n[2][n[19]]+"")&&te(l,e)},d(n){n&&b(l)}}}function Qr(t){let e,l;return{c(){e=I("d"),l=I(t[19])},m(n,i){v(n,e,i),v(n,l,i)},p:J,d(n){n&&b(e),n&&b(l)}}}function ri(t){let e,l,n;function i(u,f){return(u[2][u[19]]??0)==0?Qr:u[2][u[19]]>9?Yr:Wr}let s=i(t),o=s(t);function r(){return t[8](t[19])}return{c(){e=d("button"),o.c(),a(e,"type","button"),a(e,"class","die-button svelte-90mbn5"),H(e,"background-image","url('/img/dice/d"+t[19]+"-inverted.svg')")},m(u,f){v(u,e,f),o.m(e,null),l||(n=Q(e,"click",r),l=!0)},p(u,f){t=u,s===(s=i(t))&&o?o.p(t,f):(o.d(1),o=s(t),o&&(o.c(),o.m(e,null)))},d(u){u&&b(e),o.d(),l=!1,n()}}}function Xr(t){let e=t[2][-1]+"",l,n;return{c(){l=I(e),n=I("dF")},m(i,s){v(i,l,s),v(i,n,s)},p(i,s){s&4&&e!==(e=i[2][-1]+"")&&te(l,e)},d(i){i&&b(l),i&&b(n)}}}function Vr(t){let e=t[2][-1]+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&4&&e!==(e=n[2][-1]+"")&&te(l,e)},d(n){n&&b(l)}}}function Zr(t){let e;return{c(){e=I("dF")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function oi(t,e){let l,n,i=e[18],s,o,r;const u=()=>e[10](n,i),f=()=>e[10](null,i);function m(_){e[11](_,e[16])}function h(_){e[12](_,e[16])}let p={faces:e[16].faces};return e[16].result!==void 0&&(p.result=e[16].result),e[16].active!==void 0&&(p.active=e[16].active),n=new Ke({props:p}),u(),dt.push(()=>ul(n,"result",m)),dt.push(()=>ul(n,"active",h)),{key:t,first:null,c(){l=De(),ee(n.$$.fragment),this.first=l},m(_,$){v(_,l,$),V(n,_,$),r=!0},p(_,$){e=_,i!==e[18]&&(f(),i=e[18],u());const A={};$&1&&(A.faces=e[16].faces),!s&&$&1&&(s=!0,A.result=e[16].result,cl(()=>s=!1)),!o&&$&1&&(o=!0,A.active=e[16].active,cl(()=>o=!1)),n.$set(A)},i(_){r||(L(n.$$.fragment,_),r=!0)},o(_){z(n.$$.fragment,_),r=!1},d(_){_&&b(l),f(),Z(n,_)}}}function xr(t){let e;return{c(){e=I("SELECTION SUMMARY")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function eo(t){let e;return{c(){e=I("SUMMARY")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function to(t){let e=t[2].activeSum+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&4&&e!==(e=n[2].activeSum+"")&&te(l,e)},d(n){n&&b(l)}}}function lo(t){let e=t[2].sum+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&4&&e!==(e=n[2].sum+"")&&te(l,e)},d(n){n&&b(l)}}}function no(t){let e;return{c(){e=I("0")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function io(t){let e;function l(s,o){return s[2].active==0?ro:so}let n=l(t),i=n(t);return{c(){i.c(),e=De()},m(s,o){i.m(s,o),v(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&b(e)}}}function so(t){let e=t[2].activeLow+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&4&&e!==(e=n[2].activeLow+"")&&te(l,e)},d(n){n&&b(l)}}}function ro(t){let e=t[2].low+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&4&&e!==(e=n[2].low+"")&&te(l,e)},d(n){n&&b(l)}}}function oo(t){let e;return{c(){e=I("0")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function co(t){let e;function l(s,o){return s[2].active==0?ao:uo}let n=l(t),i=n(t);return{c(){i.c(),e=De()},m(s,o){i.m(s,o),v(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&b(e)}}}function uo(t){let e=t[2].activeHigh+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&4&&e!==(e=n[2].activeHigh+"")&&te(l,e)},d(n){n&&b(l)}}}function ao(t){let e=t[2].high+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&4&&e!==(e=n[2].high+"")&&te(l,e)},d(n){n&&b(l)}}}function fo(t){let e=t[2].activeSum+t[3]+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&12&&e!==(e=n[2].activeSum+n[3]+"")&&te(l,e)},d(n){n&&b(l)}}}function _o(t){let e=t[2].sum+t[3]+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&12&&e!==(e=n[2].sum+n[3]+"")&&te(l,e)},d(n){n&&b(l)}}}function po(t){let e;return{c(){e=I(t[3])},m(l,n){v(l,e,n)},p(l,n){n&8&&te(e,l[3])},d(l){l&&b(e)}}}function mo(t){let e;function l(s,o){return s[2].active==0?go:ho}let n=l(t),i=n(t);return{c(){i.c(),e=De()},m(s,o){i.m(s,o),v(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&b(e)}}}function ho(t){let e=t[2].activeLow+t[3]+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&12&&e!==(e=n[2].activeLow+n[3]+"")&&te(l,e)},d(n){n&&b(l)}}}function go(t){let e=t[2].low+t[3]+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&12&&e!==(e=n[2].low+n[3]+"")&&te(l,e)},d(n){n&&b(l)}}}function bo(t){let e;return{c(){e=I(t[3])},m(l,n){v(l,e,n)},p(l,n){n&8&&te(e,l[3])},d(l){l&&b(e)}}}function vo(t){let e;function l(s,o){return s[2].active==0?wo:ko}let n=l(t),i=n(t);return{c(){i.c(),e=De()},m(s,o){i.m(s,o),v(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&b(e)}}}function ko(t){let e=t[2].activeHigh+t[3]+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&12&&e!==(e=n[2].activeHigh+n[3]+"")&&te(l,e)},d(n){n&&b(l)}}}function wo(t){let e=t[2].high+t[3]+"",l;return{c(){l=I(e)},m(n,i){v(n,l,i)},p(n,i){i&12&&e!==(e=n[2].high+n[3]+"")&&te(l,e)},d(n){n&&b(l)}}}function yo(t){let e,l,n,i,s,o,r,u,f,m,h,p,_,$,A=t[1].length+"",y,N,C,S,k=t[2].active+"",R,E,M,F,D=t[2].active==0?"Clear All":"Clear "+String(t[2].active),ce,w,T,K,U=t[2].active==t[0].length?"Select None":"Select All",B,X,be,le,q=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),W,ne,Ve,ae,ke=[],rt=new Map,ot,he,Ue,Me,We,ge,Te,Re,Ze,ue,xe,Le,Ie,$e,ct,Ne,je,Y,ie,qe,ut,fe,et,at,vt,kt,Ge,_e,Be,de,tt,ve,ze,pe,pt,me,j,se,P,we,jt,wt,Gt,Ot,mt,Mt,yt,Oe,xt,Bt,el=[2,4,6,8,10,12,20],lt=[];for(let O=0;O<7;O+=1)lt[O]=ri(si(t,el,O));function nt(O,x){return(O[2][-1]??0)==0?Zr:O[2][-1]>9?Vr:Xr}let zt=nt(t),ft=zt(t),Ht=t[0];const Kt=O=>O[16].id;for(let O=0;O<Ht.length;O+=1){let x=ii(t,Ht,O),ye=Kt(x);rt.set(ye,ke[O]=oi(ye,x))}function _t(O,x){return O[2].active==0?eo:xr}let $t=_t(t),gt=$t(t);function G(O,x){return O[2].active==0?lo:to}let oe=G(t),Fe=oe(t);function cn(O,x){return O[2].low!=1/0?io:no}let hl=cn(t),Ct=hl(t);function un(O,x){return O[2].low!=1/0?co:oo}let gl=un(t),St=gl(t);function an(O,x){return O[2].active==0?_o:fo}let bl=an(t),At=bl(t);function fn(O,x){return O[2].low!=1/0?mo:po}let vl=fn(t),Et=vl(t);function _n(O,x){return O[2].low!=1/0?vo:bo}let kl=_n(t),Pt=kl(t);return{c(){e=d("div"),l=d("h1"),l.textContent="Dice Roller",n=g(),i=d("h3"),i.textContent="ADD DICE",s=g(),o=d("hr"),r=g(),u=d("div");for(let O=0;O<7;O+=1)lt[O].c();f=g(),m=d("button"),ft.c(),h=g(),p=d("div"),_=d("span"),$=I("Total: "),y=I(A),N=g(),C=d("span"),S=I("Selected: "),R=I(k),E=g(),M=d("div"),F=d("button"),ce=I(D),T=g(),K=d("button"),B=I(U),be=g(),le=d("button"),W=I(q),Ve=g(),ae=d("div");for(let O=0;O<ke.length;O+=1)ke[O].c();ot=g(),he=d("h3"),gt.c(),Ue=g(),Me=d("hr"),We=g(),ge=d("div"),Te=d("div"),Re=d("h4"),Re.textContent="SUM",Ze=g(),ue=d("h3"),Fe.c(),xe=g(),Le=d("div"),Ie=d("div"),$e=d("h4"),$e.textContent="LOW",ct=g(),Ne=d("h3"),Ct.c(),je=g(),Y=d("div"),ie=d("h4"),ie.textContent="HIGH",qe=g(),ut=d("h3"),St.c(),fe=g(),et=d("h3"),et.textContent="MODIFIER",at=g(),vt=d("hr"),kt=g(),Ge=d("div"),_e=d("input"),Be=g(),de=d("input"),tt=g(),ve=d("div"),ze=d("div"),pe=d("h4"),pe.textContent="SUM",pt=g(),me=d("h3"),At.c(),j=g(),se=d("div"),P=d("div"),we=d("h4"),we.textContent="LOW",jt=g(),wt=d("h3"),Et.c(),Gt=g(),Ot=d("div"),mt=d("h4"),mt.textContent="HIGH",Mt=g(),yt=d("h3"),Pt.c(),H(i,"margin-bottom","0"),a(o,"class","underule svelte-90mbn5"),a(m,"type","button"),a(m,"class","die-button svelte-90mbn5"),H(m,"background-image","url('/img/dice/dF-inverted.svg')"),a(u,"class","dice-button-box svelte-90mbn5"),a(_,"class","svelte-90mbn5"),a(C,"class","svelte-90mbn5"),a(p,"class","total-readout svelte-90mbn5"),a(F,"class","button-outlined"),F.disabled=w=t[0].length<=0,a(K,"class","button-outlined"),K.disabled=X=t[0].length<=0,a(le,"class","button-outlined"),le.disabled=ne=t[0].length<=0,a(M,"class","operation-button-box svelte-90mbn5"),a(ae,"class","dice-box svelte-90mbn5"),H(he,"margin-bottom","0"),a(Me,"class","underule svelte-90mbn5"),a(Re,"class","text-center"),H(Re,"margin","0"),a(ue,"class","result svelte-90mbn5"),H(ue,"width","120px"),H(ue,"margin","0 auto 0 auto"),a(Te,"class","svelte-90mbn5"),a($e,"class","text-center"),H($e,"margin","0"),a(Ne,"class","result svelte-90mbn5"),H(Ne,"width","120px"),H(Ne,"margin","0 auto 0 auto"),a(Ie,"class","svelte-90mbn5"),a(ie,"class","text-center"),H(ie,"margin","0"),a(ut,"class","result svelte-90mbn5"),H(ut,"width","120px"),H(ut,"margin","0 auto 0 auto"),a(Y,"class","svelte-90mbn5"),a(Le,"class","result-summary svelte-90mbn5"),a(ge,"class","result-summary svelte-90mbn5"),H(et,"margin-top","48px"),H(et,"margin-bottom","0"),a(vt,"class","underule svelte-90mbn5"),a(_e,"class","modifier-input svelte-90mbn5"),a(_e,"type","number"),a(de,"class","modifier-range svelte-90mbn5"),a(de,"type","range"),a(de,"min","-15"),a(de,"max","15"),a(Ge,"class","result-modifier svelte-90mbn5"),a(pe,"class","text-center"),H(pe,"margin","0"),a(me,"class","result svelte-90mbn5"),H(me,"width","120px"),H(me,"margin","0 auto 0 auto"),a(ze,"class","svelte-90mbn5"),a(we,"class","text-center"),H(we,"margin","0"),a(wt,"class","result svelte-90mbn5"),H(wt,"width","120px"),H(wt,"margin","0 auto 0 auto"),a(P,"class","svelte-90mbn5"),a(mt,"class","text-center"),H(mt,"margin","0"),a(yt,"class","result svelte-90mbn5"),H(yt,"width","120px"),H(yt,"margin","0 auto 0 auto"),a(Ot,"class","svelte-90mbn5"),a(se,"class","result-summary svelte-90mbn5"),a(ve,"class","result-summary svelte-90mbn5"),a(e,"class","page")},m(O,x){v(O,e,x),c(e,l),c(e,n),c(e,i),c(e,s),c(e,o),c(e,r),c(e,u);for(let ye=0;ye<7;ye+=1)lt[ye].m(u,null);c(u,f),c(u,m),ft.m(m,null),c(e,h),c(e,p),c(p,_),c(_,$),c(_,y),c(p,N),c(p,C),c(C,S),c(C,R),c(e,E),c(e,M),c(M,F),c(F,ce),c(M,T),c(M,K),c(K,B),c(M,be),c(M,le),c(le,W),c(e,Ve),c(e,ae);for(let ye=0;ye<ke.length;ye+=1)ke[ye].m(ae,null);c(e,ot),c(e,he),gt.m(he,null),c(e,Ue),c(e,Me),c(e,We),c(e,ge),c(ge,Te),c(Te,Re),c(Te,Ze),c(Te,ue),Fe.m(ue,null),c(ge,xe),c(ge,Le),c(Le,Ie),c(Ie,$e),c(Ie,ct),c(Ie,Ne),Ct.m(Ne,null),c(Le,je),c(Le,Y),c(Y,ie),c(Y,qe),c(Y,ut),St.m(ut,null),c(e,fe),c(e,et),c(e,at),c(e,vt),c(e,kt),c(e,Ge),c(Ge,_e),re(_e,t[3]),c(Ge,Be),c(Ge,de),re(de,t[3]),c(e,tt),c(e,ve),c(ve,ze),c(ze,pe),c(ze,pt),c(ze,me),At.m(me,null),c(ve,j),c(ve,se),c(se,P),c(P,we),c(P,jt),c(P,wt),Et.m(wt,null),c(se,Gt),c(se,Ot),c(Ot,mt),c(Ot,Mt),c(Ot,yt),Pt.m(yt,null),Oe=!0,xt||(Bt=[Q(m,"click",t[9]),Q(F,"click",t[7]),Q(K,"click",t[5]),Q(le,"click",t[6]),Q(_e,"input",t[13]),Q(de,"change",t[14]),Q(de,"input",t[14])],xt=!0)},p(O,[x]){if(x&20){el=[2,4,6,8,10,12,20];let ye;for(ye=0;ye<7;ye+=1){const dn=si(O,el,ye);lt[ye]?lt[ye].p(dn,x):(lt[ye]=ri(dn),lt[ye].c(),lt[ye].m(u,f))}for(;ye<7;ye+=1)lt[ye].d(1)}zt===(zt=nt(O))&&ft?ft.p(O,x):(ft.d(1),ft=zt(O),ft&&(ft.c(),ft.m(m,null))),(!Oe||x&2)&&A!==(A=O[1].length+"")&&te(y,A),(!Oe||x&4)&&k!==(k=O[2].active+"")&&te(R,k),(!Oe||x&4)&&D!==(D=O[2].active==0?"Clear All":"Clear "+String(O[2].active))&&te(ce,D),(!Oe||x&1&&w!==(w=O[0].length<=0))&&(F.disabled=w),(!Oe||x&5)&&U!==(U=O[2].active==O[0].length?"Select None":"Select All")&&te(B,U),(!Oe||x&1&&X!==(X=O[0].length<=0))&&(K.disabled=X),(!Oe||x&4)&&q!==(q=O[2].active==0?"Reroll All":"Reroll "+String(O[2].active))&&te(W,q),(!Oe||x&1&&ne!==(ne=O[0].length<=0))&&(le.disabled=ne),x&3&&(Ht=O[0],Qe(),ke=ql(ke,x,Kt,1,O,Ht,rt,ae,Il,oi,null,ii),Xe()),$t!==($t=_t(O))&&(gt.d(1),gt=$t(O),gt&&(gt.c(),gt.m(he,null))),oe===(oe=G(O))&&Fe?Fe.p(O,x):(Fe.d(1),Fe=oe(O),Fe&&(Fe.c(),Fe.m(ue,null))),hl===(hl=cn(O))&&Ct?Ct.p(O,x):(Ct.d(1),Ct=hl(O),Ct&&(Ct.c(),Ct.m(Ne,null))),gl===(gl=un(O))&&St?St.p(O,x):(St.d(1),St=gl(O),St&&(St.c(),St.m(ut,null))),x&8&&sl(_e.value)!==O[3]&&re(_e,O[3]),x&8&&re(de,O[3]),bl===(bl=an(O))&&At?At.p(O,x):(At.d(1),At=bl(O),At&&(At.c(),At.m(me,null))),vl===(vl=fn(O))&&Et?Et.p(O,x):(Et.d(1),Et=vl(O),Et&&(Et.c(),Et.m(wt,null))),kl===(kl=_n(O))&&Pt?Pt.p(O,x):(Pt.d(1),Pt=kl(O),Pt&&(Pt.c(),Pt.m(yt,null)))},i(O){if(!Oe){for(let x=0;x<Ht.length;x+=1)L(ke[x]);Oe=!0}},o(O){for(let x=0;x<ke.length;x+=1)z(ke[x]);Oe=!1},d(O){O&&b(e),bt(lt,O),ft.d();for(let x=0;x<ke.length;x+=1)ke[x].d();gt.d(),Fe.d(),Ct.d(),St.d(),At.d(),Et.d(),Pt.d(),xt=!1,Ce(Bt)}}}function $o(t,e,l){let n=0,i=[],s=[];function o(S){l(0,i=i.concat({id:n++,faces:S,result:0,active:!1}))}let r={active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0};function u(){r.active==i.length?i.forEach(S=>S.active=!1):i.forEach(S=>S.active=!0),l(0,i)}function f(){r.active==0?s.filter(S=>S).forEach(S=>S.roll()):s.filter(S=>S).forEach(S=>S.rollIfActive())}function m(){r.active==0?l(0,i=[]):l(0,i=i.filter(S=>!S.active))}let h=1;const p=S=>o(S),_=()=>o(-1);function $(S,k){dt[S?"unshift":"push"](()=>{s[k]=S,l(1,s)})}function A(S,k){t.$$.not_equal(k.result,S)&&(k.result=S,l(0,i))}function y(S,k){t.$$.not_equal(k.active,S)&&(k.active=S,l(0,i))}function N(){h=sl(this.value),l(3,h)}function C(){h=sl(this.value),l(3,h)}return t.$$.update=()=>{t.$$.dirty&2&&l(1,s=s.filter(S=>S)),t.$$.dirty&1&&l(2,r=i.reduce((S,k)=>(S.hasOwnProperty(k.faces)?S[k.faces]=S[k.faces]+1:S[k.faces]=1,S.sum+=k.result,k.result<S.low&&(S.low=k.result),k.result>S.high&&(S.high=k.result),k.active&&(S.active=S.active+1,S.activeSum+=k.result,k.result<S.activeLow&&(S.activeLow=k.result),k.result>S.activeHigh&&(S.activeHigh=k.result)),S),{active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0}))},[i,s,r,h,o,u,f,m,p,_,$,A,y,N,C]}class Co extends Pe{constructor(e){super(),Ee(this,e,$o,yo,Ae,{})}}function ci(t,e,l){const n=t.slice();return n[10]=e[l],n[11]=e,n[12]=l,n}function ui(t,e){let l,n,i=e[12],s,o,r;const u=()=>e[5](n,i),f=()=>e[5](null,i);function m(_){e[6](_,e[10])}function h(_){e[7](_,e[10])}let p={showPips:!0,invert:e[12]==2};return e[10].result!==void 0&&(p.result=e[10].result),e[10].active!==void 0&&(p.active=e[10].active),n=new Ke({props:p}),u(),dt.push(()=>ul(n,"result",m)),dt.push(()=>ul(n,"active",h)),{key:t,first:null,c(){l=De(),ee(n.$$.fragment),this.first=l},m(_,$){v(_,l,$),V(n,_,$),r=!0},p(_,$){e=_,i!==e[12]&&(f(),i=e[12],u());const A={};$&1&&(A.invert=e[12]==2),!s&&$&1&&(s=!0,A.result=e[10].result,cl(()=>s=!1)),!o&&$&1&&(o=!0,A.active=e[10].active,cl(()=>o=!1)),n.$set(A)},i(_){r||(L(n.$$.fragment,_),r=!0)},o(_){z(n.$$.fragment,_),r=!1},d(_){_&&b(l),f(),Z(n,_)}}}function So(t){let e;return{c(){e=I("Quality")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function Ao(t){let e;return{c(){e=I("Stunt!")},m(l,n){v(l,e,n)},d(l){l&&b(e)}}}function Eo(t){let e,l,n,i,s,o,r,u=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),f,m,h,p,_=[],$=new Map,A,y,N,C,S,k,R=t[2].sum+"",E,M,F,D,ce,w,T=t[2].stunt+"",K,U,B,X,be,le,q,W,ne,Ve,ae,ke,rt,ot,he,Ue,Me,We,ge=t[2].sum+t[3]+"",Te,Re,Ze,ue,xe,Le,Ie=t[0];const $e=Y=>Y[10].id;for(let Y=0;Y<Ie.length;Y+=1){let ie=ci(t,Ie,Y),qe=$e(ie);$.set(qe,_[Y]=ui(qe,ie))}function ct(Y,ie){return Y[2].hasPair?Ao:So}let Ne=ct(t),je=Ne(t);return{c(){e=d("div"),l=d("h1"),l.textContent="Age Dice Roller",n=g(),i=d("p"),i.textContent="Roll 3d6 and sum them. One d6 is special and used for success quality and stunt points.",s=g(),o=d("div"),r=d("button"),f=I(u),h=g(),p=d("div");for(let Y=0;Y<_.length;Y+=1)_[Y].c();A=g(),y=d("div"),N=d("div"),C=d("h2"),C.textContent="Sum",S=g(),k=d("h3"),E=I(R),M=g(),F=d("div"),D=d("h2"),je.c(),ce=g(),w=d("h3"),K=I(T),U=g(),B=d("div"),X=d("div"),X.innerHTML='<h2 style="line-height:3em;">+</h2>',be=g(),le=d("div"),q=d("h2"),q.textContent="Mod",W=g(),ne=d("input"),Ve=g(),ae=d("input"),ke=g(),rt=d("div"),rt.innerHTML='<h2 style="line-height:3em;">=</h2>',ot=g(),he=d("div"),Ue=d("h2"),Ue.textContent="Result",Me=g(),We=d("h3"),Te=I(ge),Re=g(),Ze=d("p"),Ze.innerHTML='Check out Fantasy Age and the other Age RPGs by <a href="https://greenronin.com/">Green Ronin</a> (Not affiliated)',a(r,"class","button-outlined"),r.disabled=m=t[0].length<=0,H(o,"justify-content","center"),a(p,"class","dice-box svelte-1555w2s"),a(C,"class","text-center"),H(C,"margin-bottom","0"),a(k,"class","result svelte-1555w2s"),H(k,"width","128px"),H(k,"margin","0 auto 0 auto"),a(D,"class","text-center"),H(D,"margin-bottom","0"),a(w,"class","result svelte-1555w2s"),H(w,"width","100px"),H(w,"margin","0 auto 0 auto"),a(y,"class","result-summary svelte-1555w2s"),a(q,"class","text-center"),H(q,"margin-bottom","0"),a(ne,"type","number"),a(ne,"class","result svelte-1555w2s"),H(ne,"width","100px"),H(ne,"margin","0 auto 0 auto"),a(ae,"type","range"),a(ae,"class","result svelte-1555w2s"),H(ae,"width","100px"),H(ae,"margin","0 auto 0 auto"),a(ae,"min","-10"),a(ae,"max","10"),a(Ue,"class","text-center"),H(Ue,"margin-bottom","0"),a(We,"class","result svelte-1555w2s"),H(We,"width","100px"),H(We,"margin","0 auto 0 auto"),a(B,"class","result-mod svelte-1555w2s"),a(e,"class","page")},m(Y,ie){v(Y,e,ie),c(e,l),c(e,n),c(e,i),c(e,s),c(e,o),c(o,r),c(r,f),c(e,h),c(e,p);for(let qe=0;qe<_.length;qe+=1)_[qe].m(p,null);c(e,A),c(e,y),c(y,N),c(N,C),c(N,S),c(N,k),c(k,E),c(y,M),c(y,F),c(F,D),je.m(D,null),c(F,ce),c(F,w),c(w,K),c(e,U),c(e,B),c(B,X),c(B,be),c(B,le),c(le,q),c(le,W),c(le,ne),re(ne,t[3]),c(le,Ve),c(le,ae),re(ae,t[3]),c(B,ke),c(B,rt),c(B,ot),c(B,he),c(he,Ue),c(he,Me),c(he,We),c(We,Te),c(e,Re),c(e,Ze),ue=!0,xe||(Le=[Q(r,"click",t[4]),Q(ne,"input",t[8]),Q(ae,"change",t[9]),Q(ae,"input",t[9])],xe=!0)},p(Y,[ie]){(!ue||ie&4)&&u!==(u=Y[2].active==0?"Reroll All":"Reroll "+String(Y[2].active))&&te(f,u),(!ue||ie&1&&m!==(m=Y[0].length<=0))&&(r.disabled=m),ie&3&&(Ie=Y[0],Qe(),_=ql(_,ie,$e,1,Y,Ie,$,p,Il,ui,null,ci),Xe()),(!ue||ie&4)&&R!==(R=Y[2].sum+"")&&te(E,R),Ne!==(Ne=ct(Y))&&(je.d(1),je=Ne(Y),je&&(je.c(),je.m(D,null))),(!ue||ie&4)&&T!==(T=Y[2].stunt+"")&&te(K,T),ie&8&&sl(ne.value)!==Y[3]&&re(ne,Y[3]),ie&8&&re(ae,Y[3]),(!ue||ie&12)&&ge!==(ge=Y[2].sum+Y[3]+"")&&te(Te,ge)},i(Y){if(!ue){for(let ie=0;ie<Ie.length;ie+=1)L(_[ie]);ue=!0}},o(Y){for(let ie=0;ie<_.length;ie+=1)z(_[ie]);ue=!1},d(Y){Y&&b(e);for(let ie=0;ie<_.length;ie+=1)_[ie].d();je.d(),xe=!1,Ce(Le)}}}function Po(t,e,l){let n=[{id:0,result:0,active:!1},{id:1,result:0,active:!1},{id:2,result:0,active:!1}],i=[],s={active:0,sum:0,hasPair:!1,stunt:0};function o(){s.active==0?i.filter(_=>_).forEach(_=>_.roll()):i.filter(_=>_).forEach(_=>_.rollIfActive())}let r=0;function u(_,$){dt[_?"unshift":"push"](()=>{i[$]=_,l(1,i)})}function f(_,$){t.$$.not_equal($.result,_)&&($.result=_,l(0,n))}function m(_,$){t.$$.not_equal($.active,_)&&($.active=_,l(0,n))}function h(){r=sl(this.value),l(3,r)}function p(){r=sl(this.value),l(3,r)}return t.$$.update=()=>{t.$$.dirty&1&&l(2,s=n.reduce((_,$)=>(_.hasOwnProperty($.result)?(_[$.result]+=1,_.hasPair=!0):_[$.result]=1,_.sum+=$.result,$.active&&(_.active=_.active+1),_),{active:0,sum:0,hasPair:Boolean(!1),stunt:n[2].result}))},[n,i,s,r,o,u,f,m,h,p]}class No extends Pe{constructor(e){super(),Ee(this,e,Po,Eo,Ae,{})}}function ai(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function jo(t){let e,l=t[0].length+"",n,i;return{c(){e=I("Add to "),n=I(l),i=I("dE")},m(s,o){v(s,e,o),v(s,n,o),v(s,i,o)},p(s,o){o&1&&l!==(l=s[0].length+"")&&te(n,l)},d(s){s&&b(e),s&&b(n),s&&b(i)}}}function Oo(t){let e;return{c(){e=I("Add 1dE")},m(l,n){v(l,e,n)},p:J,d(l){l&&b(e)}}}function fi(t,e){let l,n,i=e[15],s,o,r;const u=()=>e[9](n,i),f=()=>e[9](null,i);function m(_){e[10](_,e[13])}function h(_){e[11](_,e[13])}let p={faces:-2};return e[13].result!==void 0&&(p.result=e[13].result),e[13].active!==void 0&&(p.active=e[13].active),n=new Ke({props:p}),u(),dt.push(()=>ul(n,"result",m)),dt.push(()=>ul(n,"active",h)),{key:t,first:null,c(){l=De(),ee(n.$$.fragment),this.first=l},m(_,$){v(_,l,$),V(n,_,$),r=!0},p(_,$){e=_,i!==e[15]&&(f(),i=e[15],u());const A={};!s&&$&1&&(s=!0,A.result=e[13].result,cl(()=>s=!1)),!o&&$&1&&(o=!0,A.active=e[13].active,cl(()=>o=!1)),n.$set(A)},i(_){r||(L(n.$$.fragment,_),r=!0)},o(_){z(n.$$.fragment,_),r=!1},d(_){_&&b(l),f(),Z(n,_)}}}function Mo(t){let e,l,n,i,s,o,r,u,f=t[2].active==0?"Clear All":"Remove "+String(t[2].active),m,h,p,_,$=t[2].active==t[0].length?"Select None":"Select All",A,y,N,C,S=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),k,R,E,M,F=[],D=new Map,ce,w,T,K,U,B,X,be,le,q,W,ne,Ve,ae,ke,rt,ot,he,Ue,Me,We,ge,Te,Re,Ze,ue,xe,Le,Ie,$e,ct,Ne,je,Y,ie,qe,ut,fe,et,at,vt,kt,Ge,_e,Be,de,tt,ve,ze,pe,pt,me,j,se,P,we,jt,wt,Gt,Ot,mt,Mt,yt,Oe,xt,Bt,el,lt,nt,zt,ft;function Ht(G,oe){return G[0].length==0?Oo:jo}let Kt=Ht(t),_t=Kt(t),$t=t[0];const gt=G=>G[13].id;for(let G=0;G<$t.length;G+=1){let oe=ai(t,$t,G),Fe=gt(oe);D.set(Fe,F[G]=fi(Fe,oe))}return ae=new Ke({props:{faces:-2,result:2,active:!1,enabled:!1}}),Me=new Ke({props:{faces:-2,result:3,active:!1,enabled:!1}}),ge=new Ke({props:{faces:-2,result:1,active:!1,enabled:!1}}),Re=new Ke({props:{faces:-2,result:3,active:!1,enabled:!1}}),ue=new Ke({props:{faces:-2,result:3,active:!1,enabled:!1}}),$e=new Ke({props:{faces:-2,result:2,active:!1,enabled:!1}}),at=new Ke({props:{faces:-2,result:1,active:!1,enabled:!1}}),Be=new Ke({props:{faces:-2,result:2,active:!1,enabled:!1}}),pe=new Ke({props:{faces:-2,result:3,active:!1,enabled:!1}}),P=new Ke({props:{faces:-2,result:1,active:!1,enabled:!1}}),jt=new Ke({props:{faces:-2,result:3,active:!1,enabled:!1}}),Mt=new Ke({props:{faces:-2,result:2,active:!1,enabled:!1}}),Oe=new Ke({props:{faces:-2,result:3,active:!1,enabled:!1}}),{c(){e=d("div"),l=d("div"),n=d("h1"),n.textContent="Eye Roller",i=g(),s=d("button"),_t.c(),o=g(),r=d("div"),u=d("button"),m=I(f),p=g(),_=d("button"),A=I($),N=g(),C=d("button"),k=I(S),E=g(),M=d("div");for(let G=0;G<F.length;G+=1)F[G].c();ce=g(),w=d("div"),T=I(t[3]),K=g(),U=d("div"),B=d("div"),X=d("h2"),X.textContent="What are Eye Dice?",be=g(),le=d("p"),le.textContent="Eye dice are 6-sided dice that have one circle side, two pip sides, and three pip-in-circle sides.",q=g(),W=d("div"),ne=d("div"),Ve=g(),ee(ae.$$.fragment),ke=g(),rt=d("div"),ot=g(),he=d("div"),Ue=g(),ee(Me.$$.fragment),We=g(),ee(ge.$$.fragment),Te=g(),ee(Re.$$.fragment),Ze=g(),ee(ue.$$.fragment),xe=g(),Le=d("div"),Ie=g(),ee($e.$$.fragment),ct=g(),Ne=d("div"),je=g(),Y=d("div"),ie=g(),qe=d("p"),qe.innerHTML=`Each side type can be referred to individually or in groups, which each have their own, unique chances of occurring.<br/><br/>
        The chances of each are:`,ut=g(),fe=d("div"),et=d("div"),ee(at.$$.fragment),vt=g(),kt=d("div"),kt.textContent="⅙ Snake",Ge=g(),_e=d("div"),ee(Be.$$.fragment),de=g(),tt=d("div"),tt.textContent="⅓ Bat",ve=g(),ze=d("div"),ee(pe.$$.fragment),pt=g(),me=d("div"),me.textContent="½ Fish",j=g(),se=d("div"),ee(P.$$.fragment),we=g(),ee(jt.$$.fragment),wt=g(),Gt=d("div"),Gt.textContent="⅔ Pips",Ot=g(),mt=d("div"),ee(Mt.$$.fragment),yt=g(),ee(Oe.$$.fragment),xt=g(),Bt=d("div"),Bt.textContent="⅚ Rings",el=g(),lt=d("p"),lt.textContent="Rolling multiple eye dice for the same thing multiplies that fraction by itself number-of-dice times. For example, rolling 2dE for fish gives you a 50% * 50% = 25% chance of rolling all fish.",a(s,"class","button-outlined"),a(u,"class","button-outlined"),u.disabled=h=t[0].length<=0,a(_,"class","button-outlined"),_.disabled=y=t[0].length<=0,a(C,"class","button-outlined"),C.disabled=R=t[0].length<=0,H(r,"display","grid"),H(r,"grid-template-columns","32% 32% 32%"),H(r,"justify-content","center"),a(M,"class","dice-box"),a(w,"class","text-center"),H(w,"font-size","small"),H(w,"white-space","pre"),a(w,"id","result-view"),a(l,"class","content-box"),a(e,"class","page"),a(ne,"class","svelte-15n9wmj"),a(rt,"class","svelte-15n9wmj"),a(he,"class","svelte-15n9wmj"),a(Le,"class","svelte-15n9wmj"),a(Ne,"class","svelte-15n9wmj"),a(Y,"class","svelte-15n9wmj"),a(W,"class","die-diagram svelte-15n9wmj"),a(et,"class","svelte-15n9wmj"),a(kt,"class","svelte-15n9wmj"),a(_e,"class","svelte-15n9wmj"),a(tt,"class","svelte-15n9wmj"),a(ze,"class","svelte-15n9wmj"),a(me,"class","svelte-15n9wmj"),a(se,"class","svelte-15n9wmj"),a(Gt,"class","svelte-15n9wmj"),a(mt,"class","svelte-15n9wmj"),a(Bt,"class","svelte-15n9wmj"),a(fe,"class","die-list svelte-15n9wmj"),a(B,"class","content-box"),a(U,"class","page")},m(G,oe){v(G,e,oe),c(e,l),c(l,n),c(l,i),c(l,s),_t.m(s,null),c(l,o),c(l,r),c(r,u),c(u,m),c(r,p),c(r,_),c(_,A),c(r,N),c(r,C),c(C,k),c(l,E),c(l,M);for(let Fe=0;Fe<F.length;Fe+=1)F[Fe].m(M,null);c(l,ce),c(l,w),c(w,T),v(G,K,oe),v(G,U,oe),c(U,B),c(B,X),c(B,be),c(B,le),c(B,q),c(B,W),c(W,ne),c(W,Ve),V(ae,W,null),c(W,ke),c(W,rt),c(W,ot),c(W,he),c(W,Ue),V(Me,W,null),c(W,We),V(ge,W,null),c(W,Te),V(Re,W,null),c(W,Ze),V(ue,W,null),c(W,xe),c(W,Le),c(W,Ie),V($e,W,null),c(W,ct),c(W,Ne),c(W,je),c(W,Y),c(B,ie),c(B,qe),c(B,ut),c(B,fe),c(fe,et),V(at,et,null),c(fe,vt),c(fe,kt),c(fe,Ge),c(fe,_e),V(Be,_e,null),c(fe,de),c(fe,tt),c(fe,ve),c(fe,ze),V(pe,ze,null),c(fe,pt),c(fe,me),c(fe,j),c(fe,se),V(P,se,null),c(se,we),V(jt,se,null),c(fe,wt),c(fe,Gt),c(fe,Ot),c(fe,mt),V(Mt,mt,null),c(mt,yt),V(Oe,mt,null),c(fe,xt),c(fe,Bt),c(B,el),c(B,lt),nt=!0,zt||(ft=[Q(s,"click",t[8]),Q(u,"click",t[7]),Q(_,"click",t[5]),Q(C,"click",t[6])],zt=!0)},p(G,[oe]){Kt===(Kt=Ht(G))&&_t?_t.p(G,oe):(_t.d(1),_t=Kt(G),_t&&(_t.c(),_t.m(s,null))),(!nt||oe&4)&&f!==(f=G[2].active==0?"Clear All":"Remove "+String(G[2].active))&&te(m,f),(!nt||oe&1&&h!==(h=G[0].length<=0))&&(u.disabled=h),(!nt||oe&5)&&$!==($=G[2].active==G[0].length?"Select None":"Select All")&&te(A,$),(!nt||oe&1&&y!==(y=G[0].length<=0))&&(_.disabled=y),(!nt||oe&4)&&S!==(S=G[2].active==0?"Reroll All":"Reroll "+String(G[2].active))&&te(k,S),(!nt||oe&1&&R!==(R=G[0].length<=0))&&(C.disabled=R),oe&3&&($t=G[0],Qe(),F=ql(F,oe,gt,1,G,$t,D,M,Il,fi,null,ai),Xe()),(!nt||oe&8)&&te(T,G[3])},i(G){if(!nt){for(let oe=0;oe<$t.length;oe+=1)L(F[oe]);L(ae.$$.fragment,G),L(Me.$$.fragment,G),L(ge.$$.fragment,G),L(Re.$$.fragment,G),L(ue.$$.fragment,G),L($e.$$.fragment,G),L(at.$$.fragment,G),L(Be.$$.fragment,G),L(pe.$$.fragment,G),L(P.$$.fragment,G),L(jt.$$.fragment,G),L(Mt.$$.fragment,G),L(Oe.$$.fragment,G),nt=!0}},o(G){for(let oe=0;oe<F.length;oe+=1)z(F[oe]);z(ae.$$.fragment,G),z(Me.$$.fragment,G),z(ge.$$.fragment,G),z(Re.$$.fragment,G),z(ue.$$.fragment,G),z($e.$$.fragment,G),z(at.$$.fragment,G),z(Be.$$.fragment,G),z(pe.$$.fragment,G),z(P.$$.fragment,G),z(jt.$$.fragment,G),z(Mt.$$.fragment,G),z(Oe.$$.fragment,G),nt=!1},d(G){G&&b(e),_t.d();for(let oe=0;oe<F.length;oe+=1)F[oe].d();G&&b(K),G&&b(U),Z(ae),Z(Me),Z(ge),Z(Re),Z(ue),Z($e),Z(at),Z(Be),Z(pe),Z(P),Z(jt),Z(Mt),Z(Oe),zt=!1,Ce(ft)}}}function To(t){var e=[];e.push(`${t.snakes} snake${t.snakes==1?"":"s"}`),e.push(`${t.bats} bat${t.bats==1?"":"s"}`),e.push(`${t.fish} fish`);var l=[e.join("  ")];return e=[],e.push(`${t.pips} pip${t.pips==1?"":"s"}`),e.push(`${t.rings} ring${t.rings==1?"":"s"}`),l.push(e.join("  ")),l.join(`\r
`)}function Ro(t,e,l){let n=0,i=[],s=[];function o(){l(0,i=i.concat({id:n++,result:0,active:!1}))}let r={active:0,snakes:0,bats:0,fish:0,rings:0,pips:0};function u(){r.active==i.length?i.forEach(y=>y.active=!1):i.forEach(y=>y.active=!0),l(0,i)}function f(){r.active==0?s.filter(y=>y).forEach(y=>y.roll()):s.filter(y=>y).forEach(y=>y.rollIfActive())}function m(){r.active==0?l(0,i=[]):l(0,i=i.filter(y=>!y.active))}let h="";const p=()=>o();function _(y,N){dt[y?"unshift":"push"](()=>{s[N]=y,l(1,s)})}function $(y,N){t.$$.not_equal(N.result,y)&&(N.result=y,l(0,i))}function A(y,N){t.$$.not_equal(N.active,y)&&(N.active=y,l(0,i))}return t.$$.update=()=>{t.$$.dirty&2&&l(1,s=s.filter(y=>y)),t.$$.dirty&1&&l(2,r=i.reduce((y,N)=>(N.active&&(y.active+=1),N.result==1?(y.snakes+=1,y.pips+=1):N.result==2?(y.bats+=1,y.rings+=1):N.result==3&&(y.fish+=1,y.pips+=1,y.rings+=1),y),{active:0,snakes:0,bats:0,fish:0,rings:0,pips:0})),t.$$.dirty&4&&l(3,h=To(r))},[i,s,r,h,o,u,f,m,p,_,$,A]}class Lo extends Pe{constructor(e){super(),Ee(this,e,Ro,Mo,Ae,{})}}function _i(t,e,l){const n=t.slice();return n[28]=e[l],n}function di(t,e,l){const n=t.slice();return n[28]=e[l],n}function Io(t){let e,l,n,i,s,o,r,u,f,m,h,p,_,$,A,y,N,C,S,k,R,E,M;function F(q,W){return q[0]?Ho:zo}let D=F(t),ce=D(t);function w(q,W){return q[1]?Fo:Do}let T=w(t),K=T(t);function U(q,W){return q[2]?Go:Uo}let B=U(t),X=B(t),be=t[10],le=[];for(let q=0;q<be.length;q+=1)le[q]=pi(_i(t,be,q));return{c(){e=d("form"),l=d("label"),l.textContent="Account Name",n=g(),ce.c(),i=g(),s=d("label"),s.textContent="Email",o=g(),K.c(),r=g(),u=d("label"),u.textContent="Password",f=g(),X.c(),m=g(),h=d("div"),p=g(),_=d("label"),_.textContent="Current Password",$=g(),A=d("input"),N=g(),C=d("button"),S=I("Apply Changes"),R=g();for(let q=0;q<le.length;q+=1)le[q].c();a(l,"for","name"),a(l,"class","svelte-1o9ee78"),a(s,"for","email"),a(s,"class","svelte-1o9ee78"),a(u,"for","password"),a(u,"class","svelte-1o9ee78"),H(h,"grid-column","span 3"),H(h,"height","20px"),a(_,"for","currentPassword"),a(_,"class","svelte-1o9ee78"),a(A,"name","currentPassword"),a(A,"type","password"),A.disabled=y=!t[8],a(C,"class","grid-form-submit svelte-1o9ee78"),a(C,"type","submit"),C.disabled=k=!t[8],a(e,"class","grid-3-form svelte-1o9ee78"),a(e,"method","post")},m(q,W){v(q,e,W),c(e,l),c(e,n),ce.m(e,null),c(e,i),c(e,s),c(e,o),K.m(e,null),c(e,r),c(e,u),c(e,f),X.m(e,null),c(e,m),c(e,h),c(e,p),c(e,_),c(e,$),c(e,A),re(A,t[7]),c(e,N),c(e,C),c(C,S),c(e,R);for(let ne=0;ne<le.length;ne+=1)le[ne].m(e,null);E||(M=[Q(A,"input",t[27]),Q(e,"submit",Nt(t[16]))],E=!0)},p(q,W){if(D===(D=F(q))&&ce?ce.p(q,W):(ce.d(1),ce=D(q),ce&&(ce.c(),ce.m(e,i))),T===(T=w(q))&&K?K.p(q,W):(K.d(1),K=T(q),K&&(K.c(),K.m(e,r))),B===(B=U(q))&&X?X.p(q,W):(X.d(1),X=B(q),X&&(X.c(),X.m(e,m))),W[0]&256&&y!==(y=!q[8])&&(A.disabled=y),W[0]&128&&A.value!==q[7]&&re(A,q[7]),W[0]&256&&k!==(k=!q[8])&&(C.disabled=k),W[0]&1024){be=q[10];let ne;for(ne=0;ne<be.length;ne+=1){const Ve=_i(q,be,ne);le[ne]?le[ne].p(Ve,W):(le[ne]=pi(Ve),le[ne].c(),le[ne].m(e,null))}for(;ne<le.length;ne+=1)le[ne].d(1);le.length=be.length}},d(q){q&&b(e),ce.d(),K.d(),X.d(),bt(le,q),E=!1,Ce(M)}}}function qo(t){let e,l,n,i,s,o,r,u,f,m,h,p,_,$,A,y,N,C,S,k,R,E,M,F,D,ce,w,T=t[9],K=[];for(let U=0;U<T.length;U+=1)K[U]=mi(di(t,T,U));return{c(){e=d("p"),e.textContent="Not logged-in",l=g(),n=d("br"),i=g(),s=d("h3"),s.textContent="Create Account",o=g(),r=d("form"),u=d("label"),u.textContent="Account Name",f=g(),m=d("input"),h=g(),p=d("label"),p.textContent="Email",_=g(),$=d("input"),A=g(),y=d("label"),y.textContent="Password",N=g(),C=d("input"),S=g(),k=d("label"),k.textContent="Confirm Password",R=g(),E=d("input"),M=g(),F=d("button"),F.textContent="Create Account",D=g();for(let U=0;U<K.length;U+=1)K[U].c();a(u,"for","name"),a(u,"class","svelte-1o9ee78"),a(m,"type","text"),a(p,"for","email"),a(p,"class","svelte-1o9ee78"),a($,"type","text"),a(y,"for","password"),a(y,"class","svelte-1o9ee78"),a(C,"type","text"),a(k,"for","password2"),a(k,"class","svelte-1o9ee78"),a(E,"type","text"),a(E,"class","svelte-1o9ee78"),Dt(E,"red-outline",t[5]!==t[6]),a(F,"class","grid-form-submit svelte-1o9ee78"),a(F,"type","submit"),a(r,"class","grid-form svelte-1o9ee78"),a(r,"method","post")},m(U,B){v(U,e,B),v(U,l,B),v(U,n,B),v(U,i,B),v(U,s,B),v(U,o,B),v(U,r,B),c(r,u),c(r,f),c(r,m),re(m,t[3]),c(r,h),c(r,p),c(r,_),c(r,$),re($,t[4]),c(r,A),c(r,y),c(r,N),c(r,C),re(C,t[5]),c(r,S),c(r,k),c(r,R),c(r,E),re(E,t[6]),c(r,M),c(r,F),c(r,D);for(let X=0;X<K.length;X+=1)K[X].m(r,null);ce||(w=[Q(m,"input",t[17]),Q($,"input",t[18]),Q(C,"input",t[19]),Q(E,"input",t[20]),Q(r,"submit",Nt(t[15]))],ce=!0)},p(U,B){if(B[0]&8&&m.value!==U[3]&&re(m,U[3]),B[0]&16&&$.value!==U[4]&&re($,U[4]),B[0]&32&&C.value!==U[5]&&re(C,U[5]),B[0]&64&&E.value!==U[6]&&re(E,U[6]),B[0]&96&&Dt(E,"red-outline",U[5]!==U[6]),B[0]&512){T=U[9];let X;for(X=0;X<T.length;X+=1){const be=di(U,T,X);K[X]?K[X].p(be,B):(K[X]=mi(be),K[X].c(),K[X].m(r,null))}for(;X<K.length;X+=1)K[X].d(1);K.length=T.length}},d(U){U&&b(e),U&&b(l),U&&b(n),U&&b(i),U&&b(s),U&&b(o),U&&b(r),bt(K,U),ce=!1,Ce(w)}}}function zo(t){let e,l,n,i,s;return{c(){e=d("input"),l=g(),n=d("button"),n.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-1o9ee78"/>',a(e,"name","name"),a(e,"type","text"),e.disabled=!0,a(n,"class","svelte-1o9ee78")},m(o,r){v(o,e,r),re(e,t[11].name),v(o,l,r),v(o,n,r),i||(s=[Q(e,"input",t[22]),Q(n,"click",Nt(t[12]))],i=!0)},p(o,r){r[0]&2048&&e.value!==o[11].name&&re(e,o[11].name)},d(o){o&&b(e),o&&b(l),o&&b(n),i=!1,Ce(s)}}}function Ho(t){let e,l,n,i,s;return{c(){e=d("input"),l=g(),n=d("button"),n.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-1o9ee78"/>',a(e,"name","name"),a(e,"type","text"),a(n,"class","svelte-1o9ee78")},m(o,r){v(o,e,r),re(e,t[3]),v(o,l,r),v(o,n,r),i||(s=[Q(e,"input",t[21]),Q(n,"click",Nt(t[12]))],i=!0)},p(o,r){r[0]&8&&e.value!==o[3]&&re(e,o[3])},d(o){o&&b(e),o&&b(l),o&&b(n),i=!1,Ce(s)}}}function Do(t){let e,l,n,i,s;return{c(){e=d("input"),l=g(),n=d("button"),n.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-1o9ee78"/>',a(e,"name","email"),a(e,"type","text"),e.disabled=!0,a(n,"class","svelte-1o9ee78")},m(o,r){v(o,e,r),re(e,t[11].email),v(o,l,r),v(o,n,r),i||(s=[Q(e,"input",t[24]),Q(n,"click",Nt(t[13]))],i=!0)},p(o,r){r[0]&2048&&e.value!==o[11].email&&re(e,o[11].email)},d(o){o&&b(e),o&&b(l),o&&b(n),i=!1,Ce(s)}}}function Fo(t){let e,l,n,i,s;return{c(){e=d("input"),l=g(),n=d("button"),n.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-1o9ee78"/>',a(e,"name","email"),a(e,"type","text"),a(n,"class","svelte-1o9ee78")},m(o,r){v(o,e,r),re(e,t[4]),v(o,l,r),v(o,n,r),i||(s=[Q(e,"input",t[23]),Q(n,"click",Nt(t[13]))],i=!0)},p(o,r){r[0]&16&&e.value!==o[4]&&re(e,o[4])},d(o){o&&b(e),o&&b(l),o&&b(n),i=!1,Ce(s)}}}function Uo(t){let e,l,n,i,s,o,r,u,f,m,h;return{c(){e=d("input"),l=g(),n=d("div"),i=g(),s=d("label"),s.textContent="Confirm Password",o=g(),r=d("input"),u=g(),f=d("button"),f.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-1o9ee78"/>',a(e,"name","password"),H(e,"text-align","center"),a(e,"type","text"),e.value="---",e.disabled=!0,a(s,"for","password"),a(s,"class","svelte-1o9ee78"),a(r,"name","password"),H(r,"text-align","center"),a(r,"type","text"),r.value="---",r.disabled=!0,a(f,"class","svelte-1o9ee78")},m(p,_){v(p,e,_),v(p,l,_),v(p,n,_),v(p,i,_),v(p,s,_),v(p,o,_),v(p,r,_),v(p,u,_),v(p,f,_),m||(h=Q(f,"click",Nt(t[14])),m=!0)},p:J,d(p){p&&b(e),p&&b(l),p&&b(n),p&&b(i),p&&b(s),p&&b(o),p&&b(r),p&&b(u),p&&b(f),m=!1,h()}}}function Go(t){let e,l,n,i,s,o,r,u,f,m,h;return{c(){e=d("input"),l=g(),n=d("div"),i=g(),s=d("label"),s.textContent="Confirm Password",o=g(),r=d("input"),u=g(),f=d("button"),f.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-1o9ee78"/>',a(e,"name","password"),a(e,"type","password"),a(s,"for","password"),a(s,"class","svelte-1o9ee78"),a(r,"name","password"),a(r,"type","password"),a(f,"class","svelte-1o9ee78")},m(p,_){v(p,e,_),re(e,t[5]),v(p,l,_),v(p,n,_),v(p,i,_),v(p,s,_),v(p,o,_),v(p,r,_),re(r,t[6]),v(p,u,_),v(p,f,_),m||(h=[Q(e,"input",t[25]),Q(r,"input",t[26]),Q(f,"click",Nt(t[14]))],m=!0)},p(p,_){_[0]&32&&e.value!==p[5]&&re(e,p[5]),_[0]&64&&r.value!==p[6]&&re(r,p[6])},d(p){p&&b(e),p&&b(l),p&&b(n),p&&b(i),p&&b(s),p&&b(o),p&&b(r),p&&b(u),p&&b(f),m=!1,Ce(h)}}}function pi(t){let e,l=t[28]+"",n;return{c(){e=d("label"),n=I(l),a(e,"class","grid-form-error svelte-1o9ee78"),a(e,"for","errors")},m(i,s){v(i,e,s),c(e,n)},p(i,s){s[0]&1024&&l!==(l=i[28]+"")&&te(n,l)},d(i){i&&b(e)}}}function mi(t){let e,l=t[28]+"",n;return{c(){e=d("label"),n=I(l),a(e,"class","grid-form-error svelte-1o9ee78"),a(e,"for","errors")},m(i,s){v(i,e,s),c(e,n)},p(i,s){s[0]&512&&l!==(l=i[28]+"")&&te(n,l)},d(i){i&&b(e)}}}function Bo(t){let e,l,n;function i(r,u){return r[11]==null?qo:Io}let s=i(t),o=s(t);return{c(){e=d("div"),l=d("h2"),l.textContent="Account Information",n=g(),o.c(),a(e,"class","page")},m(r,u){v(r,e,u),c(e,l),c(e,n),o.m(e,null)},p(r,u){s===(s=i(r))&&o?o.p(r,u):(o.d(1),o=s(r),o&&(o.c(),o.m(e,null)))},i:J,o:J,d(r){r&&b(e),o.d()}}}function Ko(t,e,l){let n;Ye(t,ht,B=>l(11,n=B));let i="",s=!1,o="",r=!1,u="",f="",m=!1,h="",p=!1;function _(){l(0,s=!s),s?l(3,i=Je(ht).name):l(3,i="")}function $(){l(1,r=!r),r?l(4,o=Je(ht).email):l(4,o="")}function A(){l(2,m=!m),m||l(5,u=l(6,f=""))}let y=[];async function N(){l(9,y=[]),i.length==0&&y.push("Name required"),o.length==0&&y.push("Email required"),u.length==0&&y.push("Password required"),u!==f&&y.push("Error: Passwords did not match"),!(y.length>0)&&await ht.createAccount(i,o,u,B=>{l(9,y=B)})}let C=[];async function S(){l(10,C=[]),s&&i.length==0&&C.push("Name required"),r&&o.length==0&&C.push("Email required"),m&&u.length==0&&C.push("Password required"),m&&u!==f&&C.push("Passwords did not match"),h.length==0&&C.push("Current password Required"),!(C.length>0)&&await ht.updateAccount(s?i:null,r?o:null,m?u:null,h,()=>{s&&_(),r&&$(),m&&A(),l(7,h="")},B=>l(10,C=B))}function k(){i=this.value,l(3,i)}function R(){o=this.value,l(4,o)}function E(){u=this.value,l(5,u)}function M(){f=this.value,l(6,f)}function F(){i=this.value,l(3,i)}function D(){n.name=this.value,ht.set(n)}function ce(){o=this.value,l(4,o)}function w(){n.email=this.value,ht.set(n)}function T(){u=this.value,l(5,u)}function K(){f=this.value,l(6,f)}function U(){h=this.value,l(7,h)}return t.$$.update=()=>{t.$$.dirty[0]&7&&l(8,p=s||r||m)},[s,r,m,i,o,u,f,h,p,y,C,n,_,$,A,N,S,k,R,E,M,F,D,ce,w,T,K,U]}class Jo extends Pe{constructor(e){super(),Ee(this,e,Ko,Bo,Ae,{},null,[-1,-1])}}class Wo extends Pe{constructor(e){super(),Ee(this,e,null,null,Ae,{})}}function Yo(t){let e,l,n,i,s;return{c(){e=d("div"),a(e,"slot","backdrop"),a(e,"class","backdrop svelte-rwmap")},m(o,r){v(o,e,r),n=!0,i||(s=[Q(e,"click",on),Q(e,"keypress",t[1])],i=!0)},p:J,i(o){n||(Ut(()=>{l||(l=Ol(e,wn,{},!0)),l.run(1)}),n=!0)},o(o){l||(l=Ol(e,wn,{},!1)),l.run(0),n=!1},d(o){o&&b(e),o&&l&&l.end(),i=!1,Ce(s)}}}function Qo(t){let e,l,n;return{c(){e=d("button"),e.innerHTML='<img src="/img/HnsSmall.svg" alt="H&amp;S"/>',a(e,"id","nav-button")},m(i,s){v(i,e,s),l||(n=Q(e,"click",t[3]),l=!0)},p:J,i:J,o:J,d(i){i&&b(e),l=!1,n()}}}function Xo(t){let e,l;return e=new Ni({}),{c(){ee(e.$$.fragment)},m(n,i){V(e,n,i),l=!0},p:J,i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){z(e.$$.fragment,n),l=!1},d(n){Z(e,n)}}}function Vo(t){let e,l,n,i,s,o,r,u,f,m,h,p,_,$,A,y,N,C,S,k,R,E,M;e=new Hs({props:{$$slots:{backdrop:[Yo]},$$scope:{ctx:t}}});const F=[Xo,Qo],D=[];function ce(w,T){return w[0]>=1e3?0:1}return n=ce(t),i=D[n]=F[n](t),o=new Tt({props:{component:Fs}}),u=new Tt({props:{path:"/",component:Ar}}),m=new Tt({props:{path:"/character",component:Or}}),p=new Tt({props:{path:"/character/:id",component:Br}}),$=new Tt({props:{path:"/dice",component:Co}}),y=new Tt({props:{path:"/dice/ageroller",component:No}}),C=new Tt({props:{path:"/dice/eyeroller",component:Lo}}),k=new Tt({props:{path:"/srd",component:Wo}}),E=new Tt({props:{path:"/account",component:Jo}}),{c(){ee(e.$$.fragment),l=g(),i.c(),s=g(),ee(o.$$.fragment),r=g(),ee(u.$$.fragment),f=g(),ee(m.$$.fragment),h=g(),ee(p.$$.fragment),_=g(),ee($.$$.fragment),A=g(),ee(y.$$.fragment),N=g(),ee(C.$$.fragment),S=g(),ee(k.$$.fragment),R=g(),ee(E.$$.fragment)},m(w,T){V(e,w,T),v(w,l,T),D[n].m(w,T),v(w,s,T),V(o,w,T),v(w,r,T),V(u,w,T),v(w,f,T),V(m,w,T),v(w,h,T),V(p,w,T),v(w,_,T),V($,w,T),v(w,A,T),V(y,w,T),v(w,N,T),V(C,w,T),v(w,S,T),V(k,w,T),v(w,R,T),V(E,w,T),M=!0},p(w,T){const K={};T&16&&(K.$$scope={dirty:T,ctx:w}),e.$set(K);let U=n;n=ce(w),n===U?D[n].p(w,T):(Qe(),z(D[U],1,1,()=>{D[U]=null}),Xe(),i=D[n],i?i.p(w,T):(i=D[n]=F[n](w),i.c()),L(i,1),i.m(s.parentNode,s))},i(w){M||(L(e.$$.fragment,w),L(i),L(o.$$.fragment,w),L(u.$$.fragment,w),L(m.$$.fragment,w),L(p.$$.fragment,w),L($.$$.fragment,w),L(y.$$.fragment,w),L(C.$$.fragment,w),L(k.$$.fragment,w),L(E.$$.fragment,w),M=!0)},o(w){z(e.$$.fragment,w),z(i),z(o.$$.fragment,w),z(u.$$.fragment,w),z(m.$$.fragment,w),z(p.$$.fragment,w),z($.$$.fragment,w),z(y.$$.fragment,w),z(C.$$.fragment,w),z(k.$$.fragment,w),z(E.$$.fragment,w),M=!1},d(w){Z(e,w),w&&b(l),D[n].d(w),w&&b(s),Z(o,w),w&&b(r),Z(u,w),w&&b(f),Z(m,w),w&&b(h),Z(p,w),w&&b(_),Z($,w),w&&b(A),Z(y,w),w&&b(N),Z(C,w),w&&b(S),Z(k,w),w&&b(R),Z(E,w)}}}function Zo(t){let e,l,n,i;return Ut(t[2]),e=new gs({props:{$$slots:{default:[Vo]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(s,o){V(e,s,o),l=!0,n||(i=Q(window,"resize",t[2]),n=!0)},p(s,[o]){const r={};o&17&&(r.$$scope={dirty:o,ctx:s}),e.$set(r)},i(s){l||(L(e.$$.fragment,s),l=!0)},o(s){z(e.$$.fragment,s),l=!1},d(s){Z(e,s),n=!1,i()}}}function xo(t,e,l){let n=0;function i(r){r.repeat||r.key==="Escape"&&(on(),r.preventDefault())}function s(){l(0,n=window.innerWidth)}return[n,i,s,()=>As(mr)]}class ec extends Pe{constructor(e){super(),Ee(this,e,xo,Zo,Ae,{})}}const tc=st(window.location.pathname);new ec({target:document.getElementById("app")});const lc=()=>{let t=window.location.pathname;const e=document.querySelector("body");new MutationObserver(n=>{n.forEach(()=>{t!==document.location.pathname&&(t=document.location.pathname,tc.set(t))})}).observe(e,{childList:!0,subtree:!0})};window.onload=lc;
