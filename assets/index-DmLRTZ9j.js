var Vo=Object.defineProperty;var Jo=(t,e,l)=>e in t?Vo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var oe=(t,e,l)=>(Jo(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function I(){}const Xl=t=>t;function dt(t,e){for(const l in e)t[l]=e[l];return t}function Ko(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function _o(t){return t()}function Hi(){return Object.create(null)}function Me(t){t.forEach(_o)}function mt(t){return typeof t=="function"}function _e(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Xn;function Nt(t,e){return t===e?!0:(Xn||(Xn=document.createElement("a")),Xn.href=e,t===Xn.href)}function Qo(t){return Object.keys(t).length===0}function wt(t,...e){if(t==null){for(const n of e)n(void 0);return I}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ht(t){let e;return wt(t,l=>e=l)(),e}function at(t,e,l){t.$$.on_destroy.push(wt(e,l))}function dl(t,e,l,n){if(t){const i=ho(t,e,l,n);return t[0](i)}}function ho(t,e,l,n){return t[1]&&n?dt(l.ctx.slice(),t[1](n(e))):l.ctx}function ml(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],r=Math.max(e.dirty.length,i.length);for(let o=0;o<r;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function gl(t,e,l,n,i,s){if(i){const r=ho(e,l,n,s);t.p(r,i)}}function bl(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function wi(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function qi(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function Xo(t){const e={};for(const l in t)e[l]=!0;return e}function Bi(t){return t??""}function We(t,e,l){return t.set(l),e}function Yl(t){return t&&mt(t.destroy)?t.destroy:I}function Di(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const po=typeof window<"u";let Un=po?()=>window.performance.now():()=>Date.now(),Li=po?t=>requestAnimationFrame(t):I;const vn=new Set;function mo(t){vn.forEach(e=>{e.c(t)||(vn.delete(e),e.f())}),vn.size!==0&&Li(mo)}function Yn(t){let e;return vn.size===0&&Li(mo),{promise:new Promise(l=>{vn.add(e={c:t,f:l})}),abort(){vn.delete(e)}}}function f(t,e){t.appendChild(e)}function go(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Zo(t){const e=d("style");return e.textContent="/* empty */",xo(go(t),e),e.sheet}function xo(t,e){return f(t.head||t,e),e.sheet}function S(t,e,l){t.insertBefore(e,l||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function ie(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function ea(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function k(){return O(" ")}function ye(){return O("")}function Q(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function xt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const ta=["width","height"];function Wi(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&ta.indexOf(n)===-1?t[n]=e[n]:m(t,n,e[n])}function la(t){return Array.from(t.childNodes)}function X(t,e){e=""+e,t.data!==e&&(t.data=e)}function be(t,e){t.value=e??""}function ue(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function V(t,e,l){t.classList.toggle(e,!!l)}function bo(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}class na{constructor(e=!1){oe(this,"is_svg",!1);oe(this,"e");oe(this,"n");oe(this,"t");oe(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,l,n=null){this.e||(this.is_svg?this.e=ea(l.nodeName):this.e=d(l.nodeType===11?"TEMPLATE":l.nodeName),this.t=l.tagName!=="TEMPLATE"?l:l.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let l=0;l<this.n.length;l+=1)S(this.t,this.n[l],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach($)}}function Sl(t,e){return new t(e)}const ii=new Map;let si=0;function ia(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function sa(t,e){const l={stylesheet:Zo(e),rules:{}};return ii.set(t,l),l}function Fn(t,e,l,n,i,s,r,o=0){const a=16.666/n;let c=`{
`;for(let b=0;b<=1;b+=a){const P=e+(l-e)*s(b);c+=b*100+`%{${r(P,1-P)}}
`}const u=c+`100% {${r(l,1-l)}}
}`,_=`__svelte_${ia(u)}_${o}`,p=go(t),{stylesheet:h,rules:g}=ii.get(p)||sa(p,t);g[_]||(g[_]=!0,h.insertRule(`@keyframes ${_} ${u}`,h.cssRules.length));const C=t.style.animation||"";return t.style.animation=`${C?`${C}, `:""}${_} ${n}ms linear ${i}ms 1 both`,si+=1,_}function Hn(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=l.length-n.length;i&&(t.style.animation=n.join(", "),si-=i,si||ra())}function ra(){Li(()=>{si||(ii.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&$(e)}),ii.clear())})}function oa(t,e,l,n){if(!e)return I;const i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return I;const{delay:s=0,duration:r=300,easing:o=Xl,start:a=Un()+s,end:c=a+r,tick:u=I,css:_}=l(t,{from:e,to:i},n);let p=!0,h=!1,g;function C(){_&&(g=Fn(t,0,1,r,s,o,_)),s||(h=!0)}function b(){_&&Hn(t,g),p=!1}return Yn(P=>{if(!h&&P>=a&&(h=!0),h&&P>=c&&(u(1,0),b()),!p)return!1;if(h){const v=P-a,G=0+1*o(v/r);u(G,1-G)}return!0}),C(),u(0,1),b}function aa(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:l,height:n}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=l,t.style.height=n,vo(t,i)}}function vo(t,e){const l=t.getBoundingClientRect();if(e.left!==l.left||e.top!==l.top){const n=getComputedStyle(t),i=n.transform==="none"?"":n.transform;t.style.transform=`${i} translate(${e.left-l.left}px, ${e.top-l.top}px)`}}let qn;function _l(t){qn=t}function Mn(){if(!qn)throw new Error("Function called outside component initialization");return qn}function wl(t){Mn().$$.on_mount.push(t)}function ko(t){Mn().$$.on_destroy.push(t)}function ca(){const t=Mn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=bo(e,l,{cancelable:n});return i.slice().forEach(r=>{r.call(t,s)}),!s.defaultPrevented}return!0}}function pi(t,e){return Mn().$$.context.set(t,e),e}function kn(t){return Mn().$$.context.get(t)}function Ui(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const bn=[],fe=[];let $n=[];const Ci=[],ua=Promise.resolve();let yi=!1;function fa(){yi||(yi=!0,ua.then(ji))}function Dt(t){$n.push(t)}function we(t){Ci.push(t)}const di=new Set;let dn=0;function ji(){if(dn!==0)return;const t=qn;do{try{for(;dn<bn.length;){const e=bn[dn];dn++,_l(e),_a(e.$$)}}catch(e){throw bn.length=0,dn=0,e}for(_l(null),bn.length=0,dn=0;fe.length;)fe.pop()();for(let e=0;e<$n.length;e+=1){const l=$n[e];di.has(l)||(di.add(l),l())}$n.length=0}while(bn.length);for(;Ci.length;)Ci.pop()();yi=!1,di.clear(),_l(t)}function _a(t){if(t.fragment!==null){t.update(),Me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Dt)}}function ha(t){const e=[],l=[];$n.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),$n=e}let En;function Oi(){return En||(En=Promise.resolve(),En.then(()=>{En=null})),En}function Vl(t,e,l){t.dispatchEvent(bo(`${e?"intro":"outro"}${l}`))}const ti=new Set;let Xt;function se(){Xt={r:0,c:[],p:Xt}}function re(){Xt.r||Me(Xt.c),Xt=Xt.p}function M(t,e){t&&t.i&&(ti.delete(t),t.i(e))}function A(t,e,l,n){if(t&&t.o){if(ti.has(t))return;ti.add(t),Xt.c.push(()=>{ti.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const Ni={duration:0};function $o(t,e,l){const n={direction:"in"};let i=e(t,l,n),s=!1,r,o,a=0;function c(){r&&Hn(t,r)}function u(){const{delay:p=0,duration:h=300,easing:g=Xl,tick:C=I,css:b}=i||Ni;b&&(r=Fn(t,0,1,h,p,g,b,a++)),C(0,1);const P=Un()+p,v=P+h;o&&o.abort(),s=!0,Dt(()=>Vl(t,!0,"start")),o=Yn(G=>{if(s){if(G>=v)return C(1,0),Vl(t,!0,"end"),c(),s=!1;if(G>=P){const L=g((G-P)/h);C(L,1-L)}}return s})}let _=!1;return{start(){_||(_=!0,Hn(t),mt(i)?(i=i(n),Oi().then(u)):u())},invalidate(){_=!1},end(){s&&(c(),s=!1)}}}function So(t,e,l){const n={direction:"out"};let i=e(t,l,n),s=!0,r;const o=Xt;o.r+=1;let a;function c(){const{delay:u=0,duration:_=300,easing:p=Xl,tick:h=I,css:g}=i||Ni;g&&(r=Fn(t,1,0,_,u,p,g));const C=Un()+u,b=C+_;Dt(()=>Vl(t,!1,"start")),"inert"in t&&(a=t.inert,t.inert=!0),Yn(P=>{if(s){if(P>=b)return h(0,1),Vl(t,!1,"end"),--o.r||Me(o.c),!1;if(P>=C){const v=p((P-C)/_);h(1-v,v)}}return s})}return mt(i)?Oi().then(()=>{i=i(n),c()}):c(),{end(u){u&&"inert"in t&&(t.inert=a),u&&i.tick&&i.tick(1,0),s&&(r&&Hn(t,r),s=!1)}}}function ri(t,e,l,n){let s=e(t,l,{direction:"both"}),r=n?0:1,o=null,a=null,c=null,u;function _(){c&&Hn(t,c)}function p(g,C){const b=g.b-r;return C*=Math.abs(b),{a:r,b:g.b,d:b,duration:C,start:g.start,end:g.start+C,group:g.group}}function h(g){const{delay:C=0,duration:b=300,easing:P=Xl,tick:v=I,css:G}=s||Ni,L={start:Un()+C,b:g};g||(L.group=Xt,Xt.r+=1),"inert"in t&&(g?u!==void 0&&(t.inert=u):(u=t.inert,t.inert=!0)),o||a?a=L:(G&&(_(),c=Fn(t,r,g,b,C,P,G)),g&&v(0,1),o=p(L,b),Dt(()=>Vl(t,g,"start")),Yn(z=>{if(a&&z>a.start&&(o=p(a,b),a=null,Vl(t,o.b,"start"),G&&(_(),c=Fn(t,r,o.b,o.duration,0,P,s.css))),o){if(z>=o.end)v(r=o.b,1-r),Vl(t,o.b,"end"),a||(o.b?_():--o.group.r||Me(o.group.c)),o=null;else if(z>=o.start){const U=z-o.start;r=o.a+o.d*P(U/o.duration),v(r,1-r)}}return!!(o||a)}))}return{run(g){mt(s)?Oi().then(()=>{s=s({direction:g?"in":"out"}),h(g)}):h(g)},end(){_(),o=a=null}}}function oi(t,e){const l=e.token={};function n(i,s,r,o){if(e.token!==l)return;e.resolved=o;let a=e.ctx;r!==void 0&&(a=a.slice(),a[r]=o);const c=i&&(e.current=i)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((_,p)=>{p!==s&&_&&(se(),A(_,1,1,()=>{e.blocks[p]===_&&(e.blocks[p]=null)}),re())}):e.block.d(1),c.c(),M(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[s]=c),u&&ji()}if(Ko(t)){const i=Mn();if(t.then(s=>{_l(i),n(e.then,1,e.value,s),_l(null)},s=>{if(_l(i),n(e.catch,2,e.error,s),_l(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function wo(t,e,l){const n=e.slice(),{resolved:i}=t;t.current===t.then&&(n[t.value]=i),t.current===t.catch&&(n[t.error]=i),t.block.p(n,l)}function H(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Co(t,e){A(t,1,1,()=>{e.delete(t.key)})}function pa(t,e){t.f(),Co(t,e)}function yo(t,e,l,n,i,s,r,o,a,c,u,_){let p=t.length,h=s.length,g=p;const C={};for(;g--;)C[t[g].key]=g;const b=[],P=new Map,v=new Map,G=[];for(g=h;g--;){const j=_(i,s,g),E=l(j);let Y=r.get(E);Y?G.push(()=>Y.p(j,e)):(Y=c(E,j),Y.c()),P.set(E,b[g]=Y),E in C&&v.set(E,Math.abs(g-C[E]))}const L=new Set,z=new Set;function U(j){M(j,1),j.m(o,u),r.set(j.key,j),u=j.first,h--}for(;p&&h;){const j=b[h-1],E=t[p-1],Y=j.key,x=E.key;j===E?(u=j.first,p--,h--):P.has(x)?!r.has(Y)||L.has(Y)?U(j):z.has(x)?p--:v.get(Y)>v.get(x)?(z.add(Y),U(j)):(L.add(x),p--):(a(E,r),p--)}for(;p--;){const j=t[p];P.has(j.key)||a(j,r)}for(;h;)U(b[h-1]);return Me(G),b}function pl(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const r=t[s],o=e[s];if(o){for(const a in r)a in o||(n[a]=1);for(const a in o)i[a]||(l[a]=o[a],i[a]=1);t[s]=o}else for(const a in r)i[a]=1}for(const r in n)r in l||(l[r]=void 0);return l}function Zt(t){return typeof t=="object"&&t!==null?t:{}}function Ce(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function W(t){t&&t.c()}function B(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Dt(()=>{const s=t.$$.on_mount.map(_o).filter(mt);t.$$.on_destroy?t.$$.on_destroy.push(...s):Me(s),t.$$.on_mount=[]}),i.forEach(Dt)}function D(t,e){const l=t.$$;l.fragment!==null&&(ha(l.after_update),Me(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function da(t,e){t.$$.dirty[0]===-1&&(bn.push(t),fa(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function me(t,e,l,n,i,s,r=null,o=[-1]){const a=qn;_l(t);const c=t.$$={fragment:null,ctx:[],props:s,update:I,not_equal:i,bound:Hi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Hi(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let u=!1;if(c.ctx=l?l(t,e.props||{},(_,p,...h)=>{const g=h.length?h[0]:p;return c.ctx&&i(c.ctx[_],c.ctx[_]=g)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](g),u&&da(t,_)),p}):[],c.update(),u=!0,Me(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const _=la(e.target);c.fragment&&c.fragment.l(_),_.forEach($)}else c.fragment&&c.fragment.c();e.intro&&M(t.$$.fragment),B(t,e.target,e.anchor),ji()}_l(a)}class ge{constructor(){oe(this,"$$");oe(this,"$$set")}$destroy(){D(this,1),this.$destroy=I}$on(e,l){if(!mt(l))return I;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Qo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ma="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ma);function Po(t){const e=t-1;return e*e*e+1}function Pi(t,{delay:e=0,duration:l=400,easing:n=Xl}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:n,css:s=>`opacity: ${s*i}`}}function Mi(t,{delay:e=0,duration:l=400,easing:n=Po,x:i=0,y:s=0,opacity:r=0}={}){const o=getComputedStyle(t),a=+o.opacity,c=o.transform==="none"?"":o.transform,u=a*(1-r),[_,p]=Di(i),[h,g]=Di(s);return{delay:e,duration:l,easing:n,css:(C,b)=>`
			transform: ${c} translate(${(1-C)*_}${p}, ${(1-C)*h}${g});
			opacity: ${a-u*b}`}}const Gi={},ai={},Mo={},Go=/^:(.+)/,Yi=4,ga=3,ba=2,va=1,ka=1,Bn=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),mi=t=>t.replace(/(^\/+|\/+$)/g,""),$a=(t,e)=>{const l=t.default?0:Bn(t.path).reduce((n,i)=>(n+=Yi,i===""?n+=ka:Go.test(i)?n+=ba:i[0]==="*"?n-=Yi+va:n+=ga,n),0);return{route:t,score:l,index:e}},Sa=t=>t.map($a).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index),Vi=(t,e)=>{let l,n;const[i]=e.split("?"),s=Bn(i),r=s[0]==="",o=Sa(t);for(let a=0,c=o.length;a<c;a++){const u=o[a].route;let _=!1;if(u.default){n={route:u,params:{},uri:e};continue}const p=Bn(u.path),h={},g=Math.max(s.length,p.length);let C=0;for(;C<g;C++){const b=p[C],P=s[C];if(b&&b[0]==="*"){const G=b==="*"?"*":b.slice(1);h[G]=s.slice(C).map(decodeURIComponent).join("/");break}if(typeof P>"u"){_=!0;break}const v=Go.exec(b);if(v&&!r){const G=decodeURIComponent(P);h[v[1]]=G}else if(b!==P){_=!0;break}}if(!_){l={route:u,params:h,uri:"/"+s.slice(0,C).join("/")};break}}return l||n||null},gi=(t,e)=>t+(e?`?${e}`:""),wa=(t,e)=>{if(t.startsWith("/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=Bn(l),r=Bn(i);if(s[0]==="")return gi(i,n);if(!s[0].startsWith(".")){const c=r.concat(s).join("/");return gi((i==="/"?"":"/")+c,n)}const o=r.concat(s),a=[];return o.forEach(c=>{c===".."?a.pop():c!=="."&&a.push(c)}),gi("/"+a.join("/"),n)},Ji=(t,e)=>`${mi(e==="/"?t:`${mi(t)}/${mi(e)}`)}/`,Ao=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),Ca=t=>{const e=location.host;return t.host===e||t.href.indexOf(`https://${e}`)===0||t.href.indexOf(`http://${e}`)===0},To=()=>typeof window<"u"&&"document"in window&&"location"in window,ya=t=>({active:t&4}),Ki=t=>({active:!!t[2]});function Pa(t){let e,l,n,i;const s=t[17].default,r=dl(s,t,t[16],Ki);let o=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],a={};for(let c=0;c<o.length;c+=1)a=dt(a,o[c]);return{c(){e=d("a"),r&&r.c(),Wi(e,a)},m(c,u){S(c,e,u),r&&r.m(e,null),l=!0,n||(i=Q(e,"click",t[5]),n=!0)},p(c,[u]){r&&r.p&&(!l||u&65540)&&gl(r,s,c,c[16],l?ml(s,c[16],u,ya):bl(c[16]),Ki),Wi(e,a=pl(o,[(!l||u&1)&&{href:c[0]},(!l||u&4)&&{"aria-current":c[2]},u&2&&c[1],u&64&&c[6]]))},i(c){l||(M(r,c),l=!0)},o(c){A(r,c),l=!1},d(c){c&&$(e),r&&r.d(c),n=!1,i()}}}function Ma(t,e,l){let n;const i=["to","replace","state","getProps","preserveScroll"];let s=qi(e,i),r,o,{$$slots:a={},$$scope:c}=e,{to:u="#"}=e,{replace:_=!1}=e,{state:p={}}=e,{getProps:h=()=>({})}=e,{preserveScroll:g=!1}=e;const C=kn(Gi);at(t,C,E=>l(14,r=E));const{base:b}=kn(ai);at(t,b,E=>l(15,o=E));const{navigate:P}=kn(Mo),v=ca();let G,L,z,U;const j=E=>{if(v("click",E),Ao(E)){E.preventDefault();const Y=r.pathname===G||_;P(G,{state:p,replace:Y,preserveScroll:g})}};return t.$$set=E=>{e=dt(dt({},e),wi(E)),l(6,s=qi(e,i)),"to"in E&&l(7,u=E.to),"replace"in E&&l(8,_=E.replace),"state"in E&&l(9,p=E.state),"getProps"in E&&l(10,h=E.getProps),"preserveScroll"in E&&l(11,g=E.preserveScroll),"$$scope"in E&&l(16,c=E.$$scope)},t.$$.update=()=>{t.$$.dirty&32896&&l(0,G=wa(u,o.uri)),t.$$.dirty&16385&&l(12,L=r.pathname.startsWith(G)),t.$$.dirty&16385&&l(13,z=G===r.pathname),t.$$.dirty&8192&&l(2,n=z?"page":void 0),l(1,U=h({location:r,href:G,isPartiallyCurrent:L,isCurrent:z,existingProps:s}))},[G,U,n,C,b,j,s,u,_,p,h,g,L,z,r,o,c,a]}class At extends ge{constructor(e){super(),me(this,e,Ma,Pa,_e,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const Ga=t=>({params:t&4}),Qi=t=>({params:t[2]});function Xi(t){let e,l,n,i;const s=[Ta,Aa],r=[];function o(a,c){return a[0]?0:1}return e=o(t),l=r[e]=s[e](t),{c(){l.c(),n=ye()},m(a,c){r[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?r[e].p(a,c):(se(),A(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,c):(l=r[e]=s[e](a),l.c()),M(l,1),l.m(n.parentNode,n))},i(a){i||(M(l),i=!0)},o(a){A(l),i=!1},d(a){a&&$(n),r[e].d(a)}}}function Aa(t){let e;const l=t[8].default,n=dl(l,t,t[7],Qi);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&132)&&gl(n,l,i,i[7],e?ml(l,i[7],s,Ga):bl(i[7]),Qi)},i(i){e||(M(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Ta(t){let e,l,n,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Oa,then:ja,catch:La,value:12,blocks:[,,,]};return oi(l=t[0],i),{c(){e=ye(),i.block.c()},m(s,r){S(s,e,r),i.block.m(s,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(s,r){t=s,i.ctx=t,r&1&&l!==(l=t[0])&&oi(l,i)||wo(i,t,r)},i(s){n||(M(i.block),n=!0)},o(s){for(let r=0;r<3;r+=1){const o=i.blocks[r];A(o)}n=!1},d(s){s&&$(e),i.block.d(s),i.token=null,i=null}}}function La(t){return{c:I,m:I,p:I,i:I,o:I,d:I}}function ja(t){var o;let e,l,n;const i=[t[2],t[3]];var s=((o=t[12])==null?void 0:o.default)||t[12];function r(a,c){let u={};for(let _=0;_<i.length;_+=1)u=dt(u,i[_]);return c!==void 0&&c&12&&(u=dt(u,pl(i,[c&4&&Zt(a[2]),c&8&&Zt(a[3])]))),{props:u}}return s&&(e=Sl(s,r(t))),{c(){e&&W(e.$$.fragment),l=ye()},m(a,c){e&&B(e,a,c),S(a,l,c),n=!0},p(a,c){var u;if(c&1&&s!==(s=((u=a[12])==null?void 0:u.default)||a[12])){if(e){se();const _=e;A(_.$$.fragment,1,0,()=>{D(_,1)}),re()}s?(e=Sl(s,r(a,c)),W(e.$$.fragment),M(e.$$.fragment,1),B(e,l.parentNode,l)):e=null}else if(s){const _=c&12?pl(i,[c&4&&Zt(a[2]),c&8&&Zt(a[3])]):{};e.$set(_)}},i(a){n||(e&&M(e.$$.fragment,a),n=!0)},o(a){e&&A(e.$$.fragment,a),n=!1},d(a){a&&$(l),e&&D(e,a)}}}function Oa(t){return{c:I,m:I,p:I,i:I,o:I,d:I}}function Na(t){let e,l,n=t[1]&&t[1].route===t[5]&&Xi(t);return{c(){n&&n.c(),e=ye()},m(i,s){n&&n.m(i,s),S(i,e,s),l=!0},p(i,[s]){i[1]&&i[1].route===i[5]?n?(n.p(i,s),s&2&&M(n,1)):(n=Xi(i),n.c(),M(n,1),n.m(e.parentNode,e)):n&&(se(),A(n,1,1,()=>{n=null}),re())},i(i){l||(M(n),l=!0)},o(i){A(n),l=!1},d(i){i&&$(e),n&&n.d(i)}}}function Ra(t,e,l){let n,{$$slots:i={},$$scope:s}=e,{path:r=""}=e,{component:o=null}=e,a={},c={};const{registerRoute:u,unregisterRoute:_,activeRoute:p}=kn(ai);at(t,p,g=>l(1,n=g));const h={path:r,default:r===""};return u(h),ko(()=>{_(h)}),t.$$set=g=>{l(11,e=dt(dt({},e),wi(g))),"path"in g&&l(6,r=g.path),"component"in g&&l(0,o=g.component),"$$scope"in g&&l(7,s=g.$$scope)},t.$$.update=()=>{if(n&&n.route===h){l(2,a=n.params);const{component:g,path:C,...b}=e;l(3,c=b),g&&(g.toString().startsWith("class ")?l(0,o=g):l(0,o=g())),To()&&!n.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=wi(e),[o,n,a,c,p,h,r,s,i]}class ft extends ge{constructor(e){super(),me(this,e,Ra,Na,_e,{path:6,component:0})}}const mn=[];function Ia(t,e){return{subscribe:pt(t,e).subscribe}}function pt(t,e=I){let l;const n=new Set;function i(o){if(_e(t,o)&&(t=o,l)){const a=!mn.length;for(const c of n)c[1](),mn.push(c,t);if(a){for(let c=0;c<mn.length;c+=2)mn[c][0](mn[c+1]);mn.length=0}}}function s(o){i(o(t))}function r(o,a=I){const c=[o,a];return n.add(c),n.size===1&&(l=e(i,s)||I),o(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:r}}function Ea(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Ia(l,(r,o)=>{let a=!1;const c=[];let u=0,_=I;const p=()=>{if(u)return;_();const g=e(n?c[0]:c,r,o);s?r(g):_=mt(g)?g:I},h=i.map((g,C)=>wt(g,b=>{c[C]=b,u&=~(1<<C),a&&p()},()=>{u|=1<<C}));return a=!0,p(),function(){Me(h),_(),a=!1}})}const bi=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),za=t=>{const e=[];let l=bi(t);return{get location(){return l},listen(n){e.push(n);const i=()=>{l=bi(t),n({location:l,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const s=e.indexOf(n);e.splice(s,1)}},navigate(n,{state:i,replace:s=!1,preserveScroll:r=!1,blurActiveElement:o=!0}={}){i={...i,key:Date.now()+""};try{s?t.history.replaceState(i,"",n):t.history.pushState(i,"",n)}catch{t.location[s?"replace":"assign"](n)}l=bi(t),e.forEach(a=>a({location:l,action:"PUSH",preserveScroll:r})),o&&document.activeElement.blur()}}},Fa=(t="/")=>{let e=0;const l=[{pathname:t,search:""}],n=[];return{get location(){return l[e]},addEventListener(i,s){},removeEventListener(i,s){},history:{get entries(){return l},get index(){return e},get state(){return n[e]},pushState(i,s,r){const[o,a=""]=r.split("?");e++,l.push({pathname:o,search:a}),n.push(i)},replaceState(i,s,r){const[o,a=""]=r.split("?");l[e]={pathname:o,search:a},n[e]=i}}}},Lo=za(To()?window:Fa()),{navigate:ui}=Lo,Ha=t=>({route:t&4,location:t&2}),Zi=t=>({route:t[2]&&t[2].uri,location:t[1]}),qa=t=>({route:t&4,location:t&2}),xi=t=>({route:t[2]&&t[2].uri,location:t[1]});function Ba(t){let e;const l=t[15].default,n=dl(l,t,t[14],Zi);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&16390)&&gl(n,l,i,i[14],e?ml(l,i[14],s,Ha):bl(i[14]),Zi)},i(i){e||(M(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Da(t){let e=t[1].pathname,l,n,i=es(t);return{c(){i.c(),l=ye()},m(s,r){i.m(s,r),S(s,l,r),n=!0},p(s,r){r&2&&_e(e,e=s[1].pathname)?(se(),A(i,1,1,I),re(),i=es(s),i.c(),M(i,1),i.m(l.parentNode,l)):i.p(s,r)},i(s){n||(M(i),n=!0)},o(s){A(i),n=!1},d(s){s&&$(l),i.d(s)}}}function es(t){let e,l,n,i;const s=t[15].default,r=dl(s,t,t[14],xi);return{c(){e=d("div"),r&&r.c()},m(o,a){S(o,e,a),r&&r.m(e,null),i=!0},p(o,a){r&&r.p&&(!i||a&16390)&&gl(r,s,o,o[14],i?ml(s,o[14],a,qa):bl(o[14]),xi)},i(o){i||(M(r,o),o&&Dt(()=>{i&&(n&&n.end(1),l=$o(e,t[3],{}),l.start())}),i=!0)},o(o){A(r,o),l&&l.invalidate(),o&&(n=So(e,t[3],{})),i=!1},d(o){o&&$(e),r&&r.d(o),o&&n&&n.end()}}}function Wa(t){let e,l,n,i;const s=[Da,Ba],r=[];function o(a,c){return a[0]?0:1}return e=o(t),l=r[e]=s[e](t),{c(){l.c(),n=ye()},m(a,c){r[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?r[e].p(a,c):(se(),A(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,c):(l=r[e]=s[e](a),l.c()),M(l,1),l.m(n.parentNode,n))},i(a){i||(M(l),i=!0)},o(a){A(l),i=!1},d(a){a&&$(n),r[e].d(a)}}}function Ua(t,e,l){let n,i,s,r,{$$slots:o={},$$scope:a}=e,{basepath:c="/"}=e,{url:u=null}=e,{viewtransition:_=null}=e,{history:p=Lo}=e;const h=(Y,x,J)=>{const ee=_(J);return typeof(ee==null?void 0:ee.fn)=="function"?ee.fn(Y,ee):ee};pi(Mo,p);const g=kn(Gi),C=kn(ai),b=pt([]);at(t,b,Y=>l(12,i=Y));const P=pt(null);at(t,P,Y=>l(2,r=Y));let v=!1;const G=g||pt(u?{pathname:u}:p.location);at(t,G,Y=>l(1,n=Y));const L=C?C.routerBase:pt({path:c,uri:c});at(t,L,Y=>l(13,s=Y));const z=Ea([L,P],([Y,x])=>{if(!x)return Y;const{path:J}=Y,{route:ee,uri:ae}=x;return{path:ee.default?J:ee.path.replace(/\*.*$/,""),uri:ae}}),U=Y=>{const{path:x}=s;let{path:J}=Y;if(Y._path=J,Y.path=Ji(x,J),typeof window>"u"){if(v)return;const ee=Vi([Y],n.pathname);ee&&(P.set(ee),v=!0)}else b.update(ee=>[...ee,Y])},j=Y=>{b.update(x=>x.filter(J=>J!==Y))};let E=!1;return g||(wl(()=>p.listen(x=>{l(11,E=x.preserveScroll||!1),G.set(x.location)})),pi(Gi,G)),pi(ai,{activeRoute:P,base:L,routerBase:z,registerRoute:U,unregisterRoute:j}),t.$$set=Y=>{"basepath"in Y&&l(8,c=Y.basepath),"url"in Y&&l(9,u=Y.url),"viewtransition"in Y&&l(0,_=Y.viewtransition),"history"in Y&&l(10,p=Y.history),"$$scope"in Y&&l(14,a=Y.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:Y}=s;b.update(x=>x.map(J=>Object.assign(J,{path:Ji(Y,J._path)})))}if(t.$$.dirty&6146){const Y=Vi(i,n.pathname);P.set(Y&&{...Y,preserveScroll:E})}},[_,n,r,h,b,P,G,L,c,u,p,E,i,s,a,o]}class fi extends ge{constructor(e){super(),me(this,e,Ua,Wa,_e,{basepath:8,url:9,viewtransition:0,history:10})}}const Jl=t=>{const e=l=>{const n=l.currentTarget;(n.target===""||n.target==="_self")&&Ca(n)&&Ao(l)&&(l.preventDefault(),ui(n.pathname+n.search,{replace:n.hasAttribute("replace"),preserveScroll:n.hasAttribute("preserveScroll")}))};return t.addEventListener("click",e),{destroy(){t.removeEventListener("click",e)}}},Kl=pt(!1),Ql=pt(null),hl=pt([]),jo=pt(null);function li(){var l,n;const t=ht(hl).length,e=ht(hl)[t-1];return(l=e==null?void 0:e.callbacks)!=null&&l.onBeforeClose&&((n=e==null?void 0:e.callbacks)==null?void 0:n.onBeforeClose())===!1?!1:(hl.set([]),!0)}function Ya(t=1){var n,i;const e=ht(hl).length,l=ht(hl)[e-1];return ht(Ql)||(n=l==null?void 0:l.callbacks)!=null&&n.onBeforeClose&&((i=l==null?void 0:l.callbacks)==null?void 0:i.onBeforeClose())===!1?!1:(ht(Kl)&&e>0&&Ql.set(!0),Kl.set(!1),jo.set("pop"),Va(t),!0)}function Ri(){return Ya(1)}function Oo(t,e,l){ht(Ql)||(jo.set("push"),ht(Kl)&&ht(hl).length&&Ql.set(!0),Kl.set(!1),hl.update(n=>[...n,{component:t,props:e}]))}function Va(t=1){hl.update(e=>e.slice(0,Math.max(0,e.length-t)))}function ts(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}const Ja=t=>({}),ls=t=>({}),Ka=t=>({}),ns=t=>({});function is(t){let e;const l=t[4].backdrop,n=dl(l,t,t[3],ns);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&gl(n,l,i,i[3],e?ml(l,i[3],s,Ka):bl(i[3]),ns)},i(i){e||(M(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Qa(t){let e,l,n;const i=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var s=t[9].component;function r(o,a){let c={};for(let u=0;u<i.length;u+=1)c=dt(c,i[u]);return a!==void 0&&a&3&&(c=dt(c,pl(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},a&1&&Zt(o[9].props)]))),{props:c}}return s&&(e=Sl(s,r(t)),e.$on("introstart",t[7]),e.$on("outroend",t[8])),{c(){e&&W(e.$$.fragment),l=ye()},m(o,a){e&&B(e,o,a),S(o,l,a),n=!0},p(o,a){if(a&1&&s!==(s=o[9].component)){if(e){se();const c=e;A(c.$$.fragment,1,0,()=>{D(c,1)}),re()}s?(e=Sl(s,r(o,a)),e.$on("introstart",o[7]),e.$on("outroend",o[8]),W(e.$$.fragment),M(e.$$.fragment,1),B(e,l.parentNode,l)):e=null}else if(s){const c=a&3?pl(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},a&1&&Zt(o[9].props)]):{};e.$set(c)}},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&A(e.$$.fragment,o),n=!1},d(o){o&&$(l),e&&D(e,o)}}}function Xa(t){let e,l,n,i={ctx:t,current:null,token:null,hasCatch:!1,pending:ec,then:xa,catch:Za,value:12,blocks:[,,,]};return oi(l=rs(t[9].component),i),{c(){e=ye(),i.block.c()},m(s,r){S(s,e,r),i.block.m(s,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(s,r){t=s,i.ctx=t,r&1&&l!==(l=rs(t[9].component))&&oi(l,i)||wo(i,t,r)},i(s){n||(M(i.block),n=!0)},o(s){for(let r=0;r<3;r+=1){const o=i.blocks[r];A(o)}n=!1},d(s){s&&$(e),i.block.d(s),i.token=null,i=null}}}function Za(t){return{c:I,m:I,p:I,i:I,o:I,d:I}}function xa(t){let e,l,n;const i=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var s=t[12];function r(o,a){let c={};for(let u=0;u<i.length;u+=1)c=dt(c,i[u]);return a!==void 0&&a&3&&(c=dt(c,pl(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},a&1&&Zt(o[9].props)]))),{props:c}}return s&&(e=Sl(s,r(t)),e.$on("introstart",t[5]),e.$on("outroend",t[6])),{c(){e&&W(e.$$.fragment),l=k()},m(o,a){e&&B(e,o,a),S(o,l,a),n=!0},p(o,a){if(a&1&&s!==(s=o[12])){if(e){se();const c=e;A(c.$$.fragment,1,0,()=>{D(c,1)}),re()}s?(e=Sl(s,r(o,a)),e.$on("introstart",o[5]),e.$on("outroend",o[6]),W(e.$$.fragment),M(e.$$.fragment,1),B(e,l.parentNode,l)):e=null}else if(s){const c=a&3?pl(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},a&1&&Zt(o[9].props)]):{};e.$set(c)}},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&A(e.$$.fragment,o),n=!1},d(o){o&&$(l),e&&D(e,o)}}}function ec(t){let e,l;const n=t[4].loading,i=dl(n,t,t[3],ls);return{c(){i&&i.c(),e=k()},m(s,r){i&&i.m(s,r),S(s,e,r),l=!0},p(s,r){i&&i.p&&(!l||r&8)&&gl(i,n,s,s[3],l?ml(n,s[3],r,Ja):bl(s[3]),ls)},i(s){l||(M(i,s),l=!0)},o(s){A(i,s),l=!1},d(s){s&&$(e),i&&i.d(s)}}}function ss(t,e){let l,n,i,s,r,o;const a=[Xa,Qa],c=[];function u(_,p){return p&1&&(n=null),n==null&&(n=!!nc(_[9].component)),n?0:1}return i=u(e,-1),s=c[i]=a[i](e),{key:t,first:null,c(){l=ye(),s.c(),r=ye(),this.first=l},m(_,p){S(_,l,p),c[i].m(_,p),S(_,r,p),o=!0},p(_,p){e=_;let h=i;i=u(e,p),i===h?c[i].p(e,p):(se(),A(c[h],1,1,()=>{c[h]=null}),re(),s=c[i],s?s.p(e,p):(s=c[i]=a[i](e),s.c()),M(s,1),s.m(r.parentNode,r))},i(_){o||(M(s),o=!0)},o(_){A(s),o=!1},d(_){_&&($(l),$(r)),c[i].d(_)}}}function tc(t){let e=[],l=new Map,n,i,s=H(t[0]);const r=o=>o[11];for(let o=0;o<s.length;o+=1){let a=ts(t,s,o),c=r(a);l.set(c,e[o]=ss(c,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ye()},m(o,a){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,a);S(o,n,a),i=!0},p(o,a){a&15&&(s=H(o[0]),se(),e=yo(e,a,r,1,o,s,l,n.parentNode,Co,ss,n,ts),re())},i(o){if(!i){for(let a=0;a<s.length;a+=1)M(e[a]);i=!0}},o(o){for(let a=0;a<e.length;a+=1)A(e[a]);i=!1},d(o){o&&$(n);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function lc(t){let e,l,n=t[0].length>0&&is(t);const i=t[4].default,s=dl(i,t,t[3],null),r=s||tc(t);return{c(){n&&n.c(),e=k(),r&&r.c()},m(o,a){n&&n.m(o,a),S(o,e,a),r&&r.m(o,a),l=!0},p(o,[a]){o[0].length>0?n?(n.p(o,a),a&1&&M(n,1)):(n=is(o),n.c(),M(n,1),n.m(e.parentNode,e)):n&&(se(),A(n,1,1,()=>{n=null}),re()),s?s.p&&(!l||a&8)&&gl(s,i,o,o[3],l?ml(i,o[3],a,null):bl(o[3]),null):r&&r.p&&(!l||a&15)&&r.p(o,l?a:-1)},i(o){l||(M(n),M(r,o),l=!0)},o(o){A(n),A(r,o),l=!1},d(o){o&&$(e),n&&n.d(o),r&&r.d(o)}}}function nc(t){return typeof t.prototype>"u"}async function rs(t){return t().then(e=>e.default)}function ic(t,e,l){let n,i,s;at(t,hl,p=>l(0,n=p)),at(t,Ql,p=>l(1,i=p)),at(t,Kl,p=>l(2,s=p));let{$$slots:r={},$$scope:o}=e;const a=()=>{We(Kl,s=!0,s)},c=()=>{We(Ql,i=!1,i)},u=()=>{We(Kl,s=!0,s)},_=()=>{We(Ql,i=!1,i)};return t.$$set=p=>{"$$scope"in p&&l(3,o=p.$$scope)},[n,i,s,o,r,a,c,u,_]}class sc extends ge{constructor(e){super(),me(this,e,ic,lc,_e,{})}}function rc(t,{from:e,to:l},n={}){const i=getComputedStyle(t),s=i.transform==="none"?"":i.transform,[r,o]=i.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*r/l.width-(l.left+r),c=e.top+e.height*o/l.height-(l.top+o),{delay:u=0,duration:_=h=>Math.sqrt(h)*120,easing:p=Po}=n;return{delay:u,duration:mt(_)?_(Math.sqrt(a*a+c*c)):_,easing:p,css:(h,g)=>{const C=g*a,b=g*c,P=h+g*e.width/l.width,v=h+g*e.height/l.height;return`transform: ${s} translate(${C}px, ${b}px) scale(${P}, ${v});`}}}const oc={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function ac(){const{subscribe:t,update:e}=pt(new Array),l={};let n=0;function i(c){return c instanceof Object}function s(c="default",u={}){return l[c]=u,l}function r(c,u){const _={target:"default",...i(c)?c:{...u,msg:c}},p=l[_.target]||{},h={...oc,...p,..._,theme:{...p.theme,..._.theme},classes:[...p.classes||[],..._.classes||[]],id:++n};return e(g=>h.reversed?[...g,h]:[h,...g]),n}function o(c){e(u=>{if(!u.length||c===0)return[];if(typeof c=="function")return u.filter(p=>c(p));if(i(c))return u.filter(p=>p.target!==c.target);const _=c||Math.max(...u.map(p=>p.id));return u.filter(p=>p.id!==_)})}function a(c,u){const _=i(c)?c:{...u,id:c};e(p=>{const h=p.findIndex(g=>g.id===_.id);return h>-1&&(p[h]={...p[h],..._}),p})}return{subscribe:t,push:r,pop:o,set:a,_init:s}}const ci=ac();function os(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ai(t,e){if(t===e||t!==t)return()=>t;const l=typeof t;if(l!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((i,s)=>Ai(t[s],i));return i=>n.map(s=>s(i))}if(l==="object"){if(!t||!e)throw new Error("Object cannot be null");if(os(t)&&os(e)){t=t.getTime(),e=e.getTime();const s=e-t;return r=>new Date(t+r*s)}const n=Object.keys(e),i={};return n.forEach(s=>{i[s]=Ai(t[s],e[s])}),s=>{const r={};return n.forEach(o=>{r[o]=i[o](s)}),r}}if(l==="number"){const n=e-t;return i=>t+i*n}throw new Error(`Cannot interpolate ${l} values`)}function cc(t,e={}){const l=pt(t);let n,i=t;function s(r,o){if(t==null)return l.set(t=r),Promise.resolve();i=r;let a=n,c=!1,{delay:u=0,duration:_=400,easing:p=Xl,interpolate:h=Ai}=dt(dt({},e),o);if(_===0)return a&&(a.abort(),a=null),l.set(t=i),Promise.resolve();const g=Un()+u;let C;return n=Yn(b=>{if(b<g)return!0;c||(C=h(t,r),typeof _=="function"&&(_=_(t,r)),c=!0),a&&(a.abort(),a=null);const P=b-g;return P>_?(l.set(t=r),!1):(l.set(t=C(p(P/_))),!0)}),n.promise}return{set:s,update:(r,o)=>s(r(i,t),o),subscribe:l.subscribe}}function uc(t){let e,l=t[0].msg+"",n;return{c(){e=new na(!1),n=ye(),e.a=n},m(i,s){e.m(l,i,s),S(i,n,s)},p(i,s){s&1&&l!==(l=i[0].msg+"")&&e.p(l)},i:I,o:I,d(i){i&&($(n),e.d())}}}function fc(t){let e,l,n;const i=[t[2]];var s=t[0].component.src;function r(o,a){let c={};for(let u=0;u<i.length;u+=1)c=dt(c,i[u]);return a!==void 0&&a&4&&(c=dt(c,pl(i,[Zt(o[2])]))),{props:c}}return s&&(e=Sl(s,r(t))),{c(){e&&W(e.$$.fragment),l=ye()},m(o,a){e&&B(e,o,a),S(o,l,a),n=!0},p(o,a){if(a&1&&s!==(s=o[0].component.src)){if(e){se();const c=e;A(c.$$.fragment,1,0,()=>{D(c,1)}),re()}s?(e=Sl(s,r(o,a)),W(e.$$.fragment),M(e.$$.fragment,1),B(e,l.parentNode,l)):e=null}else if(s){const c=a&4?pl(i,[Zt(o[2])]):{};e.$set(c)}},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&A(e.$$.fragment,o),n=!1},d(o){o&&$(l),e&&D(e,o)}}}function as(t){let e,l,n;return{c(){e=d("div"),m(e,"class","_toastBtn pe svelte-95rq8t"),m(e,"role","button"),m(e,"tabindex","0")},m(i,s){S(i,e,s),l||(n=[Q(e,"click",t[4]),Q(e,"keydown",t[8])],l=!0)},p:I,d(i){i&&$(e),l=!1,Me(n)}}}function _c(t){let e,l,n,i,s,r,o,a,c,u;const _=[fc,uc],p=[];function h(C,b){return C[0].component?0:1}n=h(t),i=p[n]=_[n](t);let g=t[0].dismissable&&as(t);return{c(){e=d("div"),l=d("div"),i.c(),s=k(),g&&g.c(),r=k(),o=d("progress"),m(l,"class","_toastMsg svelte-95rq8t"),V(l,"pe",t[0].component),m(o,"class","_toastBar svelte-95rq8t"),o.value=t[1],m(e,"role","status"),m(e,"class","_toastItem svelte-95rq8t"),V(e,"pe",t[0].pausable)},m(C,b){S(C,e,b),f(e,l),p[n].m(l,null),f(e,s),g&&g.m(e,null),f(e,r),f(e,o),a=!0,c||(u=[Q(e,"mouseenter",t[9]),Q(e,"mouseleave",t[6])],c=!0)},p(C,[b]){let P=n;n=h(C),n===P?p[n].p(C,b):(se(),A(p[P],1,1,()=>{p[P]=null}),re(),i=p[n],i?i.p(C,b):(i=p[n]=_[n](C),i.c()),M(i,1),i.m(l,null)),(!a||b&1)&&V(l,"pe",C[0].component),C[0].dismissable?g?g.p(C,b):(g=as(C),g.c(),g.m(e,r)):g&&(g.d(1),g=null),(!a||b&2)&&(o.value=C[1]),(!a||b&1)&&V(e,"pe",C[0].pausable)},i(C){a||(M(i),a=!0)},o(C){A(i),a=!1},d(C){C&&$(e),p[n].d(),g&&g.d(),c=!1,Me(u)}}}function vi(t,e="undefined"){return typeof t===e}function hc(t,e,l){let n,{item:i}=e,s=i.initial,r=s,o=!1,a={},c;const u=cc(i.initial,{duration:i.duration,easing:Xl});at(t,u,v=>l(1,n=v));function _(){ci.pop(i.id)}function p(){(n===1||n===0)&&_()}function h(){!o&&n!==s&&(u.set(n,{duration:0}),o=!0)}function g(){if(o){const v=i.duration,G=v-v*((n-r)/(s-r));u.set(s,{duration:G}).then(p),o=!1}}function C(v=document){if(vi(v.hidden))return;const G=()=>v.hidden?h():g(),L="visibilitychange";v.addEventListener(L,G),c=()=>v.removeEventListener(L,G),G()}wl(C),ko(()=>{vi(i.onpop,"function")&&i.onpop(i.id),c&&c()});const b=v=>{v instanceof KeyboardEvent&&["Enter"," "].includes(v.key)&&_()},P=()=>{i.pausable&&h()};return t.$$set=v=>{"item"in v&&l(0,i=v.item)},t.$$.update=()=>{if(t.$$.dirty&1&&(vi(i.progress)||l(0,i.next=i.progress,i)),t.$$.dirty&131&&s!==i.next&&(l(7,s=i.next),r=n,o=!1,u.set(s).then(p)),t.$$.dirty&1&&i.component){const{props:v={},sendIdTo:G}=i.component;l(2,a={...v,...G&&{[G]:i.id}})}},[i,n,a,u,_,h,g,s,b,P]}class pc extends ge{constructor(e){super(),me(this,e,hc,_c,_e,{item:0})}}function cs(t,e,l){const n=t.slice();return n[4]=e[l],n}function us(t,e){let l,n,i,s,r,o,a,c,u=I,_;return n=new pc({props:{item:e[4]}}),{key:t,first:null,c(){var p;l=d("li"),W(n.$$.fragment),i=k(),m(l,"class",s=Bi((p=e[4].classes)==null?void 0:p.join(" "))+" svelte-1u812xz"),m(l,"style",r=fs(e[4].theme)),this.first=l},m(p,h){S(p,l,h),B(n,l,null),f(l,i),_=!0},p(p,h){var C;e=p;const g={};h&1&&(g.item=e[4]),n.$set(g),(!_||h&1&&s!==(s=Bi((C=e[4].classes)==null?void 0:C.join(" "))+" svelte-1u812xz"))&&m(l,"class",s),(!_||h&1&&r!==(r=fs(e[4].theme)))&&m(l,"style",r)},r(){c=l.getBoundingClientRect()},f(){aa(l),u(),vo(l,c)},a(){u(),u=oa(l,c,rc,{duration:200})},i(p){_||(M(n.$$.fragment,p),p&&Dt(()=>{_&&(a&&a.end(1),o=$o(l,Mi,e[4].intro),o.start())}),_=!0)},o(p){A(n.$$.fragment,p),o&&o.invalidate(),p&&(a=So(l,Pi,{})),_=!1},d(p){p&&$(l),D(n),p&&a&&a.end()}}}function dc(t){let e,l=[],n=new Map,i,s=H(t[0]);const r=o=>o[4].id;for(let o=0;o<s.length;o+=1){let a=cs(t,s,o),c=r(a);n.set(c,l[o]=us(c,a))}return{c(){e=d("ul");for(let o=0;o<l.length;o+=1)l[o].c();m(e,"class","_toastContainer svelte-1u812xz")},m(o,a){S(o,e,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);i=!0},p(o,[a]){if(a&1){s=H(o[0]),se();for(let c=0;c<l.length;c+=1)l[c].r();l=yo(l,a,r,1,o,s,n,e,pa,us,null,cs);for(let c=0;c<l.length;c+=1)l[c].a();re()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)M(l[a]);i=!0}},o(o){for(let a=0;a<l.length;a+=1)A(l[a]);i=!1},d(o){o&&$(e);for(let a=0;a<l.length;a+=1)l[a].d()}}}function fs(t){return t?Object.keys(t).reduce((e,l)=>`${e}${l}:${t[l]};`,""):void 0}function mc(t,e,l){let n;at(t,ci,o=>l(3,n=o));let{options:i={}}=e,{target:s="default"}=e,r=[];return t.$$set=o=>{"options"in o&&l(1,i=o.options),"target"in o&&l(2,s=o.target)},t.$$.update=()=>{t.$$.dirty&6&&ci._init(s,i),t.$$.dirty&12&&l(0,r=n.filter(o=>o.target===s))},[r,i,s,n]}class gc extends ge{constructor(e){super(),me(this,e,mc,dc,_e,{options:1,target:2})}}const bc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _i(t){return typeof t=="string"&&bc.test(t)}const Ii="00000000-0000-0000-0000-000000000000";function Qt(t,e,l){return typeof t=="string"&&(t=Number.parseInt(t)),typeof t!="number"||isNaN(t)?e:Math.max(e,Math.min(l,t))}var de=(t=>(t.Candor="Candor",t.Conscious="Conscious",t.Cunning="Cunning",t.Might="Might",t.Artifice="Artifice",t.Tuning="Tuning",t))(de||{});const Gt=["Candor","Conscious","Cunning"],Bt=["Might","Artifice","Tuning"],vc=[...Gt,...Bt],Sn=["Persuasion","Insight","Deception"],Dn=["Captivation","Awareness","Portrayal","Poignancy","Composure","Pressure"];[...Sn,...Dn];var No=(t=>(t.Scouting="Scouting",t.Analysis="Analysis",t.Sensing="Sensing",t.Sneaking="Sneaking",t.Finesse="Finesse",t.Hiding="Hiding",t.Athletics="Athletics",t.History="History",t.Discord="Discord",t.Security="Security",t.Rumor="Rumor",t.Harmony="Harmony",t.Wayfaring="Wayfaring",t.Tinkering="Tinkering",t.Rituals="Rituals",t))(No||{});const wn=["Scouting","Analysis","Sensing","Sneaking","Finesse","Hiding"],Wn=["Athletics","History","Discord","Security","Rumor","Harmony","Wayfaring","Tinkering","Rituals"];[...wn,...Wn];const kc={Persuasion:"Candor",Insight:"Conscious",Deception:"Cunning",Captivation:"Candor",Awareness:"Conscious",Portrayal:"Cunning",Poignancy:"Candor",Composure:"Conscious",Pressure:"Cunning",Scouting:"Might",Analysis:"Artifice",Sensing:"Tuning",Sneaking:"Might",Finesse:"Artifice",Hiding:"Tuning",Athletics:"Might",History:"Artifice",Discord:"Tuning",Security:"Might",Rumor:"Artifice",Harmony:"Tuning",Wayfaring:"Might",Tinkering:"Artifice",Rituals:"Tuning"};function Zn(t){let e=t[Object.keys(t).at(0)??""].length,l=Array.from({length:e},(n,i)=>Object.fromEntries(Object.keys(t).map(s=>[s,t[s].slice(0,i+1).reduce((r,o)=>r+o,0)])));return console.log(l),l}var Ge=(t=>(t.Manual="Manual",t.Roll="Roll",t))(Ge||{});class Cn{constructor(e=""){oe(this,"_id","");oe(this,"name","");oe(this,"description","");oe(this,"_experience",0);oe(this,"_level",1);oe(this,"levelTrackerPerks",{StatPoints:[5,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1],SocialSkillPoints:[5,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0],ExplorationSkillPoints:[7,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0],SocialFeatPoints:[2,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0],TraitFeatPoints:[5,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1],ClassFeatPoints:[3,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1],PrestigeFeatPoints:[0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,1,0,1]});oe(this,"allLevelPerks",Zn(this.levelTrackerPerks));oe(this,"warriorLevel",0);oe(this,"warriorTrackerPerks",{GeneralWealth:[0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0],FortitudeSave:[0,0,1,0,1,0,1,0,1,0,0,1,0,0,1,0],WarriorSkill:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],ShieldMax:[0,1,0,1,0,1,0,0,0,1,0,0,0,1,0,1],CloseDamage:[2,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0],WarriorPoints:[0,1,0,0,1,0,1,0,0,0,1,0,0,0,1,0]});oe(this,"allWarriorPerks",Zn(this.warriorTrackerPerks));oe(this,"specialistLevel",0);oe(this,"specialistTrackerPerks",{GreyWealth:[0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0],InitiativeSave:[0,0,1,0,1,0,1,0,1,0,0,1,0,0,1,0],SpecialistSkill:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],BaseDefense:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],RangedDamage:[2,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0],SpecialistPoints:[0,1,0,0,1,1,1,0,0,0,1,1,1,1,1,0]});oe(this,"allSpecialistPerks",Zn(this.specialistTrackerPerks));oe(this,"casterLevel",0);oe(this,"casterTrackerPerks",{ObscureWealth:[0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0],WillpowerSave:[0,0,1,0,1,0,1,0,1,0,0,1,0,0,1,0],CasterSkill:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],RitualPoints:[0,0,0,0,0,1,0,0,0,0,1,0,1,0,1,0],SpellPoints:[0,2,1,1,2,1,1,2,0,1,2,1,1,2,1,2]});oe(this,"allCasterPerks",Zn(this.casterTrackerPerks));oe(this,"constitutionFeat");oe(this,"traitFeats",[]);oe(this,"socialFeats",[]);oe(this,"socialStatGenMethod","Manual");oe(this,"explorationStatGenMethod","Manual");oe(this,"statGen_Roll",{});oe(this,"statGen_Manual",{Candor:-1,Conscious:-1,Cunning:-1,Might:-1,Artifice:-1,Tuning:-1});oe(this,"statImprovements",{Candor:0,Conscious:0,Cunning:0,Might:0,Artifice:0,Tuning:0});oe(this,"socialSkills",{Persuasion:{points:0,inspiration:!1},Insight:{points:0,inspiration:!1},Deception:{points:0,inspiration:!1},Captivation:{points:0,inspiration:!1},Awareness:{points:0,inspiration:!1},Portrayal:{points:0,inspiration:!1},Poignancy:{points:0,inspiration:!1},Composure:{points:0,inspiration:!1},Pressure:{points:0,inspiration:!1}});oe(this,"explorationSkills",{Scouting:{points:0,inspiration:!1},Analysis:{points:0,inspiration:!1},Sensing:{points:0,inspiration:!1},Sneaking:{points:0,inspiration:!1},Finesse:{points:0,inspiration:!1},Hiding:{points:0,inspiration:!1},Athletics:{points:0,inspiration:!1},History:{points:0,inspiration:!1},Discord:{points:0,inspiration:!1},Security:{points:0,inspiration:!1},Rumor:{points:0,inspiration:!1},Harmony:{points:0,inspiration:!1},Wayfaring:{points:0,inspiration:!1},Tinkering:{points:0,inspiration:!1},Rituals:{points:0,inspiration:!1}});this.id=e,this.name=""}lookup(e){return this[e]}get id(){return this._id}set id(e){if(!_i(e)){this._id=Ii;return}this._id=e}get experience(){return this._experience}set experience(e){this._experience=Qt(e,0,10)}get level(){return this._level}set level(e){this._level=Qt(e,1,20)}get levelPerks(){return this.allLevelPerks[Qt(this._level-1,0,19)]}get StatPoints(){return this.levelPerks.StatPoints}get SocialSkillPoints(){return this.levelPerks.SocialSkillPoints}get ExplorationSkillPoints(){return this.levelPerks.ExplorationSkillPoints}get SocialFeatPoints(){return this.levelPerks.SocialFeatPoints}get TraitFeatPoints(){return this.levelPerks.TraitFeatPoints}get ClassFeatPoints(){return this.levelPerks.ClassFeatPoints}get PrestigeFeatPoints(){return this.levelPerks.PrestigeFeatPoints}get warriorPerks(){return this.allWarriorPerks[Qt(this.warriorLevel,0,15)]}get GeneralWealth(){return this.warriorPerks.GeneralWealth}get FortitudeSave(){return this.warriorPerks.FortitudeSave}get StartingWarriorSkill(){return this.Might}get WarriorSkill(){return this.StartingWarriorSkill+this.warriorPerks.WarriorSkill}get ShieldMax(){return this.warriorPerks.ShieldMax}get StartingCloseDamage(){return 0}get CloseDamage(){return this.StartingCloseDamage+this.warriorPerks.CloseDamage}get WarriorPoints(){return this.warriorPerks.WarriorPoints}get specialistPerks(){return this.allSpecialistPerks[Qt(this.specialistLevel,0,15)]}get GreyWealth(){return this.specialistPerks.GreyWealth}get InitiativeSave(){return this.specialistPerks.InitiativeSave}get StartingSpecialistSkill(){return this.Artifice}get SpecialistSkill(){return this.StartingSpecialistSkill+this.specialistPerks.SpecialistSkill}get BaseDefense(){return this.specialistPerks.BaseDefense}get RangedDamage(){return this.specialistPerks.RangedDamage}get SpecialistPoints(){return this.specialistPerks.SpecialistPoints}get casterPerks(){return this.allCasterPerks[Qt(this.casterLevel,0,15)]}get ObscureWealth(){return this.casterPerks.ObscureWealth}get WillpowerSave(){return this.casterPerks.WillpowerSave}get StartingCasterSkill(){return this.Tuning}get CasterSkill(){return this.StartingCasterSkill+this.casterPerks.CasterSkill}get StartingRitualPoints(){return Math.max(this.GetSkill(No.Rituals),0)}get RitualPoints(){return this.StartingRitualPoints+this.casterPerks.RitualPoints}get SpellPoints(){return this.casterPerks.SpellPoints}GetBaseStat(e){let l=Gt.includes(e)?this.socialStatGenMethod:this.explorationStatGenMethod;return l=="Manual"?this.statGen_Manual[e]??-2:l=="Roll"?this.statGen_Roll[e]??-2:-2}GetStat(e){return this.GetBaseStat(e)+(this.statImprovements[e]??0)}GetStatString(e){let l=this.GetStat(e);return l<-1?"--":(l<0?"":"+")+l}get Candor(){return this.GetStat(de.Candor)}get Conscious(){return this.GetStat(de.Conscious)}get Cunning(){return this.GetStat(de.Cunning)}get Might(){return this.GetStat(de.Might)}get Artifice(){return this.GetStat(de.Artifice)}get Tuning(){return this.GetStat(de.Tuning)}GetSkill(e,l=!0){var n=this.socialSkills[e]??this.explorationSkills[e];if(!n)return console.error("Unknown Skill"),-2;let i=(n.points??0)+(l&&n.inspiration?1:0);return n.overrideStat&&vc.includes(n.overrideStat)?this.GetStat(n.overrideStat)+i:this.GetStat(kc[e])+i}static FromJson(e){return Object.assign(new Cn,JSON.parse(e))}}class hi{constructor(){oe(this,"_id","");oe(this,"name","");oe(this,"class","");oe(this,"lineage","")}get id(){return this._id}set id(e){if(!_i(e)){this._id=Ii;return}this._id=e}static FromJson(e){return Object.assign(new hi,JSON.parse(e))}}let xn=class{constructor(){oe(this,"name","");oe(this,"email","")}};var $c={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const fl=$c.HNS_API_URL,ni=typeof window<"u";console.log("IsBrowser: "+ni);const Sc=()=>{const t=pt(null),{subscribe:e,set:l,update:n}=t;return fetch(fl+"Api/Account/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}).then(i=>{i.ok?i.json().then(s=>l(Object.assign(new xn,s))):console.log(i.statusText)}),{subscribe:e,set:l,update:n,createAccount:async(i,s,r,o)=>{if(ht(t)){o(["Already logged-in. Log out first."]);return}const a=await fetch(fl+"Api/Account/Create",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:r})});switch(a.status){case 200:a.json().then(c=>l(Object.assign(new xn,c)));break;case 400:a.json().then(c=>{let u=Object.values(c.errors).flatMap(_=>_);o(u)});break;case 422:a.json().then(c=>{let u=Object.values(c).flatMap(_=>_);o(u)});break;default:console.error(`Unrecognized response status ${a.status}: ${a.statusText}.`);break}},login:async(i,s,r)=>{if(ht(t)){console.log("Tried to login while already logged in. Log out first.");return}const o=await fetch(fl+"Api/Account/Login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:i,password:s})});switch(o.status){case 200:o.json().then(a=>l(Object.assign(new xn,a)));break;case 400:o.json().then(a=>{let c=Object.values(a.errors).flatMap(u=>u);r(c)});break;case 401:o.json().then(a=>{let c=Object.values(a).flatMap(u=>u.errors.map(_=>_.errorMessage));r(c)});break;default:console.error("Unrecognized response status '"+o.status+": "+o.statusText+"'");break}},logout:async()=>{await fetch(fl+"Api/Account/Logout",{method:"POST",credentials:"include"}).then(i=>{Tt.set(null),location.reload()},i=>console.log(i))},updateAccount:async(i,s,r,o,a,c)=>{const u=await fetch(fl+"Api/Account",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:r,currentPassword:o})});switch(u.status){case 200:u.json().then(_=>l(Object.assign(new xn,_))),a();break;case 400:u.json().then(_=>{let p=Object.values(_.errors).flatMap(h=>h);c(p)});break;case 401:u.json().then(_=>{let p=Object.values(_).flatMap(h=>h.errors.map(g=>g.errorMessage));c(p)});break;case 422:u.json().then(_=>{let p=Object.values(_).flatMap(h=>h);c(p)});break;default:console.error("Unrecognized response status '"+u.status+": "+u.statusText+"'");break}}}},Tt=Sc(),_s=async()=>fetch(fl+"Api/Characters/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function hs(t,e){const l=t={};return n=>{t===l&&(n.ok?n.json().then(i=>{let s=i.map(r=>Object.assign(new hi,r));e(s)}):(e([]),console.log(n.statusText)))}}const wc=async()=>fetch(fl+"Api/Characters/",{method:"POST",credentials:"include",headers:{Accept:"application/json"}});function Cc(t,e,l){const n=t={};return i=>{i.ok?i.json().then(s=>{if(t===n){let r=s.map(o=>Object.assign(new hi,o));e(o=>(o.push(r),o)),l(r.id)}}):console.log(i.statusText)}}function yc(){var t=[];const{subscribe:e,set:l,update:n}=pt(t);let i={};return Promise.resolve(_s()).then(hs(i,l)),{subscribe:e,refresh:()=>{Promise.resolve(_s()).then(hs(i,l))},create:s=>{Promise.resolve(wc()).then(Cc(i,n,s))}}}const Ti=yc(),Pc=async t=>fetch(fl+"Api/Characters/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function ki(t,e){const l=t={};return n=>{t===l&&(n.ok?n.json().then(i=>{e(Object.assign(new Cn,i))}):console.log(n.statusText))}}const ps=async t=>fetch(fl+"Api/Characters/"+t.id,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}),ei="HnsCharacter/local";function Mc(){const t=pt(new Cn),{subscribe:e,set:l,update:n}=t;let i=l,s=n;if(ni){const r=localStorage.getItem(ei);r!==null?(console.log("Loading char "+r),l(Cn.FromJson(r))):(console.log("New char"),localStorage.setItem(ei,JSON.stringify(ht(t)))),i=o=>{console.log("Set char"),ni&&localStorage.setItem(ei,JSON.stringify(o)),l(o)},s=o=>{console.log("Update char");const a=o(ht(t));ni&&localStorage.setItem(ei,JSON.stringify(a)),l(a)}}return{subscribe:e,set:i,update:s}}const Gc=Mc(),$i={};function Ac(t){if(Object.hasOwn($i,t))return $i[t];let e={};const l=pt(new Cn(t)),{subscribe:n,set:i,update:s}=l;if(!_i(t))return console.error("Invalid id '"+t+"'"),{subscribe:n,set:i,update:s};Promise.resolve(Pc(t)).then(ki(e,i));const r={subscribe:n,set:o=>{if(console.log("Set char"),t!=o.id){console.error("Id did not match");return}Promise.resolve(ps(o)).then(ki(e,i))},update:o=>{console.log("Update char");const a=o(ht(l));Promise.resolve(ps(a)).then(ki(e,i))}};return $i[t]=r,r}function ds(t,e,l){const n=t.slice();return n[28]=e[l],n}function ms(t,e,l){const n=t.slice();return n[28]=e[l],n}function Tc(t){let e,l,n,i,s,r,o,a,c,u,_,p,h,g,C,b,P,v,G,L,z,U,j,E,Y;function x(F,ve){return F[0]?Oc:jc}let J=x(t),ee=J(t);function ae(F,ve){return F[1]?Rc:Nc}let he=ae(t),le=he(t);function je(F,ve){return F[2]?Ec:Ic}let lt=je(t),ce=lt(t),Ue=H(t[10]),q=[];for(let F=0;F<Ue.length;F+=1)q[F]=gs(ds(t,Ue,F));return{c(){e=d("h2"),e.textContent="Account Information",l=k(),n=d("form"),i=d("label"),i.textContent="Account Name",s=k(),ee.c(),r=k(),o=d("label"),o.textContent="Email",a=k(),le.c(),c=k(),u=d("label"),u.textContent="Password",_=k(),ce.c(),p=k(),h=d("div"),g=k(),C=d("label"),C.textContent="Current Password",b=k(),P=d("input"),G=k(),L=d("button"),z=O("Apply Changes"),j=k();for(let F=0;F<q.length;F+=1)q[F].c();m(i,"for","name"),m(i,"class","svelte-10lzy08"),m(o,"for","email"),m(o,"class","svelte-10lzy08"),m(u,"for","password"),m(u,"class","svelte-10lzy08"),ue(h,"grid-column","span 3"),ue(h,"height","20px"),m(C,"for","currentPassword"),m(C,"class","svelte-10lzy08"),m(P,"name","currentPassword"),m(P,"type","password"),P.disabled=v=!t[8],m(L,"class","grid-form-submit svelte-10lzy08"),m(L,"type","submit"),L.disabled=U=!t[8],m(n,"class","grid-3-form svelte-10lzy08"),m(n,"method","post")},m(F,ve){S(F,e,ve),S(F,l,ve),S(F,n,ve),f(n,i),f(n,s),ee.m(n,null),f(n,r),f(n,o),f(n,a),le.m(n,null),f(n,c),f(n,u),f(n,_),ce.m(n,null),f(n,p),f(n,h),f(n,g),f(n,C),f(n,b),f(n,P),be(P,t[7]),f(n,G),f(n,L),f(L,z),f(n,j);for(let ke=0;ke<q.length;ke+=1)q[ke]&&q[ke].m(n,null);E||(Y=[Q(P,"input",t[27]),Q(n,"submit",xt(t[16]))],E=!0)},p(F,ve){if(J===(J=x(F))&&ee?ee.p(F,ve):(ee.d(1),ee=J(F),ee&&(ee.c(),ee.m(n,r))),he===(he=ae(F))&&le?le.p(F,ve):(le.d(1),le=he(F),le&&(le.c(),le.m(n,c))),lt===(lt=je(F))&&ce?ce.p(F,ve):(ce.d(1),ce=lt(F),ce&&(ce.c(),ce.m(n,p))),ve[0]&256&&v!==(v=!F[8])&&(P.disabled=v),ve[0]&128&&P.value!==F[7]&&be(P,F[7]),ve[0]&256&&U!==(U=!F[8])&&(L.disabled=U),ve[0]&1024){Ue=H(F[10]);let ke;for(ke=0;ke<Ue.length;ke+=1){const Te=ds(F,Ue,ke);q[ke]?q[ke].p(Te,ve):(q[ke]=gs(Te),q[ke].c(),q[ke].m(n,null))}for(;ke<q.length;ke+=1)q[ke].d(1);q.length=Ue.length}},d(F){F&&($(e),$(l),$(n)),ee.d(),le.d(),ce.d(),ie(q,F),E=!1,Me(Y)}}}function Lc(t){let e,l,n,i,s,r,o,a,c,u,_,p,h,g,C,b,P,v,G,L,z,U,j,E,Y=H(t[9]),x=[];for(let J=0;J<Y.length;J+=1)x[J]=bs(ms(t,Y,J));return{c(){e=d("h1"),e.textContent="Create An Account",l=k(),n=d("form"),i=d("label"),i.textContent="Account Name",s=k(),r=d("input"),o=k(),a=d("label"),a.textContent="Email",c=k(),u=d("input"),_=k(),p=d("label"),p.textContent="Password",h=k(),g=d("input"),C=k(),b=d("label"),b.textContent="Confirm Password",P=k(),v=d("input"),G=k(),L=d("a"),L.textContent="Login...",z=d("button"),z.textContent="Create Account",U=k();for(let J=0;J<x.length;J+=1)x[J].c();m(i,"for","name"),m(i,"class","svelte-10lzy08"),m(r,"type","text"),m(a,"for","email"),m(a,"class","svelte-10lzy08"),m(u,"type","text"),m(p,"for","password"),m(p,"class","svelte-10lzy08"),m(g,"type","text"),m(b,"for","password2"),m(b,"class","svelte-10lzy08"),m(v,"type","text"),m(v,"class","svelte-10lzy08"),V(v,"red-outline",t[5]!==t[6]),m(L,"href","/login"),m(L,"class","button"),m(z,"class","bright"),m(z,"type","submit"),m(n,"class","grid-form svelte-10lzy08"),m(n,"method","post")},m(J,ee){S(J,e,ee),S(J,l,ee),S(J,n,ee),f(n,i),f(n,s),f(n,r),be(r,t[3]),f(n,o),f(n,a),f(n,c),f(n,u),be(u,t[4]),f(n,_),f(n,p),f(n,h),f(n,g),be(g,t[5]),f(n,C),f(n,b),f(n,P),f(n,v),be(v,t[6]),f(n,G),f(n,L),f(n,z),f(n,U);for(let ae=0;ae<x.length;ae+=1)x[ae]&&x[ae].m(n,null);j||(E=[Q(r,"input",t[17]),Q(u,"input",t[18]),Q(g,"input",t[19]),Q(v,"input",t[20]),Yl(Jl.call(null,L)),Q(n,"submit",xt(t[15]))],j=!0)},p(J,ee){if(ee[0]&8&&r.value!==J[3]&&be(r,J[3]),ee[0]&16&&u.value!==J[4]&&be(u,J[4]),ee[0]&32&&g.value!==J[5]&&be(g,J[5]),ee[0]&64&&v.value!==J[6]&&be(v,J[6]),ee[0]&96&&V(v,"red-outline",J[5]!==J[6]),ee[0]&512){Y=H(J[9]);let ae;for(ae=0;ae<Y.length;ae+=1){const he=ms(J,Y,ae);x[ae]?x[ae].p(he,ee):(x[ae]=bs(he),x[ae].c(),x[ae].m(n,null))}for(;ae<x.length;ae+=1)x[ae].d(1);x.length=Y.length}},d(J){J&&($(e),$(l),$(n)),ie(x,J),j=!1,Me(E)}}}function jc(t){let e,l,n,i,s;return{c(){e=d("input"),l=k(),n=d("button"),n.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-10lzy08"/>',m(e,"name","name"),m(e,"type","text"),e.disabled=!0,m(n,"class","svelte-10lzy08")},m(r,o){S(r,e,o),be(e,t[11].name),S(r,l,o),S(r,n,o),i||(s=[Q(e,"input",t[22]),Q(n,"click",xt(t[12]))],i=!0)},p(r,o){o[0]&2048&&e.value!==r[11].name&&be(e,r[11].name)},d(r){r&&($(e),$(l),$(n)),i=!1,Me(s)}}}function Oc(t){let e,l,n,i,s;return{c(){e=d("input"),l=k(),n=d("button"),n.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-10lzy08"/>',m(e,"name","name"),m(e,"type","text"),m(n,"class","svelte-10lzy08")},m(r,o){S(r,e,o),be(e,t[3]),S(r,l,o),S(r,n,o),i||(s=[Q(e,"input",t[21]),Q(n,"click",xt(t[12]))],i=!0)},p(r,o){o[0]&8&&e.value!==r[3]&&be(e,r[3])},d(r){r&&($(e),$(l),$(n)),i=!1,Me(s)}}}function Nc(t){let e,l,n,i,s;return{c(){e=d("input"),l=k(),n=d("button"),n.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-10lzy08"/>',m(e,"name","email"),m(e,"type","text"),e.disabled=!0,m(n,"class","svelte-10lzy08")},m(r,o){S(r,e,o),be(e,t[11].email),S(r,l,o),S(r,n,o),i||(s=[Q(e,"input",t[24]),Q(n,"click",xt(t[13]))],i=!0)},p(r,o){o[0]&2048&&e.value!==r[11].email&&be(e,r[11].email)},d(r){r&&($(e),$(l),$(n)),i=!1,Me(s)}}}function Rc(t){let e,l,n,i,s;return{c(){e=d("input"),l=k(),n=d("button"),n.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-10lzy08"/>',m(e,"name","email"),m(e,"type","text"),m(n,"class","svelte-10lzy08")},m(r,o){S(r,e,o),be(e,t[4]),S(r,l,o),S(r,n,o),i||(s=[Q(e,"input",t[23]),Q(n,"click",xt(t[13]))],i=!0)},p(r,o){o[0]&16&&e.value!==r[4]&&be(e,r[4])},d(r){r&&($(e),$(l),$(n)),i=!1,Me(s)}}}function Ic(t){let e,l,n,i,s,r,o,a,c,u,_;return{c(){e=d("input"),l=k(),n=d("div"),i=k(),s=d("label"),s.textContent="Confirm Password",r=k(),o=d("input"),a=k(),c=d("button"),c.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-10lzy08"/>',m(e,"name","password"),ue(e,"text-align","center"),m(e,"type","text"),e.value="---",e.disabled=!0,m(s,"for","password"),m(s,"class","svelte-10lzy08"),m(o,"name","password"),ue(o,"text-align","center"),m(o,"type","text"),o.value="---",o.disabled=!0,m(c,"class","svelte-10lzy08")},m(p,h){S(p,e,h),S(p,l,h),S(p,n,h),S(p,i,h),S(p,s,h),S(p,r,h),S(p,o,h),S(p,a,h),S(p,c,h),u||(_=Q(c,"click",xt(t[14])),u=!0)},p:I,d(p){p&&($(e),$(l),$(n),$(i),$(s),$(r),$(o),$(a),$(c)),u=!1,_()}}}function Ec(t){let e,l,n,i,s,r,o,a,c,u,_;return{c(){e=d("input"),l=k(),n=d("div"),i=k(),s=d("label"),s.textContent="Confirm Password",r=k(),o=d("input"),a=k(),c=d("button"),c.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-10lzy08"/>',m(e,"name","password"),m(e,"type","password"),m(s,"for","password"),m(s,"class","svelte-10lzy08"),m(o,"name","password"),m(o,"type","password"),m(c,"class","svelte-10lzy08")},m(p,h){S(p,e,h),be(e,t[5]),S(p,l,h),S(p,n,h),S(p,i,h),S(p,s,h),S(p,r,h),S(p,o,h),be(o,t[6]),S(p,a,h),S(p,c,h),u||(_=[Q(e,"input",t[25]),Q(o,"input",t[26]),Q(c,"click",xt(t[14]))],u=!0)},p(p,h){h[0]&32&&e.value!==p[5]&&be(e,p[5]),h[0]&64&&o.value!==p[6]&&be(o,p[6])},d(p){p&&($(e),$(l),$(n),$(i),$(s),$(r),$(o),$(a),$(c)),u=!1,Me(_)}}}function gs(t){let e,l=t[28]+"",n;return{c(){e=d("label"),n=O(l),m(e,"class","grid-form-error svelte-10lzy08"),m(e,"for","errors")},m(i,s){S(i,e,s),f(e,n)},p(i,s){s[0]&1024&&l!==(l=i[28]+"")&&X(n,l)},d(i){i&&$(e)}}}function bs(t){let e,l=t[28]+"",n;return{c(){e=d("label"),n=O(l),m(e,"class","grid-form-error svelte-10lzy08"),m(e,"for","errors")},m(i,s){S(i,e,s),f(e,n)},p(i,s){s[0]&512&&l!==(l=i[28]+"")&&X(n,l)},d(i){i&&$(e)}}}function zc(t){let e;function l(s,r){return s[11]==null?Lc:Tc}let n=l(t),i=n(t);return{c(){e=d("div"),i.c(),m(e,"id","account-page"),m(e,"class","svelte-10lzy08")},m(s,r){S(s,e,r),i.m(e,null)},p(s,r){n===(n=l(s))&&i?i.p(s,r):(i.d(1),i=n(s),i&&(i.c(),i.m(e,null)))},i:I,o:I,d(s){s&&$(e),i.d()}}}function Fc(t,e,l){let n;at(t,Tt,le=>l(11,n=le));let i="",s=!1,r="",o=!1,a="",c="",u=!1,_="",p=!1;function h(){var le;l(0,s=!s),s?l(3,i=((le=ht(Tt))==null?void 0:le.name)??""):l(3,i="")}function g(){var le;l(1,o=!o),o?l(4,r=((le=ht(Tt))==null?void 0:le.email)??""):l(4,r="")}function C(){l(2,u=!u),u||l(5,a=l(6,c=""))}let b=[];async function P(){l(9,b=[]),i.length==0&&b.push("Name required"),r.length==0&&b.push("Email required"),a.length==0&&b.push("Password required"),a!==c&&b.push("Error: Passwords did not match"),!(b.length>0)&&await Tt.createAccount(i,r,a,le=>{l(9,b=le)})}let v=[];async function G(){l(10,v=[]),s&&i.length==0&&v.push("Name required"),o&&r.length==0&&v.push("Email required"),u&&a.length==0&&v.push("Password required"),u&&a!==c&&v.push("Passwords did not match"),_.length==0&&v.push("Current password Required"),!(v.length>0)&&await Tt.updateAccount(s?i:null,o?r:null,u?a:null,_,()=>{s&&h(),o&&g(),u&&C(),l(7,_="")},le=>l(10,v=le))}function L(){i=this.value,l(3,i)}function z(){r=this.value,l(4,r)}function U(){a=this.value,l(5,a)}function j(){c=this.value,l(6,c)}function E(){i=this.value,l(3,i)}function Y(){n.name=this.value,Tt.set(n)}function x(){r=this.value,l(4,r)}function J(){n.email=this.value,Tt.set(n)}function ee(){a=this.value,l(5,a)}function ae(){c=this.value,l(6,c)}function he(){_=this.value,l(7,_)}return t.$$.update=()=>{t.$$.dirty[0]&7&&l(8,p=s||o||u)},[s,o,u,i,r,a,c,_,p,b,v,n,h,g,C,P,G,L,z,U,j,E,Y,x,J,ee,ae,he]}class Hc extends ge{constructor(e){super(),me(this,e,Fc,zc,_e,{},null,[-1,-1])}}const qc=t=>({}),vs=t=>({}),Bc=t=>({}),ks=t=>({});function Dc(t){let e,l,n,i,s;return{c(){e=d("button"),l=O("-"),e.disabled=n=t[7]||t[0]<=t[2],m(e,"class","icon-button left-button svelte-hqt6wq")},m(r,o){S(r,e,o),f(e,l),i||(s=Q(e,"click",t[14]),i=!0)},p(r,o){o&133&&n!==(n=r[7]||r[0]<=r[2])&&(e.disabled=n)},i:I,o:I,d(r){r&&$(e),i=!1,s()}}}function Wc(t){let e,l,n,i,s;const r=t[13]["min-icon"],o=dl(r,t,t[12],ks);return{c(){e=d("button"),o&&o.c(),m(e,"class","icon-button left-button svelte-hqt6wq"),e.disabled=l=t[7]||t[3]==null,V(e,"bright",t[3]!=null)},m(a,c){S(a,e,c),o&&o.m(e,null),n=!0,i||(s=Q(e,"click",function(){mt(t[3])&&t[3].apply(this,arguments)}),i=!0)},p(a,c){t=a,o&&o.p&&(!n||c&4096)&&gl(o,r,t,t[12],n?ml(r,t[12],c,Bc):bl(t[12]),ks),(!n||c&136&&l!==(l=t[7]||t[3]==null))&&(e.disabled=l),(!n||c&8)&&V(e,"bright",t[3]!=null)},i(a){n||(M(o,a),n=!0)},o(a){A(o,a),n=!1},d(a){a&&$(e),o&&o.d(a),i=!1,s()}}}function Uc(t){let e,l,n,i,s;return{c(){e=d("button"),l=O("+"),e.disabled=n=t[7]||t[0]>=t[4],m(e,"class","icon-button right-button svelte-hqt6wq")},m(r,o){S(r,e,o),f(e,l),i||(s=Q(e,"click",t[16]),i=!0)},p(r,o){o&145&&n!==(n=r[7]||r[0]>=r[4])&&(e.disabled=n)},i:I,o:I,d(r){r&&$(e),i=!1,s()}}}function Yc(t){let e,l,n,i,s;const r=t[13]["max-icon"],o=dl(r,t,t[12],vs);return{c(){e=d("button"),o&&o.c(),m(e,"class","icon-button right-button svelte-hqt6wq"),e.disabled=l=t[7]||t[5]==null,V(e,"bright",t[5]!=null)},m(a,c){S(a,e,c),o&&o.m(e,null),n=!0,i||(s=Q(e,"click",function(){mt(t[5])&&t[5].apply(this,arguments)}),i=!0)},p(a,c){t=a,o&&o.p&&(!n||c&4096)&&gl(o,r,t,t[12],n?ml(r,t[12],c,qc):bl(t[12]),vs),(!n||c&160&&l!==(l=t[7]||t[5]==null))&&(e.disabled=l),(!n||c&32)&&V(e,"bright",t[5]!=null)},i(a){n||(M(o,a),n=!0)},o(a){A(o,a),n=!1},d(a){a&&$(e),o&&o.d(a),i=!1,s()}}}function Vc(t){let e,l,n,i,s,r,o,a,c,u,_,p;const h=[Wc,Dc],g=[];function C(G,L){return G[0]<=G[2]&&G[11]["min-icon"]?0:1}l=C(t),n=g[l]=h[l](t);const b=[Yc,Uc],P=[];function v(G,L){return G[0]>=G[4]&&G[11]["max-icon"]?0:1}return a=v(t),c=P[a]=b[a](t),{c(){e=d("div"),n.c(),i=k(),s=d("input"),r=d("br"),o=k(),c.c(),m(s,"id",t[1]),m(s,"class","number-input svelte-hqt6wq"),m(s,"type","text"),m(s,"inputmode","numeric"),s.disabled=t[7],V(s,"invalid-input",!t[9]),m(e,"class","spinner svelte-hqt6wq")},m(G,L){S(G,e,L),g[l].m(e,null),f(e,i),f(e,s),t[15](s),f(e,r),f(e,o),P[a].m(e,null),u=!0,_||(p=Q(s,"change",t[10]),_=!0)},p(G,[L]){let z=l;l=C(G),l===z?g[l].p(G,L):(se(),A(g[z],1,1,()=>{g[z]=null}),re(),n=g[l],n?n.p(G,L):(n=g[l]=h[l](G),n.c()),M(n,1),n.m(e,i)),(!u||L&2)&&m(s,"id",G[1]),(!u||L&128)&&(s.disabled=G[7]),(!u||L&512)&&V(s,"invalid-input",!G[9]);let U=a;a=v(G),a===U?P[a].p(G,L):(se(),A(P[U],1,1,()=>{P[U]=null}),re(),c=P[a],c?c.p(G,L):(c=P[a]=b[a](G),c.c()),M(c,1),c.m(e,null))},i(G){u||(M(n),M(c),u=!0)},o(G){A(n),A(c),u=!1},d(G){G&&$(e),g[l].d(),t[15](null),P[a].d(),_=!1,p()}}}function Jc(t,e,l){let{$$slots:n={},$$scope:i}=e;const s=Xo(n);let{id:r=void 0}=e,{value:o}=e,{min:a=Number.NEGATIVE_INFINITY}=e,{minAction:c=void 0}=e,{max:u=Number.POSITIVE_INFINITY}=e,{maxAction:_=void 0}=e,{step:p=1}=e,{disabled:h=void 0}=e,g,C=!0;function b(){var L=Number.parseInt(g.value);l(9,C=L===Qt(L,a,u)),C&&l(0,o=L)}const P=()=>{l(0,o-=p)};function v(L){fe[L?"unshift":"push"](()=>{g=L,l(8,g),l(0,o),l(2,a),l(4,u)})}const G=()=>{l(0,o+=p)};return t.$$set=L=>{"id"in L&&l(1,r=L.id),"value"in L&&l(0,o=L.value),"min"in L&&l(2,a=L.min),"minAction"in L&&l(3,c=L.minAction),"max"in L&&l(4,u=L.max),"maxAction"in L&&l(5,_=L.maxAction),"step"in L&&l(6,p=L.step),"disabled"in L&&l(7,h=L.disabled),"$$scope"in L&&l(12,i=L.$$scope)},t.$$.update=()=>{t.$$.dirty&277&&g&&o!==Number.parseInt(g.value)&&(l(8,g.value=(o==null?void 0:o.toString())??"?",g),l(9,C=o===Qt(o,a,u)))},[o,r,a,c,u,_,p,h,g,C,b,s,i,n,P,v,G]}class zn extends ge{constructor(e){super(),me(this,e,Jc,Vc,_e,{id:1,value:0,min:2,minAction:3,max:4,maxAction:5,step:6,disabled:7})}}function $s(t,e,l){const n=t.slice();return n[11]=e[l][0],n[12]=e[l][1],n}function Ss(t,e,l){const n=t.slice();return n[15]=e[l],n[17]=l,n}function ws(t,e,l){const n=t.slice();return n[18]=e[l],n[17]=l,n}function Cs(t,e,l){const n=t.slice();return n[11]=e[l][0],n[12]=e[l][1],n}function ys(t,e,l){const n=t.slice();return n[15]=e[l],n[17]=l,n}function Ps(t,e,l){const n=t.slice();return n[18]=e[l],n[17]=l,n}function Ms(t,e,l){const n=t.slice();return n[11]=e[l][0],n[12]=e[l][1],n}function Gs(t,e,l){const n=t.slice();return n[15]=e[l],n[17]=l,n}function As(t,e,l){const n=t.slice();return n[18]=e[l],n[17]=l,n}function Ts(t,e,l){const n=t.slice();return n[11]=e[l][0],n[28]=e[l][1],n}function Ls(t,e,l){const n=t.slice();return n[15]=e[l],n[17]=l,n}function js(t,e,l){const n=t.slice();return n[18]=e[l],n[17]=l,n}function Os(t,e,l){const n=t.slice();return n[18]=e[l],n[17]=l,n}function Ns(t,e,l){const n=t.slice();return n[18]=e[l],n[17]=l,n}function Rs(t){let e;return{c(){e=O("")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Is(t){let e;return{c(){e=O("")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Kc(t){let e,l;return{c(){e=d("img"),m(e,"slot","max-icon"),Nt(e.src,l="/img/icons/PromotionIcon.svg")||m(e,"src",l),m(e,"alt","Level Up")},m(n,i){S(n,e,i)},p:I,d(n){n&&$(e)}}}function Es(t){let e;return{c(){e=d("div"),e.textContent=`${t[17]+1}`,m(e,"class","tracker-cell-level svelte-7jvwhn"),V(e,"level-reached",t[17]+1<=t[1].level)},m(l,n){S(l,e,n)},p(l,n){n[0]&2&&V(e,"level-reached",l[17]+1<=l[1].level)},d(l){l&&$(e)}}}function zs(t){let e,l=(t[15]>0?t[15]:"")+"",n;return{c(){e=d("div"),n=O(l),m(e,"class","tracker-cell-reward svelte-7jvwhn"),V(e,"level-reached",t[17]+1<=t[1].level)},m(i,s){S(i,e,s),f(e,n)},p(i,s){s[0]&2&&l!==(l=(i[15]>0?i[15]:"")+"")&&X(n,l),s[0]&2&&V(e,"level-reached",i[17]+1<=i[1].level)},d(i){i&&$(e)}}}function Fs(t){let e,l=t[11]+"",n,i,s,r,o=t[1].lookup(t[11])+"",a,c=H(t[28]),u=[];for(let _=0;_<c.length;_+=1)u[_]=zs(Ls(t,c,_));return{c(){e=d("div"),n=O(l),i=k();for(let _=0;_<u.length;_+=1)u[_].c();s=k(),r=d("div"),a=O(o),m(e,"class","tracker-cell-label svelte-7jvwhn"),m(r,"class","tracker-cell-total svelte-7jvwhn")},m(_,p){S(_,e,p),f(e,n),S(_,i,p);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(_,p);S(_,s,p),S(_,r,p),f(r,a)},p(_,p){if(p[0]&2&&l!==(l=_[11]+"")&&X(n,l),p[0]&2){c=H(_[28]);let h;for(h=0;h<c.length;h+=1){const g=Ls(_,c,h);u[h]?u[h].p(g,p):(u[h]=zs(g),u[h].c(),u[h].m(s.parentNode,s))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}p[0]&2&&o!==(o=_[1].lookup(_[11])+"")&&X(a,o)},d(_){_&&($(e),$(i),$(s),$(r)),ie(u,_)}}}function Hs(t){let e;return{c(){e=d("div"),e.textContent=`${t[17]}`,m(e,"class","tracker-cell-level svelte-7jvwhn"),V(e,"level-reached",t[17]<=t[1].warriorLevel)},m(l,n){S(l,e,n)},p(l,n){n[0]&2&&V(e,"level-reached",l[17]<=l[1].warriorLevel)},d(l){l&&$(e)}}}function qs(t){let e,l=(t[17]==0?(t[1].lookup("Starting"+t[11])??0)+t[15]:t[15]>0?t[15]:"")+"",n;return{c(){e=d("div"),n=O(l),m(e,"class","tracker-cell-reward svelte-7jvwhn"),V(e,"level-reached",t[17]<=t[1].warriorLevel)},m(i,s){S(i,e,s),f(e,n)},p(i,s){s[0]&2&&l!==(l=(i[17]==0?(i[1].lookup("Starting"+i[11])??0)+i[15]:i[15]>0?i[15]:"")+"")&&X(n,l),s[0]&2&&V(e,"level-reached",i[17]<=i[1].warriorLevel)},d(i){i&&$(e)}}}function Bs(t){let e,l=t[11]+"",n,i,s,r,o=t[1].lookup(t[11])+"",a,c=H(t[12]),u=[];for(let _=0;_<c.length;_+=1)u[_]=qs(Gs(t,c,_));return{c(){e=d("div"),n=O(l),i=k();for(let _=0;_<u.length;_+=1)u[_].c();s=k(),r=d("div"),a=O(o),m(e,"class","tracker-cell-label svelte-7jvwhn"),m(r,"class","tracker-cell-total svelte-7jvwhn")},m(_,p){S(_,e,p),f(e,n),S(_,i,p);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(_,p);S(_,s,p),S(_,r,p),f(r,a)},p(_,p){if(p[0]&2&&l!==(l=_[11]+"")&&X(n,l),p[0]&2){c=H(_[12]);let h;for(h=0;h<c.length;h+=1){const g=Gs(_,c,h);u[h]?u[h].p(g,p):(u[h]=qs(g),u[h].c(),u[h].m(s.parentNode,s))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}p[0]&2&&o!==(o=_[1].lookup(_[11])+"")&&X(a,o)},d(_){_&&($(e),$(i),$(s),$(r)),ie(u,_)}}}function Ds(t){let e;return{c(){e=d("div"),e.textContent=`${t[17]}`,m(e,"class","tracker-cell-level svelte-7jvwhn"),V(e,"level-reached",t[17]<=t[1].specialistLevel)},m(l,n){S(l,e,n)},p(l,n){n[0]&2&&V(e,"level-reached",l[17]<=l[1].specialistLevel)},d(l){l&&$(e)}}}function Ws(t){let e,l=(t[17]==0?(t[1].lookup("Starting"+t[11])??0)+t[15]:t[15]>0?t[15]:"")+"",n;return{c(){e=d("div"),n=O(l),m(e,"class","tracker-cell-reward svelte-7jvwhn"),V(e,"level-reached",t[17]<=t[1].specialistLevel)},m(i,s){S(i,e,s),f(e,n)},p(i,s){s[0]&2&&l!==(l=(i[17]==0?(i[1].lookup("Starting"+i[11])??0)+i[15]:i[15]>0?i[15]:"")+"")&&X(n,l),s[0]&2&&V(e,"level-reached",i[17]<=i[1].specialistLevel)},d(i){i&&$(e)}}}function Us(t){let e,l=t[11]+"",n,i,s,r,o=t[1].lookup(t[11])+"",a,c=H(t[12]),u=[];for(let _=0;_<c.length;_+=1)u[_]=Ws(ys(t,c,_));return{c(){e=d("div"),n=O(l),i=k();for(let _=0;_<u.length;_+=1)u[_].c();s=k(),r=d("div"),a=O(o),m(e,"class","tracker-cell-label svelte-7jvwhn"),m(r,"class","tracker-cell-total svelte-7jvwhn")},m(_,p){S(_,e,p),f(e,n),S(_,i,p);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(_,p);S(_,s,p),S(_,r,p),f(r,a)},p(_,p){if(p[0]&2&&l!==(l=_[11]+"")&&X(n,l),p[0]&2){c=H(_[12]);let h;for(h=0;h<c.length;h+=1){const g=ys(_,c,h);u[h]?u[h].p(g,p):(u[h]=Ws(g),u[h].c(),u[h].m(s.parentNode,s))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}p[0]&2&&o!==(o=_[1].lookup(_[11])+"")&&X(a,o)},d(_){_&&($(e),$(i),$(s),$(r)),ie(u,_)}}}function Ys(t){let e;return{c(){e=d("div"),e.textContent=`${t[17]}`,m(e,"class","tracker-cell-level svelte-7jvwhn"),V(e,"level-reached",t[17]<=t[1].casterLevel)},m(l,n){S(l,e,n)},p(l,n){n[0]&2&&V(e,"level-reached",l[17]<=l[1].casterLevel)},d(l){l&&$(e)}}}function Vs(t){let e,l=(t[17]==0?(t[1].lookup("Starting"+t[11])??0)+t[15]:t[15]>0?t[15]:"")+"",n;return{c(){e=d("div"),n=O(l),m(e,"class","tracker-cell-reward svelte-7jvwhn"),V(e,"level-reached",t[17]<=t[1].casterLevel)},m(i,s){S(i,e,s),f(e,n)},p(i,s){s[0]&2&&l!==(l=(i[17]==0?(i[1].lookup("Starting"+i[11])??0)+i[15]:i[15]>0?i[15]:"")+"")&&X(n,l),s[0]&2&&V(e,"level-reached",i[17]<=i[1].casterLevel)},d(i){i&&$(e)}}}function Js(t){let e,l=t[11]+"",n,i,s,r,o=t[1].lookup(t[11])+"",a,c=H(t[12]),u=[];for(let _=0;_<c.length;_+=1)u[_]=Vs(Ss(t,c,_));return{c(){e=d("div"),n=O(l),i=k();for(let _=0;_<u.length;_+=1)u[_].c();s=k(),r=d("div"),a=O(o),m(e,"class","tracker-cell-label svelte-7jvwhn"),m(r,"class","tracker-cell-total svelte-7jvwhn")},m(_,p){S(_,e,p),f(e,n),S(_,i,p);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(_,p);S(_,s,p),S(_,r,p),f(r,a)},p(_,p){if(p[0]&2&&l!==(l=_[11]+"")&&X(n,l),p[0]&2){c=H(_[12]);let h;for(h=0;h<c.length;h+=1){const g=Ss(_,c,h);u[h]?u[h].p(g,p):(u[h]=Vs(g),u[h].c(),u[h].m(s.parentNode,s))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}p[0]&2&&o!==(o=_[1].lookup(_[11])+"")&&X(a,o)},d(_){_&&($(e),$(i),$(s),$(r)),ie(u,_)}}}function Qc(t){let e,l,n,i,s,r,o,a,c,u,_,p,h,g,C,b,P,v,G,L,z,U,j,E,Y,x,J,ee,ae,he,le,je,lt,ce,Ue,q,F,ve=t[1].warriorLevel+t[1].specialistLevel+t[1].casterLevel+"",ke,Te,Ae=t[1].level+5+"",Le,Pe,K,te,Xe,bt,Ze,Wt,Ct,Lt,nt,jt,Zl,It,xl,el,yt,en,Gn,tn,Et,ln,tl,Ot,An,_t,yl,ll,Pl,Ml,Gl,nn,sn,Tn,Je,nl,Ln,rn,kl,vt,on,an,Ut,Ye,Al,il,Tl,Ll,jl,cn,un,Pt,Ke,Ol,jn,fn,zt,Ft,Yt,_n,On,gt=H({length:t[1].experience}),ct=[];for(let T=0;T<gt.length;T+=1)ct[T]=Rs(Ns(t,gt,T));let Ht=H({length:10-t[1].experience}),ut=[];for(let T=0;T<Ht.length;T+=1)ut[T]=Is(Os(t,Ht,T));function Vn(T){t[6](T)}let Nn={min:0,max:10,maxAction:t[3],$$slots:{"max-icon":[Kc]},$$scope:{ctx:t}};t[1].experience!==void 0&&(Nn.value=t[1].experience),G=new zn({props:Nn}),fe.push(()=>Ce(G,"value",Vn));function Jn(T){t[7](T)}let sl={min:1,max:20};t[1].level!==void 0&&(sl.value=t[1].level),E=new zn({props:sl}),fe.push(()=>Ce(E,"value",Jn));function Kn(T){t[8](T)}let hn={min:0,max:t[2]};t[1].warriorLevel!==void 0&&(hn.value=t[1].warriorLevel),Ze=new zn({props:hn}),fe.push(()=>Ce(Ze,"value",Kn));function Qn(T){t[9](T)}let Vt={min:0,max:t[2]};t[1].specialistLevel!==void 0&&(Vt.value=t[1].specialistLevel),It=new zn({props:Vt}),fe.push(()=>Ce(It,"value",Qn));function rl(T){t[10](T)}let Rn={min:0,max:t[2]};t[1].casterLevel!==void 0&&(Rn.value=t[1].casterLevel),Et=new zn({props:Rn}),fe.push(()=>Ce(Et,"value",rl));let Mt=H({length:20}),xe=[];for(let T=0;T<Mt.length;T+=1)xe[T]=Es(js(t,Mt,T));let ol=H(Object.entries(t[1].levelTrackerPerks)),Qe=[];for(let T=0;T<ol.length;T+=1)Qe[T]=Fs(Ts(t,ol,T));let Jt=H({length:16}),it=[];for(let T=0;T<Jt.length;T+=1)it[T]=Hs(As(t,Jt,T));let st=H(Object.entries(t[1].warriorTrackerPerks)),Ve=[];for(let T=0;T<st.length;T+=1)Ve[T]=Bs(Ms(t,st,T));let al=H({length:16}),rt=[];for(let T=0;T<al.length;T+=1)rt[T]=Ds(Ps(t,al,T));let cl=H(Object.entries(t[1].specialistTrackerPerks)),et=[];for(let T=0;T<cl.length;T+=1)et[T]=Us(Cs(t,cl,T));let ul=H({length:16}),Oe=[];for(let T=0;T<ul.length;T+=1)Oe[T]=Ys(ws(t,ul,T));let $e=H(Object.entries(t[1].casterTrackerPerks)),tt=[];for(let T=0;T<$e.length;T+=1)tt[T]=Js($s(t,$e,T));return{c(){e=d("div"),l=d("h1"),l.innerHTML='<img src="/img/icons/PromotionIcon.svg" alt=""/> Level Builder <img src="/img/icons/PromotionIcon.svg" alt=""/>',n=k(),i=d("div"),s=d("div"),r=d("label"),o=O(`Character Name:
        `),a=d("input"),c=k(),u=d("div"),_=d("div"),p=d("h2"),p.textContent="Experience",h=k(),g=d("p"),C=O("[");for(let T=0;T<ct.length;T+=1)ct[T].c();b=ye();for(let T=0;T<ut.length;T+=1)ut[T].c();P=O("]"),v=k(),W(G.$$.fragment),z=k(),U=d("h2"),U.textContent="Level",j=k(),W(E.$$.fragment),x=k(),J=d("div"),ee=d("h2"),ee.textContent="Archetype Levels",ae=k(),he=d("table"),le=d("tr"),je=d("td"),lt=k(),ce=d("th"),Ue=O("To Spend"),q=d("br"),F=k(),ke=O(ve),Te=O("/"),Le=O(Ae),Pe=k(),K=d("tr"),te=d("td"),te.textContent="Warrior",Xe=k(),bt=d("td"),W(Ze.$$.fragment),Ct=k(),Lt=d("tr"),nt=d("td"),nt.textContent="Specialist",jt=k(),Zl=d("td"),W(It.$$.fragment),el=k(),yt=d("tr"),en=d("td"),en.textContent="Caster",Gn=k(),tn=d("td"),W(Et.$$.fragment),tl=k(),Ot=d("h2"),Ot.textContent="Upcoming Perks",An=k(),_t=d("div"),yl=d("div"),yl.textContent="Character Level",ll=k();for(let T=0;T<xe.length;T+=1)xe[T].c();Pl=k(),Ml=d("div"),Ml.textContent="Total",Gl=k();for(let T=0;T<Qe.length;T+=1)Qe[T].c();nn=k(),sn=d("h4"),sn.textContent="Warrior",Tn=k(),Je=d("div"),nl=d("div"),nl.textContent="Warrior Level",Ln=k();for(let T=0;T<it.length;T+=1)it[T].c();rn=k(),kl=d("div"),kl.textContent="Total",vt=k();for(let T=0;T<Ve.length;T+=1)Ve[T].c();on=k(),an=d("h4"),an.textContent="Specialist",Ut=k(),Ye=d("div"),Al=d("div"),Al.textContent="Specialist Level",il=k();for(let T=0;T<rt.length;T+=1)rt[T].c();Tl=k(),Ll=d("div"),Ll.textContent="Total",jl=k();for(let T=0;T<et.length;T+=1)et[T].c();cn=k(),un=d("h4"),un.textContent="Caster",Pt=k(),Ke=d("div"),Ol=d("div"),Ol.textContent="Caster Level",jn=k();for(let T=0;T<Oe.length;T+=1)Oe[T].c();fn=k(),zt=d("div"),zt.textContent="Total",Ft=k();for(let T=0;T<tt.length;T+=1)tt[T].c();ue(a,"align-self","stretch"),m(a,"placeholder","Unnamed Character"),m(a,"class","svelte-7jvwhn"),V(a,"needs-input",!t[1].name),m(r,"class","label-h svelte-7jvwhn"),ue(r,"line-height","1em"),m(s,"class","sheet-block-h"),ue(p,"margin-bottom","0"),ue(g,"font-size","14pt"),m(_,"class","sheet-block-v"),ue(ee,"margin-bottom","0"),m(he,"class","point-table"),m(J,"class","sheet-block-v"),m(u,"class","sheet-block-h"),m(yl,"class","tracker-cell-label svelte-7jvwhn"),m(Ml,"class","tracker-cell-total svelte-7jvwhn"),m(_t,"id","level-tracker"),m(_t,"class","svelte-7jvwhn"),m(nl,"class","tracker-cell-label svelte-7jvwhn"),m(kl,"class","tracker-cell-total svelte-7jvwhn"),m(Je,"id","arch-level-tracker"),m(Je,"class","svelte-7jvwhn"),m(Al,"class","tracker-cell-label svelte-7jvwhn"),m(Ll,"class","tracker-cell-total svelte-7jvwhn"),m(Ye,"id","arch-level-tracker"),m(Ye,"class","svelte-7jvwhn"),m(Ol,"class","tracker-cell-label svelte-7jvwhn"),m(zt,"class","tracker-cell-total svelte-7jvwhn"),m(Ke,"id","arch-level-tracker"),m(Ke,"class","svelte-7jvwhn"),m(i,"class","sheet-block-v"),m(e,"class","sheet-block")},m(T,pe){S(T,e,pe),f(e,l),f(e,n),f(e,i),f(i,s),f(s,r),f(r,o),f(r,a),be(a,t[1].name),f(i,c),f(i,u),f(u,_),f(_,p),f(_,h),f(_,g),f(g,C);for(let Z=0;Z<ct.length;Z+=1)ct[Z]&&ct[Z].m(g,null);f(g,b);for(let Z=0;Z<ut.length;Z+=1)ut[Z]&&ut[Z].m(g,null);f(g,P),f(_,v),B(G,_,null),f(_,z),f(_,U),f(_,j),B(E,_,null),f(u,x),f(u,J),f(J,ee),f(J,ae),f(J,he),f(he,le),f(le,je),f(le,lt),f(le,ce),f(ce,Ue),f(ce,q),f(ce,F),f(ce,ke),f(ce,Te),f(ce,Le),f(he,Pe),f(he,K),f(K,te),f(K,Xe),f(K,bt),B(Ze,bt,null),f(he,Ct),f(he,Lt),f(Lt,nt),f(Lt,jt),f(Lt,Zl),B(It,Zl,null),f(he,el),f(he,yt),f(yt,en),f(yt,Gn),f(yt,tn),B(Et,tn,null),f(i,tl),f(i,Ot),f(i,An),f(i,_t),f(_t,yl),f(_t,ll);for(let Z=0;Z<xe.length;Z+=1)xe[Z]&&xe[Z].m(_t,null);f(_t,Pl),f(_t,Ml),f(_t,Gl);for(let Z=0;Z<Qe.length;Z+=1)Qe[Z]&&Qe[Z].m(_t,null);f(i,nn),f(i,sn),f(i,Tn),f(i,Je),f(Je,nl),f(Je,Ln);for(let Z=0;Z<it.length;Z+=1)it[Z]&&it[Z].m(Je,null);f(Je,rn),f(Je,kl),f(Je,vt);for(let Z=0;Z<Ve.length;Z+=1)Ve[Z]&&Ve[Z].m(Je,null);f(i,on),f(i,an),f(i,Ut),f(i,Ye),f(Ye,Al),f(Ye,il);for(let Z=0;Z<rt.length;Z+=1)rt[Z]&&rt[Z].m(Ye,null);f(Ye,Tl),f(Ye,Ll),f(Ye,jl);for(let Z=0;Z<et.length;Z+=1)et[Z]&&et[Z].m(Ye,null);f(i,cn),f(i,un),f(i,Pt),f(i,Ke),f(Ke,Ol),f(Ke,jn);for(let Z=0;Z<Oe.length;Z+=1)Oe[Z]&&Oe[Z].m(Ke,null);f(Ke,fn),f(Ke,zt),f(Ke,Ft);for(let Z=0;Z<tt.length;Z+=1)tt[Z]&&tt[Z].m(Ke,null);Yt=!0,_n||(On=Q(a,"input",t[5]),_n=!0)},p(T,pe){if(pe[0]&2&&a.value!==T[1].name&&be(a,T[1].name),(!Yt||pe[0]&2)&&V(a,"needs-input",!T[1].name),pe[0]&2){const R=gt.length;gt=H({length:T[1].experience});let ne;for(ne=R;ne<gt.length;ne+=1)Ns(T,gt,ne),ct[ne]||(ct[ne]=Rs(),ct[ne].c(),ct[ne].m(g,b));for(ne=gt.length;ne<R;ne+=1)ct[ne].d(1);ct.length=gt.length}if(pe[0]&2){const R=Ht.length;Ht=H({length:10-T[1].experience});let ne;for(ne=R;ne<Ht.length;ne+=1)Os(T,Ht,ne),ut[ne]||(ut[ne]=Is(),ut[ne].c(),ut[ne].m(g,P));for(ne=Ht.length;ne<R;ne+=1)ut[ne].d(1);ut.length=Ht.length}const Z={};pe[1]&16&&(Z.$$scope={dirty:pe,ctx:T}),!L&&pe[0]&2&&(L=!0,Z.value=T[1].experience,we(()=>L=!1)),G.$set(Z);const In={};!Y&&pe[0]&2&&(Y=!0,In.value=T[1].level,we(()=>Y=!1)),E.$set(In),(!Yt||pe[0]&2)&&ve!==(ve=T[1].warriorLevel+T[1].specialistLevel+T[1].casterLevel+"")&&X(ke,ve),(!Yt||pe[0]&2)&&Ae!==(Ae=T[1].level+5+"")&&X(Le,Ae);const Kt={};pe[0]&4&&(Kt.max=T[2]),!Wt&&pe[0]&2&&(Wt=!0,Kt.value=T[1].warriorLevel,we(()=>Wt=!1)),Ze.$set(Kt);const ot={};pe[0]&4&&(ot.max=T[2]),!xl&&pe[0]&2&&(xl=!0,ot.value=T[1].specialistLevel,we(()=>xl=!1)),It.$set(ot);const qt={};if(pe[0]&4&&(qt.max=T[2]),!ln&&pe[0]&2&&(ln=!0,qt.value=T[1].casterLevel,we(()=>ln=!1)),Et.$set(qt),pe[0]&2){Mt=H({length:20});let R;for(R=0;R<Mt.length;R+=1){const ne=js(T,Mt,R);xe[R]?xe[R].p(ne,pe):(xe[R]=Es(ne),xe[R].c(),xe[R].m(_t,Pl))}for(;R<xe.length;R+=1)xe[R].d(1);xe.length=Mt.length}if(pe[0]&2){ol=H(Object.entries(T[1].levelTrackerPerks));let R;for(R=0;R<ol.length;R+=1){const ne=Ts(T,ol,R);Qe[R]?Qe[R].p(ne,pe):(Qe[R]=Fs(ne),Qe[R].c(),Qe[R].m(_t,null))}for(;R<Qe.length;R+=1)Qe[R].d(1);Qe.length=ol.length}if(pe[0]&2){Jt=H({length:16});let R;for(R=0;R<Jt.length;R+=1){const ne=As(T,Jt,R);it[R]?it[R].p(ne,pe):(it[R]=Hs(ne),it[R].c(),it[R].m(Je,rn))}for(;R<it.length;R+=1)it[R].d(1);it.length=Jt.length}if(pe[0]&2){st=H(Object.entries(T[1].warriorTrackerPerks));let R;for(R=0;R<st.length;R+=1){const ne=Ms(T,st,R);Ve[R]?Ve[R].p(ne,pe):(Ve[R]=Bs(ne),Ve[R].c(),Ve[R].m(Je,null))}for(;R<Ve.length;R+=1)Ve[R].d(1);Ve.length=st.length}if(pe[0]&2){al=H({length:16});let R;for(R=0;R<al.length;R+=1){const ne=Ps(T,al,R);rt[R]?rt[R].p(ne,pe):(rt[R]=Ds(ne),rt[R].c(),rt[R].m(Ye,Tl))}for(;R<rt.length;R+=1)rt[R].d(1);rt.length=al.length}if(pe[0]&2){cl=H(Object.entries(T[1].specialistTrackerPerks));let R;for(R=0;R<cl.length;R+=1){const ne=Cs(T,cl,R);et[R]?et[R].p(ne,pe):(et[R]=Us(ne),et[R].c(),et[R].m(Ye,null))}for(;R<et.length;R+=1)et[R].d(1);et.length=cl.length}if(pe[0]&2){ul=H({length:16});let R;for(R=0;R<ul.length;R+=1){const ne=ws(T,ul,R);Oe[R]?Oe[R].p(ne,pe):(Oe[R]=Ys(ne),Oe[R].c(),Oe[R].m(Ke,fn))}for(;R<Oe.length;R+=1)Oe[R].d(1);Oe.length=ul.length}if(pe[0]&2){$e=H(Object.entries(T[1].casterTrackerPerks));let R;for(R=0;R<$e.length;R+=1){const ne=$s(T,$e,R);tt[R]?tt[R].p(ne,pe):(tt[R]=Js(ne),tt[R].c(),tt[R].m(Ke,null))}for(;R<tt.length;R+=1)tt[R].d(1);tt.length=$e.length}},i(T){Yt||(M(G.$$.fragment,T),M(E.$$.fragment,T),M(Ze.$$.fragment,T),M(It.$$.fragment,T),M(Et.$$.fragment,T),Yt=!0)},o(T){A(G.$$.fragment,T),A(E.$$.fragment,T),A(Ze.$$.fragment,T),A(It.$$.fragment,T),A(Et.$$.fragment,T),Yt=!1},d(T){T&&$(e),ie(ct,T),ie(ut,T),D(G),D(E),D(Ze),D(It),D(Et),ie(xe,T),ie(Qe,T),ie(it,T),ie(Ve,T),ie(rt,T),ie(et,T),ie(Oe,T),ie(tt,T),_n=!1,On()}}}function Ks(t,e,l){return isNaN(t)?1:Math.max(e,Math.min(l,t),0)}function Xc(t,e,l){let n,i=I,s=()=>(i(),i=wt(o,b=>l(1,n=b)),o);t.$$.on_destroy.push(()=>i());let{id:r}=e,{character:o}=e;s();function a(){n.experience<10||n.level>=20||(We(o,n.experience=Ks(n.experience-10,0,10),n),We(o,n.level=Ks(n.level+1,1,20),n))}let c=4;function u(){n.name=this.value,o.set(n)}function _(b){t.$$.not_equal(n.experience,b)&&(n.experience=b,o.set(n))}function p(b){t.$$.not_equal(n.level,b)&&(n.level=b,o.set(n))}function h(b){t.$$.not_equal(n.warriorLevel,b)&&(n.warriorLevel=b,o.set(n))}function g(b){t.$$.not_equal(n.specialistLevel,b)&&(n.specialistLevel=b,o.set(n))}function C(b){t.$$.not_equal(n.casterLevel,b)&&(n.casterLevel=b,o.set(n))}return t.$$set=b=>{"id"in b&&l(4,r=b.id),"character"in b&&s(l(0,o=b.character))},t.$$.update=()=>{t.$$.dirty[0]&2&&l(2,c=n.level+3)},[o,n,c,a,r,u,_,p,h,g,C]}let Zc=class extends ge{constructor(e){super(),me(this,e,Xc,Qc,_e,{id:4,character:0},null,[-1,-1])}};function xc(t){let e,l,n,i,s;return{c(){e=d("div"),l=d("input"),n=d("br"),m(l,"id",t[0]),m(l,"class","text-input svelte-pmfp9m"),m(l,"type","text"),m(l,"inputmode","numeric"),l.disabled=t[1],V(l,"invalid-input",!t[3]),m(e,"class","text-box svelte-pmfp9m")},m(r,o){S(r,e,o),f(e,l),t[8](l),f(e,n),i||(s=Q(l,"change",t[4]),i=!0)},p(r,[o]){o&1&&m(l,"id",r[0]),o&2&&(l.disabled=r[1]),o&8&&V(l,"invalid-input",!r[3])},i:I,o:I,d(r){r&&$(e),t[8](null),i=!1,s()}}}function eu(t,e,l){let{id:n=void 0}=e,{value:i}=e,{isValid:s=void 0}=e,{sanitizer:r=void 0}=e,{disabled:o=void 0}=e,a,c=!0;function u(){var p=a.value;l(3,c=s==null||s(p)),c&&l(5,i=r!=null?r(p):p)}function _(p){fe[p?"unshift":"push"](()=>{a=p,l(2,a),l(5,i),l(6,s)})}return t.$$set=p=>{"id"in p&&l(0,n=p.id),"value"in p&&l(5,i=p.value),"isValid"in p&&l(6,s=p.isValid),"sanitizer"in p&&l(7,r=p.sanitizer),"disabled"in p&&l(1,o=p.disabled)},t.$$.update=()=>{t.$$.dirty&100&&a&&i!==a.value&&(l(2,a.value=(i==null?void 0:i.toString())??"",a),l(3,c=s==null||s(i)))},[n,o,a,c,u,i,s,r,_]}class vl extends ge{constructor(e){super(),me(this,e,eu,xc,_e,{id:0,value:5,isValid:6,sanitizer:7,disabled:1})}}function*gn(t,e){for(let l=0;l<t.length;l+=e)yield t.slice(l,l+e)}function Qs(t,e,l){const n=t.slice();return n[13]=e[l],n}function Xs(t){let e,l=t[5](t[0])+"",n,i;return{c(){e=d("option"),n=O(l),i=k(),ue(e,"color","var(--error-color)"),e.__value=t[0],be(e,e.__value),e.selected=!0},m(s,r){S(s,e,r),f(e,n),f(e,i)},p(s,r){r&33&&l!==(l=s[5](s[0])+"")&&X(n,l),r&1&&(e.__value=s[0],be(e,e.__value))},d(s){s&&$(e)}}}function Zs(t){let e,l=t[13].label+"",n,i,s,r;return{c(){e=d("option"),n=O(l),i=k(),ue(e,"text-align","center"),e.__value=s=t[13].value,be(e,e.__value),e.selected=r=t[0]===t[13].value},m(o,a){S(o,e,a),f(e,n),f(e,i)},p(o,a){a&256&&l!==(l=o[13].label+"")&&X(n,l),a&256&&s!==(s=o[13].value)&&(e.__value=s,be(e,e.__value)),a&257&&r!==(r=o[0]===o[13].value)&&(e.selected=r)},d(o){o&&$(e)}}}function tu(t){let e,l,n,i,s=(t[0]<t[2]||t[0]>t[3])&&Xs(t),r=H(t[8]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Zs(Qs(t,r,a));return{c(){e=d("select"),s&&s.c(),l=ye();for(let a=0;a<o.length;a+=1)o[a].c();m(e,"id",t[1]),m(e,"class","button svelte-1ba6c1i"),e.disabled=t[4],V(e,"bright",t[0]!=0),V(e,"invalid-input",!t[7])},m(a,c){S(a,e,c),s&&s.m(e,null),f(e,l);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);t[10](e),n||(i=Q(e,"change",t[9]),n=!0)},p(a,[c]){if(a[0]<a[2]||a[0]>a[3]?s?s.p(a,c):(s=Xs(a),s.c(),s.m(e,l)):s&&(s.d(1),s=null),c&257){r=H(a[8]);let u;for(u=0;u<r.length;u+=1){const _=Qs(a,r,u);o[u]?o[u].p(_,c):(o[u]=Zs(_),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}c&2&&m(e,"id",a[1]),c&16&&(e.disabled=a[4]),c&1&&V(e,"bright",a[0]!=0),c&128&&V(e,"invalid-input",!a[7])},i:I,o:I,d(a){a&&$(e),s&&s.d(),ie(o,a),t[10](null),n=!1,i()}}}function lu(t,e,l){let{id:n=void 0}=e,{value:i}=e,{min:s=0}=e,{max:r=10}=e,{disabled:o=void 0}=e,{format:a=b=>b.toString()}=e,c,u=!0,_=[];function p(b,P){let v;b>=P?v=[{value:b,label:a(b)}]:v=Array.from({length:Math.floor(P+1-b)},(G,L)=>{let z=b+L;return{value:z,label:a(z)}}),l(8,_=v),l(7,u=i!=null&&i>=b&&i<=P)}function h(b){c&&b!==Number.parseInt(c.value)&&(l(6,c.value=b==null?void 0:b.toString(),c),l(7,u=b===Qt(b,s,r)))}function g(){var b=Number.parseInt(c.value);l(7,u=b===Qt(b,s,r)),u&&l(0,i=b)}function C(b){fe[b?"unshift":"push"](()=>{c=b,l(6,c),l(8,_),l(0,i)})}return t.$$set=b=>{"id"in b&&l(1,n=b.id),"value"in b&&l(0,i=b.value),"min"in b&&l(2,s=b.min),"max"in b&&l(3,r=b.max),"disabled"in b&&l(4,o=b.disabled),"format"in b&&l(5,a=b.format)},t.$$.update=()=>{t.$$.dirty&12&&p(s,r),t.$$.dirty&1&&h(i)},[i,n,s,r,o,a,c,u,_,g,C]}class Cl extends ge{constructor(e){super(),me(this,e,lu,tu,_e,{id:1,value:0,min:2,max:3,disabled:4,format:5})}}function xs(t,e,l){const n=t.slice();return n[31]=e[l],n[33]=l,n}function er(t,e,l){const n=t.slice();return n[34]=e[l],n[35]=e,n[36]=l,n}function tr(t,e,l){const n=t.slice();return n[31]=e[l],n[33]=l,n}function lr(t,e,l){const n=t.slice();return n[34]=e[l],n[38]=e,n[39]=l,n}function nu(t,e,l){const n=t.slice();return n[40]=e[l],n}function nr(t,e,l){const n=t.slice();return n[31]=e[l],n[33]=l,n}function ir(t,e,l){const n=t.slice();return n[34]=e[l],n[44]=e,n[45]=l,n}function sr(t,e,l){const n=t.slice();return n[34]=e[l],n[46]=e,n[47]=l,n}function rr(t,e,l){const n=t.slice();return n[40]=e[l],n}function or(t,e,l){const n=t.slice();return n[50]=e[l],n}function ar(t,e,l){const n=t.slice();n[50]=e[l],n[53]=e,n[54]=l;const i=n[1].explorationStatGenMethod===Ge.Manual?n[1].statGen_Manual[n[50]]:n[1].statGen_Roll[n[50]]??-1;return n[40]=i,n}function cr(t,e,l){const n=t.slice();return n[50]=e[l],n[55]=e,n[56]=l,n}function iu(t,e,l){const n=t.slice();return n[50]=e[l],n}function ur(t,e,l){const n=t.slice();return n[59]=e[l],n}function fr(t,e,l){const n=t.slice();n[59]=e[l],n[62]=e,n[63]=l;const i=n[1].socialStatGenMethod===Ge.Manual?n[1].statGen_Manual[n[59]]:n[1].statGen_Roll[n[59]]??-1;return n[40]=i,n}function _r(t,e,l){const n=t.slice();return n[59]=e[l],n[64]=e,n[65]=l,n}function su(t,e,l){const n=t.slice();return n[59]=e[l],n}function ru(t){let e;return{c(){e=d("th"),e.textContent=`${t[59]}`},m(l,n){S(l,e,n)},p:I,d(l){l&&$(e)}}}function ou(t){let e;return{c(){e=O("(rolled)")},m(l,n){S(l,e,n)},p:I,d(l){l&&$(e)}}}function au(t){let e,l,n,i;return{c(){e=d("span"),l=O(t[3]),n=O("/"),i=O(t[14]),m(e,"class","svelte-1ay1alg"),V(e,"red",t[3]!=t[14])},m(s,r){S(s,e,r),f(e,l),S(s,n,r),S(s,i,r)},p(s,r){r[0]&8&&X(l,s[3]),r[0]&16392&&V(e,"red",s[3]!=s[14])},d(s){s&&($(e),$(n),$(i))}}}function cu(t){let e,l;return e=new vl({props:{id:"stat-"+t[59]+"-input",value:t[1].statGen_Roll[t[59]],disabled:!0}}),{c(){W(e.$$.fragment)},m(n,i){B(e,n,i),l=!0},p(n,i){const s={};i[0]&2&&(s.value=n[1].statGen_Roll[n[59]]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function uu(t){let e,l,n;function i(r){t[21](r,t[59])}let s={min:-1,max:5};return t[1].statGen_Manual[t[59]]!==void 0&&(s.value=t[1].statGen_Manual[t[59]]),e=new Cl({props:s}),fe.push(()=>Ce(e,"value",i)),{c(){W(e.$$.fragment)},m(r,o){B(e,r,o),n=!0},p(r,o){t=r;const a={};!l&&o[0]&2&&(l=!0,a.value=t[1].statGen_Manual[t[59]],we(()=>l=!1)),e.$set(a)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function hr(t){let e,l,n,i,s;const r=[uu,cu],o=[];function a(c,u){return c[1].socialStatGenMethod===Ge.Manual?0:1}return l=a(t),n=o[l]=r[l](t),{c(){e=d("td"),n.c(),i=k()},m(c,u){S(c,e,u),o[l].m(e,null),f(e,i),s=!0},p(c,u){let _=l;l=a(c),l===_?o[l].p(c,u):(se(),A(o[_],1,1,()=>{o[_]=null}),re(),n=o[l],n?n.p(c,u):(n=o[l]=r[l](c),n.c()),M(n,1),n.m(e,i))},i(c){s||(M(n),s=!0)},o(c){A(n),s=!1},d(c){c&&$(e),o[l].d()}}}function pr(t){let e,l,n,i,s;function r(a){t[22](a,t[59])}let o={min:0,max:5-t[40]};return t[1].statImprovements[t[59]]!==void 0&&(o.value=t[1].statImprovements[t[59]]),l=new Cl({props:o}),fe.push(()=>Ce(l,"value",r)),{c(){e=d("td"),W(l.$$.fragment),i=k()},m(a,c){S(a,e,c),B(l,e,null),f(e,i),s=!0},p(a,c){t=a;const u={};c[0]&2&&(u.max=5-t[40]),!n&&c[0]&2&&(n=!0,u.value=t[1].statImprovements[t[59]],we(()=>n=!1)),l.$set(u)},i(a){s||(M(l.$$.fragment,a),s=!0)},o(a){A(l.$$.fragment,a),s=!1},d(a){a&&$(e),D(l)}}}function dr(t){let e,l,n,i;return l=new vl({props:{value:t[1].GetStat(t[59]),disabled:!0}}),{c(){e=d("td"),W(l.$$.fragment),n=k()},m(s,r){S(s,e,r),B(l,e,null),f(e,n),i=!0},p(s,r){const o={};r[0]&2&&(o.value=s[1].GetStat(s[59])),l.$set(o)},i(s){i||(M(l.$$.fragment,s),i=!0)},o(s){A(l.$$.fragment,s),i=!1},d(s){s&&$(e),D(l)}}}function mr(t){let e,l,n,i=t[3]!=t[14]?"":"Re-",s,r,o,a,c,u,_,p;return{c(){e=d("div"),l=d("div"),n=d("button"),s=O(i),r=O("Roll "),o=O(t[14]),a=O("d3"),c=O(`
            =>
            `),u=d("input"),m(u,"type","string"),ue(u,"width",t[14]*1.2+"em"),u.value=t[2],u.disabled=!0,m(l,"class","sheet-row svelte-1ay1alg"),m(e,"class","sheet-section svelte-1ay1alg")},m(h,g){S(h,e,g),f(e,l),f(l,n),f(n,s),f(n,r),f(n,o),f(n,a),f(l,c),f(l,u),_||(p=Q(n,"click",t[15]),_=!0)},p(h,g){g[0]&8&&i!==(i=h[3]!=h[14]?"":"Re-")&&X(s,i),g[0]&4&&u.value!==h[2]&&(u.value=h[2])},d(h){h&&$(e),_=!1,p()}}}function fu(t){let e;return{c(){e=d("th"),e.textContent=`${t[50]}`},m(l,n){S(l,e,n)},p:I,d(l){l&&$(e)}}}function _u(t){let e;return{c(){e=O("(rolled)")},m(l,n){S(l,e,n)},p:I,d(l){l&&$(e)}}}function hu(t){let e,l,n,i;return{c(){e=d("span"),l=O(t[6]),n=O("/"),i=O(t[14]),m(e,"class","svelte-1ay1alg"),V(e,"red",t[6]!=t[14])},m(s,r){S(s,e,r),f(e,l),S(s,n,r),S(s,i,r)},p(s,r){r[0]&64&&X(l,s[6]),r[0]&16448&&V(e,"red",s[6]!=s[14])},d(s){s&&($(e),$(n),$(i))}}}function pu(t){let e,l;return e=new vl({props:{id:"stat-"+t[50]+"-input",value:t[1].statGen_Roll[t[50]],disabled:!0}}),{c(){W(e.$$.fragment)},m(n,i){B(e,n,i),l=!0},p(n,i){const s={};i[0]&2&&(s.value=n[1].statGen_Roll[n[50]]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function du(t){let e,l,n;function i(r){t[25](r,t[50])}let s={min:-1,max:5};return t[1].statGen_Manual[t[50]]!==void 0&&(s.value=t[1].statGen_Manual[t[50]]),e=new Cl({props:s}),fe.push(()=>Ce(e,"value",i)),{c(){W(e.$$.fragment)},m(r,o){B(e,r,o),n=!0},p(r,o){t=r;const a={};!l&&o[0]&2&&(l=!0,a.value=t[1].statGen_Manual[t[50]],we(()=>l=!1)),e.$set(a)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function gr(t){let e,l,n,i,s;const r=[du,pu],o=[];function a(c,u){return c[1].explorationStatGenMethod===Ge.Manual?0:1}return l=a(t),n=o[l]=r[l](t),{c(){e=d("td"),n.c(),i=k()},m(c,u){S(c,e,u),o[l].m(e,null),f(e,i),s=!0},p(c,u){let _=l;l=a(c),l===_?o[l].p(c,u):(se(),A(o[_],1,1,()=>{o[_]=null}),re(),n=o[l],n?n.p(c,u):(n=o[l]=r[l](c),n.c()),M(n,1),n.m(e,i))},i(c){s||(M(n),s=!0)},o(c){A(n),s=!1},d(c){c&&$(e),o[l].d()}}}function br(t){let e,l,n,i,s;function r(a){t[26](a,t[50])}let o={min:0,max:5-t[40]};return t[1].statImprovements[t[50]]!==void 0&&(o.value=t[1].statImprovements[t[50]]),l=new Cl({props:o}),fe.push(()=>Ce(l,"value",r)),{c(){e=d("td"),W(l.$$.fragment),i=k()},m(a,c){S(a,e,c),B(l,e,null),f(e,i),s=!0},p(a,c){t=a;const u={};c[0]&2&&(u.max=5-t[40]),!n&&c[0]&2&&(n=!0,u.value=t[1].statImprovements[t[50]],we(()=>n=!1)),l.$set(u)},i(a){s||(M(l.$$.fragment,a),s=!0)},o(a){A(l.$$.fragment,a),s=!1},d(a){a&&$(e),D(l)}}}function vr(t){let e,l,n,i;return l=new vl({props:{value:t[1].GetStat(t[50]),disabled:!0}}),{c(){e=d("td"),W(l.$$.fragment),n=k()},m(s,r){S(s,e,r),B(l,e,null),f(e,n),i=!0},p(s,r){const o={};r[0]&2&&(o.value=s[1].GetStat(s[50])),l.$set(o)},i(s){i||(M(l.$$.fragment,s),i=!0)},o(s){A(l.$$.fragment,s),i=!1},d(s){s&&$(e),D(l)}}}function kr(t){let e,l,n,i=t[6]!=t[14]?"":"Re-",s,r,o,a,c,u,_,p;return{c(){e=d("div"),l=d("div"),n=d("button"),s=O(i),r=O("Roll "),o=O(t[14]),a=O("d3"),c=O(`
            =>
            `),u=d("input"),m(u,"type","string"),ue(u,"width",t[14]*1.2+"em"),u.value=t[5],u.disabled=!0,m(l,"class","sheet-row svelte-1ay1alg"),m(e,"class","sheet-section svelte-1ay1alg")},m(h,g){S(h,e,g),f(e,l),f(l,n),f(n,s),f(n,r),f(n,o),f(n,a),f(l,c),f(l,u),_||(p=Q(n,"click",t[16]),_=!0)},p(h,g){g[0]&64&&i!==(i=h[6]!=h[14]?"":"Re-")&&X(s,i),g[0]&32&&u.value!==h[5]&&(u.value=h[5])},d(h){h&&$(e),_=!1,p()}}}function $r(t){let e,l,n,i,s,r;return i=new vl({props:{value:t[1].GetStat(t[40]),disabled:!0}}),{c(){e=d("th"),l=O(t[40]),n=O(""),W(i.$$.fragment),s=k()},m(o,a){S(o,e,a),f(e,l),f(e,n),B(i,e,null),f(e,s),r=!0},p(o,a){const c={};a[0]&2&&(c.value=o[1].GetStat(o[40])),i.$set(c)},i(o){r||(M(i.$$.fragment,o),r=!0)},o(o){A(i.$$.fragment,o),r=!1},d(o){o&&$(e),D(i)}}}function Sr(t){let e,l,n,i,s,r,o,a,c,u,_;function p(g){t[27](g,t[34])}let h={id:t[34]+"-dropdown",max:2};return t[1].socialSkills[t[34]].points!==void 0&&(h.value=t[1].socialSkills[t[34]].points),r=new Cl({props:h}),fe.push(()=>Ce(r,"value",p)),c=new vl({props:{value:t[1].GetSkill(t[34],!1),disabled:!0}}),{c(){e=d("td"),l=d("label"),n=d("span"),n.textContent=`${t[34]}`,i=k(),s=d("div"),W(r.$$.fragment),a=k(),W(c.$$.fragment),u=k(),ue(n,"user-select","none"),m(s,"class","svelte-1ay1alg"),m(l,"class","skill-label svelte-1ay1alg"),m(l,"for",t[34]+"-dropdown"),ue(e,"text-align","right")},m(g,C){S(g,e,C),f(e,l),f(l,n),f(l,i),f(l,s),B(r,s,null),f(s,a),B(c,s,null),f(e,u),_=!0},p(g,C){t=g;const b={};!o&&C[0]&2&&(o=!0,b.value=t[1].socialSkills[t[34]].points,we(()=>o=!1)),r.$set(b);const P={};C[0]&2&&(P.value=t[1].GetSkill(t[34],!1)),c.$set(P)},i(g){_||(M(r.$$.fragment,g),M(c.$$.fragment,g),_=!0)},o(g){A(r.$$.fragment,g),A(c.$$.fragment,g),_=!1},d(g){g&&$(e),D(r),D(c)}}}function mu(t){let e;return{c(){e=d("th"),e.textContent="Minor",m(e,"rowspan","2")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function wr(t){let e,l,n,i,s,r,o,a,c,u;function _(h){t[28](h,t[34])}let p={id:t[34]+"-dropdown",max:2};return t[1].socialSkills[t[34]].points!==void 0&&(p.value=t[1].socialSkills[t[34]].points),r=new Cl({props:p}),fe.push(()=>Ce(r,"value",_)),c=new vl({props:{value:t[1].GetSkill(t[34],!1),disabled:!0}}),{c(){e=d("td"),l=d("label"),n=d("span"),n.textContent=`${t[34]}`,i=k(),s=d("div"),W(r.$$.fragment),a=k(),W(c.$$.fragment),ue(n,"user-select","none"),m(s,"class","svelte-1ay1alg"),m(l,"class","skill-label svelte-1ay1alg"),m(l,"for",t[34]+"-dropdown"),ue(e,"text-align","right")},m(h,g){S(h,e,g),f(e,l),f(l,n),f(l,i),f(l,s),B(r,s,null),f(s,a),B(c,s,null),u=!0},p(h,g){t=h;const C={};!o&&g[0]&2&&(o=!0,C.value=t[1].socialSkills[t[34]].points,we(()=>o=!1)),r.$set(C);const b={};g[0]&2&&(b.value=t[1].GetSkill(t[34],!1)),c.$set(b)},i(h){u||(M(r.$$.fragment,h),M(c.$$.fragment,h),u=!0)},o(h){A(r.$$.fragment,h),A(c.$$.fragment,h),u=!1},d(h){h&&$(e),D(r),D(c)}}}function Cr(t){let e,l,n,i,s=t[33]==0&&mu(),r=H(t[31]),o=[];for(let c=0;c<r.length;c+=1)o[c]=wr(ir(t,r,c));const a=c=>A(o[c],1,1,()=>{o[c]=null});return{c(){e=d("tr"),s&&s.c(),l=k();for(let c=0;c<o.length;c+=1)o[c].c();n=k()},m(c,u){S(c,e,u),s&&s.m(e,null),f(e,l);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(e,null);f(e,n),i=!0},p(c,u){if(u[0]&2){r=H(c[31]);let _;for(_=0;_<r.length;_+=1){const p=ir(c,r,_);o[_]?(o[_].p(p,u),M(o[_],1)):(o[_]=wr(p),o[_].c(),M(o[_],1),o[_].m(e,n))}for(se(),_=r.length;_<o.length;_+=1)a(_);re()}},i(c){if(!i){for(let u=0;u<r.length;u+=1)M(o[u]);i=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)A(o[u]);i=!1},d(c){c&&$(e),s&&s.d(),ie(o,c)}}}function gu(t){let e;return{c(){e=d("th"),e.textContent=`${t[40]}`},m(l,n){S(l,e,n)},p:I,d(l){l&&$(e)}}}function bu(t){let e,l,n,i,s,r,o,a;return{c(){e=d("th"),l=O("Major*"),n=d("br"),i=k(),s=d("span"),r=O(t[12]),o=O("/"),a=O(t[11]),m(s,"class","svelte-1ay1alg"),V(s,"red",t[12]>t[11]),m(e,"rowspan","2")},m(c,u){S(c,e,u),f(e,l),f(e,n),f(e,i),f(e,s),f(s,r),f(e,o),f(e,a)},p(c,u){u[0]&4096&&X(r,c[12]),u[0]&6144&&V(s,"red",c[12]>c[11]),u[0]&2048&&X(a,c[11])},d(c){c&&$(e)}}}function yr(t){let e,l,n,i,s,r,o,a,c,u;function _(h){t[29](h,t[34])}let p={id:t[34]+"-dropdown",max:2};return t[1].explorationSkills[t[34]].points!==void 0&&(p.value=t[1].explorationSkills[t[34]].points),r=new Cl({props:p}),fe.push(()=>Ce(r,"value",_)),c=new vl({props:{value:t[1].GetSkill(t[34],!1),disabled:!0}}),{c(){e=d("td"),l=d("label"),n=d("span"),n.textContent=`${t[34]}`,i=k(),s=d("div"),W(r.$$.fragment),a=k(),W(c.$$.fragment),ue(n,"user-select","none"),m(s,"class","svelte-1ay1alg"),m(l,"class","skill-label svelte-1ay1alg"),m(l,"for",t[34]+"-dropdown"),ue(e,"text-align","right")},m(h,g){S(h,e,g),f(e,l),f(l,n),f(l,i),f(l,s),B(r,s,null),f(s,a),B(c,s,null),u=!0},p(h,g){t=h;const C={};!o&&g[0]&2&&(o=!0,C.value=t[1].explorationSkills[t[34]].points,we(()=>o=!1)),r.$set(C);const b={};g[0]&2&&(b.value=t[1].GetSkill(t[34],!1)),c.$set(b)},i(h){u||(M(r.$$.fragment,h),M(c.$$.fragment,h),u=!0)},o(h){A(r.$$.fragment,h),A(c.$$.fragment,h),u=!1},d(h){h&&$(e),D(r),D(c)}}}function Pr(t){let e,l,n,i=t[33]==0&&bu(t),s=H(t[31]),r=[];for(let a=0;a<s.length;a+=1)r[a]=yr(lr(t,s,a));const o=a=>A(r[a],1,1,()=>{r[a]=null});return{c(){e=d("tr"),i&&i.c(),l=k();for(let a=0;a<r.length;a+=1)r[a].c()},m(a,c){S(a,e,c),i&&i.m(e,null),f(e,l);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);n=!0},p(a,c){if(a[33]==0&&i.p(a,c),c[0]&2){s=H(a[31]);let u;for(u=0;u<s.length;u+=1){const _=lr(a,s,u);r[u]?(r[u].p(_,c),M(r[u],1)):(r[u]=yr(_),r[u].c(),M(r[u],1),r[u].m(e,null))}for(se(),u=s.length;u<r.length;u+=1)o(u);re()}},i(a){if(!n){for(let c=0;c<s.length;c+=1)M(r[c]);n=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)A(r[c]);n=!1},d(a){a&&$(e),i&&i.d(),ie(r,a)}}}function vu(t){let e;return{c(){e=d("th"),e.textContent="Minor",m(e,"rowspan","3")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Mr(t){let e,l,n,i,s,r,o,a,c,u;function _(h){t[30](h,t[34])}let p={id:t[34]+"-dropdown",max:2};return t[1].explorationSkills[t[34]].points!==void 0&&(p.value=t[1].explorationSkills[t[34]].points),r=new Cl({props:p}),fe.push(()=>Ce(r,"value",_)),c=new vl({props:{value:t[1].GetSkill(t[34],!1),disabled:!0}}),{c(){e=d("td"),l=d("label"),n=d("span"),n.textContent=`${t[34]}`,i=k(),s=d("div"),W(r.$$.fragment),a=k(),W(c.$$.fragment),ue(n,"user-select","none"),m(s,"class","svelte-1ay1alg"),m(l,"class","skill-label svelte-1ay1alg"),m(l,"for",t[34]+"-dropdown"),ue(e,"text-align","right")},m(h,g){S(h,e,g),f(e,l),f(l,n),f(l,i),f(l,s),B(r,s,null),f(s,a),B(c,s,null),u=!0},p(h,g){t=h;const C={};!o&&g[0]&2&&(o=!0,C.value=t[1].explorationSkills[t[34]].points,we(()=>o=!1)),r.$set(C);const b={};g[0]&2&&(b.value=t[1].GetSkill(t[34],!1)),c.$set(b)},i(h){u||(M(r.$$.fragment,h),M(c.$$.fragment,h),u=!0)},o(h){A(r.$$.fragment,h),A(c.$$.fragment,h),u=!1},d(h){h&&$(e),D(r),D(c)}}}function Gr(t){let e,l,n,i,s=t[33]==0&&vu(),r=H(t[31]),o=[];for(let c=0;c<r.length;c+=1)o[c]=Mr(er(t,r,c));const a=c=>A(o[c],1,1,()=>{o[c]=null});return{c(){e=d("tr"),s&&s.c(),l=k();for(let c=0;c<o.length;c+=1)o[c].c();n=k()},m(c,u){S(c,e,u),s&&s.m(e,null),f(e,l);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(e,null);f(e,n),i=!0},p(c,u){if(u[0]&2){r=H(c[31]);let _;for(_=0;_<r.length;_+=1){const p=er(c,r,_);o[_]?(o[_].p(p,u),M(o[_],1)):(o[_]=Mr(p),o[_].c(),M(o[_],1),o[_].m(e,n))}for(se(),_=r.length;_<o.length;_+=1)a(_);re()}},i(c){if(!i){for(let u=0;u<r.length;u+=1)M(o[u]);i=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)A(o[u]);i=!1},d(c){c&&$(e),s&&s.d(),ie(o,c)}}}function ku(t){let e,l,n,i,s,r,o,a,c,u,_,p,h,g,C,b,P,v,G,L,z,U,j,E,Y,x,J,ee,ae,he,le,je,lt,ce=t[1].StatPoints-t[14]+"",Ue,q,F,ve,ke,Te,Ae,Le,Pe,K,te,Xe,bt,Ze,Wt,Ct,Lt,nt,jt,Zl,It,xl,el,yt,en,Gn,tn,Et,ln,tl,Ot,An,_t,yl,ll,Pl,Ml,Gl=t[1].StatPoints-t[14]+"",nn,sn,Tn,Je,nl,Ln,rn,kl,vt,on,an,Ut,Ye,Al,il,Tl,Ll,jl=t[1].SocialSkillPoints+"",cn,un,Pt,Ke,Ol,jn,fn,zt,Ft,Yt,_n,On,gt,ct,Ht,ut,Vn,Nn,Jn,sl,Kn,hn,Qn,Vt,rl,Rn,Mt,xe,ol,Qe=t[1].ExplorationSkillPoints+"",Jt,it,st,Ve,al,rt,cl,et,ul,Oe,$e,tt,T,pe=H(Gt),Z=[];for(let y=0;y<pe.length;y+=1)Z[y]=ru(su(t,pe,y));function In(y,N){if(y[1].socialStatGenMethod===Ge.Manual)return au;if(y[1].socialStatGenMethod===Ge.Roll)return ou}let Kt=In(t),ot=Kt&&Kt(t),qt=H(Gt),R=[];for(let y=0;y<qt.length;y+=1)R[y]=hr(_r(t,qt,y));const ne=y=>A(R[y],1,1,()=>{R[y]=null});let Nl=H(Gt),Ne=[];for(let y=0;y<Nl.length;y+=1)Ne[y]=pr(fr(t,Nl,y));const Eo=y=>A(Ne[y],1,1,()=>{Ne[y]=null});let Rl=H(Gt),Re=[];for(let y=0;y<Rl.length;y+=1)Re[y]=dr(ur(t,Rl,y));const zo=y=>A(Re[y],1,1,()=>{Re[y]=null});let kt=t[1].socialStatGenMethod===Ge.Roll&&mr(t),Ei=H(Bt),Il=[];for(let y=0;y<Ei.length;y+=1)Il[y]=fu(iu(t,Ei,y));function zi(y,N){if(y[1].explorationStatGenMethod===Ge.Manual)return hu;if(y[1].explorationStatGenMethod===Ge.Roll)return _u}let pn=zi(t),$t=pn&&pn(t),El=H(Bt),Ie=[];for(let y=0;y<El.length;y+=1)Ie[y]=gr(cr(t,El,y));const Fo=y=>A(Ie[y],1,1,()=>{Ie[y]=null});let zl=H(Bt),Ee=[];for(let y=0;y<zl.length;y+=1)Ee[y]=br(ar(t,zl,y));const Ho=y=>A(Ee[y],1,1,()=>{Ee[y]=null});let Fl=H(Bt),ze=[];for(let y=0;y<Fl.length;y+=1)ze[y]=vr(or(t,Fl,y));const qo=y=>A(ze[y],1,1,()=>{ze[y]=null});let St=t[1].explorationStatGenMethod===Ge.Roll&&kr(t),Hl=H(Gt),Fe=[];for(let y=0;y<Hl.length;y+=1)Fe[y]=$r(rr(t,Hl,y));const Bo=y=>A(Fe[y],1,1,()=>{Fe[y]=null});let ql=H(Sn),He=[];for(let y=0;y<ql.length;y+=1)He[y]=Sr(sr(t,ql,y));const Do=y=>A(He[y],1,1,()=>{He[y]=null});let Bl=H(gn(Dn,3)),qe=[];for(let y=0;y<Bl.length;y+=1)qe[y]=Cr(nr(t,Bl,y));const Wo=y=>A(qe[y],1,1,()=>{qe[y]=null});let Fi=H(Bt),Dl=[];for(let y=0;y<Fi.length;y+=1)Dl[y]=gu(nu(t,Fi,y));let Wl=H(gn(wn,3)),Be=[];for(let y=0;y<Wl.length;y+=1)Be[y]=Pr(tr(t,Wl,y));const Uo=y=>A(Be[y],1,1,()=>{Be[y]=null});let Ul=H(gn(Wn,3)),De=[];for(let y=0;y<Ul.length;y+=1)De[y]=Gr(xs(t,Ul,y));const Yo=y=>A(De[y],1,1,()=>{De[y]=null});return{c(){e=d("div"),l=d("h1"),l.innerHTML='<img src="/img/icons/PlusPlusIcon.svg" alt=""/> Stats &amp; Skills <img src="/img/icons/PlusPlusIcon.svg" alt=""/>',n=k(),i=d("div"),s=d("div"),r=d("h2"),r.textContent="Social Stats",o=k(),a=d("div"),c=d("div"),u=d("button"),u.textContent="Manual",_=k(),p=d("button"),p.textContent="Roll",h=k(),g=d("table"),C=d("tr"),b=d("td"),P=k();for(let y=0;y<Z.length;y+=1)Z[y].c();v=k(),G=d("tr"),L=d("th"),z=O("starting"),U=d("br"),j=k(),ot&&ot.c(),E=k();for(let y=0;y<R.length;y+=1)R[y].c();Y=k(),x=d("tr"),J=d("th"),ee=O("points"),ae=d("br"),he=k(),le=d("span"),je=O(t[4]),lt=O("/"),Ue=O(ce),q=k();for(let y=0;y<Ne.length;y+=1)Ne[y].c();F=k(),ve=d("tr"),ke=d("th"),ke.textContent="total",Te=k();for(let y=0;y<Re.length;y+=1)Re[y].c();Ae=k(),kt&&kt.c(),Le=k(),Pe=d("div"),K=d("h2"),K.textContent="Exploration Stats",te=k(),Xe=d("div"),bt=d("div"),Ze=d("button"),Ze.textContent="Manual",Wt=k(),Ct=d("button"),Ct.textContent="Roll",Lt=k(),nt=d("table"),jt=d("tr"),Zl=d("td"),It=k();for(let y=0;y<Il.length;y+=1)Il[y].c();xl=k(),el=d("tr"),yt=d("th"),en=O("starting"),Gn=d("br"),tn=k(),$t&&$t.c(),Et=k();for(let y=0;y<Ie.length;y+=1)Ie[y].c();ln=k(),tl=d("tr"),Ot=d("th"),An=O("points"),_t=d("br"),yl=k(),ll=d("span"),Pl=O(t[7]),Ml=O("/"),nn=O(Gl),sn=k();for(let y=0;y<Ee.length;y+=1)Ee[y].c();Tn=k(),Je=d("tr"),nl=d("th"),nl.textContent="total",Ln=k();for(let y=0;y<ze.length;y+=1)ze[y].c();rn=k(),St&&St.c(),kl=k(),vt=d("div"),on=d("h2"),on.textContent="Social Skills",an=k(),Ut=d("div"),Ye=d("p"),Al=O("Points Spent: "),il=d("span"),Tl=O(t[10]),Ll=O("/"),cn=O(jl),un=k(),Pt=d("table"),Ke=d("tr"),Ol=d("td"),jn=k();for(let y=0;y<Fe.length;y+=1)Fe[y].c();fn=k(),zt=d("tr"),Ft=d("th"),Yt=O("Major*"),_n=d("br"),On=k(),gt=d("span"),ct=O(t[9]),Ht=O("/"),ut=O(t[8]),Vn=k();for(let y=0;y<He.length;y+=1)He[y].c();Nn=k();for(let y=0;y<qe.length;y+=1)qe[y].c();Jn=k(),sl=d("p"),sl.textContent="* You cannot spend more than half your skill points on Major Skills.",Kn=k(),hn=d("h2"),hn.textContent="Exploration Skills",Qn=k(),Vt=d("div"),rl=d("p"),Rn=O("Points Spent: "),Mt=d("span"),xe=O(t[13]),ol=O("/"),Jt=O(Qe),it=k(),st=d("table"),Ve=d("tr"),al=d("td"),rt=k();for(let y=0;y<Dl.length;y+=1)Dl[y].c();cl=k();for(let y=0;y<Be.length;y+=1)Be[y].c();et=k();for(let y=0;y<De.length;y+=1)De[y].c();ul=k(),Oe=d("p"),Oe.textContent="* You cannot spend more than half your skill points on Major Skills.",V(u,"active",t[1].socialStatGenMethod===Ge.Manual),V(p,"active",t[1].socialStatGenMethod===Ge.Roll),m(c,"class","toggle-bg"),m(a,"class","sheet-row svelte-1ay1alg"),m(le,"class","svelte-1ay1alg"),V(le,"red",t[1].StatPoints-t[14]!=t[4]),m(ke,"class","row-header"),m(g,"class","point-table"),m(s,"class","sheet-block-v"),V(Ze,"active",t[1].explorationStatGenMethod===Ge.Manual),V(Ct,"active",t[1].explorationStatGenMethod===Ge.Roll),m(bt,"class","toggle-bg"),m(Xe,"class","sheet-row svelte-1ay1alg"),m(ll,"class","svelte-1ay1alg"),V(ll,"red",t[1].StatPoints-t[14]!=t[7]),m(nl,"class","row-header"),m(nt,"class","point-table"),m(Pe,"class","sheet-block-v"),m(i,"class","sheet-block-h"),m(e,"class","sheet-block svelte-1ay1alg"),m(il,"class","svelte-1ay1alg"),V(il,"red",t[1].SocialSkillPoints!=t[10]),m(gt,"class","svelte-1ay1alg"),V(gt,"red",t[9]>t[8]),ue(Pt,"margin","0px"),m(Pt,"class","point-table"),m(sl,"class","svelte-1ay1alg"),V(sl,"red",t[9]>t[8]),m(Ut,"class","sheet-block-v"),m(Mt,"class","svelte-1ay1alg"),V(Mt,"red",t[1].ExplorationSkillPoints!=t[13]),ue(st,"margin","0px"),m(st,"class","point-table"),m(Oe,"class","svelte-1ay1alg"),V(Oe,"red",t[12]>t[11]),m(Vt,"class","sheet-block-v"),m(vt,"class","sheet-block svelte-1ay1alg")},m(y,N){S(y,e,N),f(e,l),f(e,n),f(e,i),f(i,s),f(s,r),f(s,o),f(s,a),f(a,c),f(c,u),f(c,_),f(c,p),f(s,h),f(s,g),f(g,C),f(C,b),f(C,P);for(let w=0;w<Z.length;w+=1)Z[w]&&Z[w].m(C,null);f(g,v),f(g,G),f(G,L),f(L,z),f(L,U),f(L,j),ot&&ot.m(L,null),f(G,E);for(let w=0;w<R.length;w+=1)R[w]&&R[w].m(G,null);f(g,Y),f(g,x),f(x,J),f(J,ee),f(J,ae),f(J,he),f(J,le),f(le,je),f(J,lt),f(J,Ue),f(x,q);for(let w=0;w<Ne.length;w+=1)Ne[w]&&Ne[w].m(x,null);f(g,F),f(g,ve),f(ve,ke),f(ve,Te);for(let w=0;w<Re.length;w+=1)Re[w]&&Re[w].m(ve,null);f(s,Ae),kt&&kt.m(s,null),f(i,Le),f(i,Pe),f(Pe,K),f(Pe,te),f(Pe,Xe),f(Xe,bt),f(bt,Ze),f(bt,Wt),f(bt,Ct),f(Pe,Lt),f(Pe,nt),f(nt,jt),f(jt,Zl),f(jt,It);for(let w=0;w<Il.length;w+=1)Il[w]&&Il[w].m(jt,null);f(nt,xl),f(nt,el),f(el,yt),f(yt,en),f(yt,Gn),f(yt,tn),$t&&$t.m(yt,null),f(el,Et);for(let w=0;w<Ie.length;w+=1)Ie[w]&&Ie[w].m(el,null);f(nt,ln),f(nt,tl),f(tl,Ot),f(Ot,An),f(Ot,_t),f(Ot,yl),f(Ot,ll),f(ll,Pl),f(Ot,Ml),f(Ot,nn),f(tl,sn);for(let w=0;w<Ee.length;w+=1)Ee[w]&&Ee[w].m(tl,null);f(nt,Tn),f(nt,Je),f(Je,nl),f(Je,Ln);for(let w=0;w<ze.length;w+=1)ze[w]&&ze[w].m(Je,null);f(Pe,rn),St&&St.m(Pe,null),S(y,kl,N),S(y,vt,N),f(vt,on),f(vt,an),f(vt,Ut),f(Ut,Ye),f(Ye,Al),f(Ye,il),f(il,Tl),f(Ye,Ll),f(Ye,cn),f(Ye,un),f(Ut,Pt),f(Pt,Ke),f(Ke,Ol),f(Ke,jn);for(let w=0;w<Fe.length;w+=1)Fe[w]&&Fe[w].m(Ke,null);f(Pt,fn),f(Pt,zt),f(zt,Ft),f(Ft,Yt),f(Ft,_n),f(Ft,On),f(Ft,gt),f(gt,ct),f(Ft,Ht),f(Ft,ut),f(zt,Vn);for(let w=0;w<He.length;w+=1)He[w]&&He[w].m(zt,null);f(Pt,Nn);for(let w=0;w<qe.length;w+=1)qe[w]&&qe[w].m(Pt,null);f(Ut,Jn),f(Ut,sl),f(vt,Kn),f(vt,hn),f(vt,Qn),f(vt,Vt),f(Vt,rl),f(rl,Rn),f(rl,Mt),f(Mt,xe),f(rl,ol),f(rl,Jt),f(rl,it),f(Vt,st),f(st,Ve),f(Ve,al),f(Ve,rt);for(let w=0;w<Dl.length;w+=1)Dl[w]&&Dl[w].m(Ve,null);f(st,cl);for(let w=0;w<Be.length;w+=1)Be[w]&&Be[w].m(st,null);f(st,et);for(let w=0;w<De.length;w+=1)De[w]&&De[w].m(st,null);f(Vt,ul),f(Vt,Oe),$e=!0,tt||(T=[Q(u,"click",t[19]),Q(p,"click",t[20]),Q(Ze,"click",t[23]),Q(Ct,"click",t[24])],tt=!0)},p(y,N){if((!$e||N[0]&2)&&V(u,"active",y[1].socialStatGenMethod===Ge.Manual),(!$e||N[0]&2)&&V(p,"active",y[1].socialStatGenMethod===Ge.Roll),Kt===(Kt=In(y))&&ot?ot.p(y,N):(ot&&ot.d(1),ot=Kt&&Kt(y),ot&&(ot.c(),ot.m(L,null))),N[0]&2){qt=H(Gt);let w;for(w=0;w<qt.length;w+=1){const Se=_r(y,qt,w);R[w]?(R[w].p(Se,N),M(R[w],1)):(R[w]=hr(Se),R[w].c(),M(R[w],1),R[w].m(G,null))}for(se(),w=qt.length;w<R.length;w+=1)ne(w);re()}if((!$e||N[0]&16)&&X(je,y[4]),(!$e||N[0]&16402)&&V(le,"red",y[1].StatPoints-y[14]!=y[4]),(!$e||N[0]&2)&&ce!==(ce=y[1].StatPoints-y[14]+"")&&X(Ue,ce),N[0]&2){Nl=H(Gt);let w;for(w=0;w<Nl.length;w+=1){const Se=fr(y,Nl,w);Ne[w]?(Ne[w].p(Se,N),M(Ne[w],1)):(Ne[w]=pr(Se),Ne[w].c(),M(Ne[w],1),Ne[w].m(x,null))}for(se(),w=Nl.length;w<Ne.length;w+=1)Eo(w);re()}if(N[0]&2){Rl=H(Gt);let w;for(w=0;w<Rl.length;w+=1){const Se=ur(y,Rl,w);Re[w]?(Re[w].p(Se,N),M(Re[w],1)):(Re[w]=dr(Se),Re[w].c(),M(Re[w],1),Re[w].m(ve,null))}for(se(),w=Rl.length;w<Re.length;w+=1)zo(w);re()}if(y[1].socialStatGenMethod===Ge.Roll?kt?kt.p(y,N):(kt=mr(y),kt.c(),kt.m(s,null)):kt&&(kt.d(1),kt=null),(!$e||N[0]&2)&&V(Ze,"active",y[1].explorationStatGenMethod===Ge.Manual),(!$e||N[0]&2)&&V(Ct,"active",y[1].explorationStatGenMethod===Ge.Roll),pn===(pn=zi(y))&&$t?$t.p(y,N):($t&&$t.d(1),$t=pn&&pn(y),$t&&($t.c(),$t.m(yt,null))),N[0]&2){El=H(Bt);let w;for(w=0;w<El.length;w+=1){const Se=cr(y,El,w);Ie[w]?(Ie[w].p(Se,N),M(Ie[w],1)):(Ie[w]=gr(Se),Ie[w].c(),M(Ie[w],1),Ie[w].m(el,null))}for(se(),w=El.length;w<Ie.length;w+=1)Fo(w);re()}if((!$e||N[0]&128)&&X(Pl,y[7]),(!$e||N[0]&16514)&&V(ll,"red",y[1].StatPoints-y[14]!=y[7]),(!$e||N[0]&2)&&Gl!==(Gl=y[1].StatPoints-y[14]+"")&&X(nn,Gl),N[0]&2){zl=H(Bt);let w;for(w=0;w<zl.length;w+=1){const Se=ar(y,zl,w);Ee[w]?(Ee[w].p(Se,N),M(Ee[w],1)):(Ee[w]=br(Se),Ee[w].c(),M(Ee[w],1),Ee[w].m(tl,null))}for(se(),w=zl.length;w<Ee.length;w+=1)Ho(w);re()}if(N[0]&2){Fl=H(Bt);let w;for(w=0;w<Fl.length;w+=1){const Se=or(y,Fl,w);ze[w]?(ze[w].p(Se,N),M(ze[w],1)):(ze[w]=vr(Se),ze[w].c(),M(ze[w],1),ze[w].m(Je,null))}for(se(),w=Fl.length;w<ze.length;w+=1)qo(w);re()}if(y[1].explorationStatGenMethod===Ge.Roll?St?St.p(y,N):(St=kr(y),St.c(),St.m(Pe,null)):St&&(St.d(1),St=null),(!$e||N[0]&1024)&&X(Tl,y[10]),(!$e||N[0]&1026)&&V(il,"red",y[1].SocialSkillPoints!=y[10]),(!$e||N[0]&2)&&jl!==(jl=y[1].SocialSkillPoints+"")&&X(cn,jl),N[0]&2){Hl=H(Gt);let w;for(w=0;w<Hl.length;w+=1){const Se=rr(y,Hl,w);Fe[w]?(Fe[w].p(Se,N),M(Fe[w],1)):(Fe[w]=$r(Se),Fe[w].c(),M(Fe[w],1),Fe[w].m(Ke,null))}for(se(),w=Hl.length;w<Fe.length;w+=1)Bo(w);re()}if((!$e||N[0]&512)&&X(ct,y[9]),(!$e||N[0]&768)&&V(gt,"red",y[9]>y[8]),(!$e||N[0]&256)&&X(ut,y[8]),N[0]&2){ql=H(Sn);let w;for(w=0;w<ql.length;w+=1){const Se=sr(y,ql,w);He[w]?(He[w].p(Se,N),M(He[w],1)):(He[w]=Sr(Se),He[w].c(),M(He[w],1),He[w].m(zt,null))}for(se(),w=ql.length;w<He.length;w+=1)Do(w);re()}if(N[0]&2){Bl=H(gn(Dn,3));let w;for(w=0;w<Bl.length;w+=1){const Se=nr(y,Bl,w);qe[w]?(qe[w].p(Se,N),M(qe[w],1)):(qe[w]=Cr(Se),qe[w].c(),M(qe[w],1),qe[w].m(Pt,null))}for(se(),w=Bl.length;w<qe.length;w+=1)Wo(w);re()}if((!$e||N[0]&768)&&V(sl,"red",y[9]>y[8]),(!$e||N[0]&8192)&&X(xe,y[13]),(!$e||N[0]&8194)&&V(Mt,"red",y[1].ExplorationSkillPoints!=y[13]),(!$e||N[0]&2)&&Qe!==(Qe=y[1].ExplorationSkillPoints+"")&&X(Jt,Qe),N[0]&6146){Wl=H(gn(wn,3));let w;for(w=0;w<Wl.length;w+=1){const Se=tr(y,Wl,w);Be[w]?(Be[w].p(Se,N),M(Be[w],1)):(Be[w]=Pr(Se),Be[w].c(),M(Be[w],1),Be[w].m(st,et))}for(se(),w=Wl.length;w<Be.length;w+=1)Uo(w);re()}if(N[0]&2){Ul=H(gn(Wn,3));let w;for(w=0;w<Ul.length;w+=1){const Se=xs(y,Ul,w);De[w]?(De[w].p(Se,N),M(De[w],1)):(De[w]=Gr(Se),De[w].c(),M(De[w],1),De[w].m(st,null))}for(se(),w=Ul.length;w<De.length;w+=1)Yo(w);re()}(!$e||N[0]&6144)&&V(Oe,"red",y[12]>y[11])},i(y){if(!$e){for(let N=0;N<qt.length;N+=1)M(R[N]);for(let N=0;N<Nl.length;N+=1)M(Ne[N]);for(let N=0;N<Rl.length;N+=1)M(Re[N]);for(let N=0;N<El.length;N+=1)M(Ie[N]);for(let N=0;N<zl.length;N+=1)M(Ee[N]);for(let N=0;N<Fl.length;N+=1)M(ze[N]);for(let N=0;N<Hl.length;N+=1)M(Fe[N]);for(let N=0;N<ql.length;N+=1)M(He[N]);for(let N=0;N<Bl.length;N+=1)M(qe[N]);for(let N=0;N<Wl.length;N+=1)M(Be[N]);for(let N=0;N<Ul.length;N+=1)M(De[N]);$e=!0}},o(y){R=R.filter(Boolean);for(let N=0;N<R.length;N+=1)A(R[N]);Ne=Ne.filter(Boolean);for(let N=0;N<Ne.length;N+=1)A(Ne[N]);Re=Re.filter(Boolean);for(let N=0;N<Re.length;N+=1)A(Re[N]);Ie=Ie.filter(Boolean);for(let N=0;N<Ie.length;N+=1)A(Ie[N]);Ee=Ee.filter(Boolean);for(let N=0;N<Ee.length;N+=1)A(Ee[N]);ze=ze.filter(Boolean);for(let N=0;N<ze.length;N+=1)A(ze[N]);Fe=Fe.filter(Boolean);for(let N=0;N<Fe.length;N+=1)A(Fe[N]);He=He.filter(Boolean);for(let N=0;N<He.length;N+=1)A(He[N]);qe=qe.filter(Boolean);for(let N=0;N<qe.length;N+=1)A(qe[N]);Be=Be.filter(Boolean);for(let N=0;N<Be.length;N+=1)A(Be[N]);De=De.filter(Boolean);for(let N=0;N<De.length;N+=1)A(De[N]);$e=!1},d(y){y&&($(e),$(kl),$(vt)),ie(Z,y),ot&&ot.d(),ie(R,y),ie(Ne,y),ie(Re,y),kt&&kt.d(),ie(Il,y),$t&&$t.d(),ie(Ie,y),ie(Ee,y),ie(ze,y),St&&St.d(),ie(Fe,y),ie(He,y),ie(qe,y),ie(Dl,y),ie(Be,y),ie(De,y),tt=!1,Me(T)}}}function $u(t,e,l){let n,i=I,s=()=>(i(),i=wt(r,q=>l(1,n=q)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();const o=n.levelTrackerPerks.StatPoints[0];let a,c="";function u(){l(17,a=Array.from({length:o},()=>Math.floor(Math.random()*3)+1))}let _=0,p=0,h,g="";function C(){l(18,h=Array.from({length:o},()=>Math.floor(Math.random()*3)+1))}let b=0,P=0,v=0,G=0,L=0,z=0,U=0,j=0;const E=()=>{We(r,n.socialStatGenMethod=Ge.Manual,n)},Y=()=>{We(r,n.socialStatGenMethod=Ge.Roll,n)};function x(q,F){t.$$.not_equal(n.statGen_Manual[F],q)&&(n.statGen_Manual[F]=q,r.set(n))}function J(q,F){t.$$.not_equal(n.statImprovements[F],q)&&(n.statImprovements[F]=q,r.set(n))}const ee=()=>{We(r,n.explorationStatGenMethod=Ge.Manual,n)},ae=()=>{We(r,n.explorationStatGenMethod=Ge.Roll,n)};function he(q,F){t.$$.not_equal(n.statGen_Manual[F],q)&&(n.statGen_Manual[F]=q,r.set(n))}function le(q,F){t.$$.not_equal(n.statImprovements[F],q)&&(n.statImprovements[F]=q,r.set(n))}function je(q,F){t.$$.not_equal(n.socialSkills[F].points,q)&&(n.socialSkills[F].points=q,r.set(n))}function lt(q,F){t.$$.not_equal(n.socialSkills[F].points,q)&&(n.socialSkills[F].points=q,r.set(n))}function ce(q,F){t.$$.not_equal(n.explorationSkills[F].points,q)&&(n.explorationSkills[F].points=q,r.set(n))}function Ue(q,F){t.$$.not_equal(n.explorationSkills[F].points,q)&&(n.explorationSkills[F].points=q,r.set(n))}return t.$$set=q=>{"character"in q&&s(l(0,r=q.character))},t.$$.update=()=>{t.$$.dirty[0]&131072&&a&&a.length==o&&(We(r,n.statGen_Roll[de.Candor]=-1+a.filter(q=>q==1).length,n),We(r,n.statGen_Roll[de.Conscious]=-1+a.filter(q=>q==2).length,n),We(r,n.statGen_Roll[de.Cunning]=-1+a.filter(q=>q==3).length,n),l(2,c=(a==null?void 0:a.join(", "))??"")),t.$$.dirty[0]&2&&(n.socialStatGenMethod===Ge.Manual?(n.statGen_Manual[de.Candor]==null&&We(r,n.statGen_Manual[de.Candor]=-1,n),n.statGen_Manual[de.Conscious]==null&&We(r,n.statGen_Manual[de.Conscious]=-1,n),n.statGen_Manual[de.Cunning]==null&&We(r,n.statGen_Manual[de.Cunning]=-1,n),l(3,_=3+(n.statGen_Manual[de.Candor]??-1)+(n.statGen_Manual[de.Conscious]??-1)+(n.statGen_Manual[de.Cunning]??-1))):l(3,_=3+(n.statGen_Roll[de.Candor]??-1)+(n.statGen_Roll[de.Conscious]??-1)+(n.statGen_Roll[de.Cunning]??-1))),t.$$.dirty[0]&262144&&h&&h.length==o&&(We(r,n.statGen_Roll[de.Might]=-1+h.filter(q=>q==1).length,n),We(r,n.statGen_Roll[de.Artifice]=-1+h.filter(q=>q==2).length,n),We(r,n.statGen_Roll[de.Tuning]=-1+h.filter(q=>q==3).length,n),l(5,g=(h==null?void 0:h.join(", "))??"")),t.$$.dirty[0]&2&&(n.explorationStatGenMethod===Ge.Manual?(n.statGen_Manual[de.Might]==null&&We(r,n.statGen_Manual[de.Might]=-1,n),n.statGen_Manual[de.Artifice]==null&&We(r,n.statGen_Manual[de.Artifice]=-1,n),n.statGen_Manual[de.Tuning]==null&&We(r,n.statGen_Manual[de.Tuning]=-1,n),l(6,b=3+(n.statGen_Manual[de.Might]??-1)+(n.statGen_Manual[de.Artifice]??-1)+(n.statGen_Manual[de.Tuning]??-1))):l(6,b=3+(n.statGen_Roll[de.Might]??-1)+(n.statGen_Roll[de.Artifice]??-1)+(n.statGen_Roll[de.Tuning]??-1))),t.$$.dirty[0]&2&&l(4,p=(n.statImprovements.Candor??0)+(n.statImprovements.Conscious??0)+(n.statImprovements.Cunning??0)),t.$$.dirty[0]&2&&l(7,P=(n.statImprovements.Might??0)+(n.statImprovements.Artifice??0)+(n.statImprovements.Tuning??0)),t.$$.dirty[0]&2&&l(8,v=Math.floor(n.SocialSkillPoints/2)),t.$$.dirty[0]&2&&l(9,G=Object.entries(n.socialSkills).filter(q=>Sn.includes(q[0])).reduce((q,F)=>q+F[1].points,0)),t.$$.dirty[0]&2&&l(10,L=Object.entries(n.socialSkills).reduce((q,F)=>q+F[1].points,0)),t.$$.dirty[0]&2&&l(11,z=Math.floor(n.ExplorationSkillPoints/2)),t.$$.dirty[0]&2&&l(12,U=Object.entries(n.explorationSkills).filter(q=>wn.includes(q[0])).reduce((q,F)=>q+F[1].points,0)),t.$$.dirty[0]&2&&l(13,j=Object.entries(n.explorationSkills).reduce((q,F)=>q+F[1].points,0))},[r,n,c,_,p,g,b,P,v,G,L,z,U,j,o,u,C,a,h,E,Y,x,J,ee,ae,he,le,je,lt,ce,Ue]}class Su extends ge{constructor(e){super(),me(this,e,$u,ku,_e,{character:0},null,[-1,-1,-1])}}function wu(t){let e,l,n,i,s,r,o,a,c=t[1].SocialFeatPoints+"",u,_,p,h,g,C,b,P,v,G,L,z=t[1].TraitFeatPoints+"",U,j,E,Y,x=t[1].PrestigeFeatPoints+"",J,ee,ae,he,le,je,lt,ce,Ue,q=t[1].ClassFeatPoints+"",F,ve,ke,Te,Ae=t[1].PrestigeFeatPoints+"",Le,Pe,K;return{c(){e=d("div"),l=d("h1"),l.innerHTML='<img src="/img/icons/StarIcon.svg" alt=""/> Feats &amp; Abilities <img src="/img/icons/StarIcon.svg" alt=""/>',n=k(),i=d("div"),s=d("h2"),s.textContent="Social Features",r=k(),o=d("p"),a=O("Points Spent: 0/"),u=O(c),_=k(),p=d("p"),p.textContent="Coming Soon",h=k(),g=d("div"),g.innerHTML='<div class="sheet-block-v"><h2>Lineage</h2> <p>Optional. Lineages serve as easy recipes of Trait Features.</p> <p>Coming Soon</p> <h2>Class</h2> <p>Optional. Classes serve as easy recipes of Class Features.</p> <p>Coming Soon</p></div> <div class="sheet-block-v"><h2>Constitution</h2> <p>Your Constitution will make some features cheaper.</p> <p>Coming Soon</p></div>',C=k(),b=d("div"),P=d("h2"),P.textContent="Trait Feats",v=k(),G=d("p"),L=O("Points Spent: 0/"),U=O(z),j=k(),E=d("p"),Y=O("Prestige Points Spent: 0/"),J=O(x),ee=k(),ae=d("p"),ae.textContent="Coming Soon",he=k(),le=d("div"),je=d("h2"),je.textContent="Class Feats",lt=k(),ce=d("p"),Ue=O("Points Spent: 0/"),F=O(q),ve=k(),ke=d("p"),Te=O("Prestige Points Spent: 0/"),Le=O(Ae),Pe=k(),K=d("p"),K.textContent="Coming Soon",m(i,"class","sheet-block-v"),m(g,"class","sheet-block-h"),m(b,"class","sheet-block-v"),m(le,"class","sheet-block-v"),m(e,"class","sheet-block")},m(te,Xe){S(te,e,Xe),f(e,l),f(e,n),f(e,i),f(i,s),f(i,r),f(i,o),f(o,a),f(o,u),f(i,_),f(i,p),f(e,h),f(e,g),f(e,C),f(e,b),f(b,P),f(b,v),f(b,G),f(G,L),f(G,U),f(b,j),f(b,E),f(E,Y),f(E,J),f(b,ee),f(b,ae),f(e,he),f(e,le),f(le,je),f(le,lt),f(le,ce),f(ce,Ue),f(ce,F),f(le,ve),f(le,ke),f(ke,Te),f(ke,Le),f(le,Pe),f(le,K)},p(te,[Xe]){Xe&2&&c!==(c=te[1].SocialFeatPoints+"")&&X(u,c),Xe&2&&z!==(z=te[1].TraitFeatPoints+"")&&X(U,z),Xe&2&&x!==(x=te[1].PrestigeFeatPoints+"")&&X(J,x),Xe&2&&q!==(q=te[1].ClassFeatPoints+"")&&X(F,q),Xe&2&&Ae!==(Ae=te[1].PrestigeFeatPoints+"")&&X(Le,Ae)},i:I,o:I,d(te){te&&$(e)}}}function Cu(t,e,l){let n,i=I,s=()=>(i(),i=wt(r,o=>l(1,n=o)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;return s(),t.$$set=o=>{"character"in o&&s(l(0,r=o.character))},[r,n]}class yu extends ge{constructor(e){super(),me(this,e,Cu,wu,_e,{character:0})}}function Pu(t){let e,l,n,i,s,r,o,a,c,u,_,p,h;return{c(){e=d("div"),l=d("h1"),l.innerHTML='<img src="/img/icons/PersonaIcon.svg" alt="" height="50px"/><br/>Persona Builder',n=k(),i=d("div"),s=d("label"),s.innerHTML="<p>Character Name:</p>",r=k(),o=d("input"),a=k(),c=d("label"),c.innerHTML="<p>Character Description:</p>",u=k(),_=d("textarea"),m(s,"for","character-name"),m(s,"class","no-grow svelte-1tcleyz"),m(o,"id","character-name"),m(o,"class","no-grow svelte-1tcleyz"),ue(o,"align-self","stretch"),m(o,"placeholder","Unnamed Character"),m(c,"for","character-description"),m(c,"style","no-grow"),m(_,"id","character-description"),m(_,"placeholder",""),m(_,"class","svelte-1tcleyz"),m(i,"class","sheet-block-v align-left"),m(e,"class","sheet-block")},m(g,C){S(g,e,C),f(e,l),f(e,n),f(e,i),f(i,s),f(i,r),f(i,o),be(o,t[1].name),f(i,a),f(i,c),f(i,u),f(i,_),be(_,t[1].description),p||(h=[Q(o,"input",t[2]),Q(_,"input",t[3])],p=!0)},p(g,[C]){C&2&&o.value!==g[1].name&&be(o,g[1].name),C&2&&be(_,g[1].description)},i:I,o:I,d(g){g&&$(e),p=!1,Me(h)}}}function Mu(t,e,l){let n,i=I,s=()=>(i(),i=wt(r,c=>l(1,n=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();function o(){n.name=this.value,r.set(n)}function a(){n.description=this.value,r.set(n)}return t.$$set=c=>{"character"in c&&s(l(0,r=c.character))},[r,n,o,a]}class Gu extends ge{constructor(e){super(),me(this,e,Mu,Pu,_e,{character:0})}}function Au(t){let e,l;return e=new fi({props:{$$slots:{default:[Iu]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(n,i){B(e,n,i),l=!0},p(n,i){const s={};i&515&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function Tu(t){let e;return{c(){e=d("div"),e.innerHTML="<h2>Loading...</h2>",m(e,"class","sheet-block svelte-18kmbax")},m(l,n){S(l,e,n)},p:I,i:I,o:I,d(l){l&&$(e)}}}function Lu(t){let e,l,n,i,s,r;return{c(){e=d("div"),l=d("h2"),l.textContent="Cannot Load Social Stats",n=k(),i=d("p"),s=O("Error: "),r=O(t[2]),m(e,"class","sheet-block svelte-18kmbax")},m(o,a){S(o,e,a),f(e,l),f(e,n),f(e,i),f(i,s),f(i,r)},p(o,a){a&4&&X(r,o[2])},i:I,o:I,d(o){o&&$(e)}}}function ju(t){let e,l,n,i;function s(a){t[4](a)}function r(a){t[5](a)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new Zc({props:o}),fe.push(()=>Ce(e,"id",s)),fe.push(()=>Ce(e,"character",r)),{c(){W(e.$$.fragment)},m(a,c){B(e,a,c),i=!0},p(a,c){const u={};!l&&c&1&&(l=!0,u.id=a[0],we(()=>l=!1)),!n&&c&2&&(n=!0,u.character=a[1],we(()=>n=!1)),e.$set(u)},i(a){i||(M(e.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),i=!1},d(a){D(e,a)}}}function Ou(t){let e,l,n;function i(r){t[6](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new Su({props:s}),fe.push(()=>Ce(e,"character",i)),{c(){W(e.$$.fragment)},m(r,o){B(e,r,o),n=!0},p(r,o){const a={};!l&&o&2&&(l=!0,a.character=r[1],we(()=>l=!1)),e.$set(a)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Nu(t){let e,l,n;function i(r){t[7](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new yu({props:s}),fe.push(()=>Ce(e,"character",i)),{c(){W(e.$$.fragment)},m(r,o){B(e,r,o),n=!0},p(r,o){const a={};!l&&o&2&&(l=!0,a.character=r[1],we(()=>l=!1)),e.$set(a)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Ru(t){let e,l,n;function i(r){t[8](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new Gu({props:s}),fe.push(()=>Ce(e,"character",i)),{c(){W(e.$$.fragment)},m(r,o){B(e,r,o),n=!0},p(r,o){const a={};!l&&o&2&&(l=!0,a.character=r[1],we(()=>l=!1)),e.$set(a)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Iu(t){let e,l,n,i,s,r,o,a;return e=new ft({props:{path:"/",$$slots:{default:[ju]},$$scope:{ctx:t}}}),n=new ft({props:{path:"/stats",$$slots:{default:[Ou]},$$scope:{ctx:t}}}),s=new ft({props:{path:"/feats",$$slots:{default:[Nu]},$$scope:{ctx:t}}}),o=new ft({props:{path:"/persona",$$slots:{default:[Ru]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment),l=k(),W(n.$$.fragment),i=k(),W(s.$$.fragment),r=k(),W(o.$$.fragment)},m(c,u){B(e,c,u),S(c,l,u),B(n,c,u),S(c,i,u),B(s,c,u),S(c,r,u),B(o,c,u),a=!0},p(c,u){const _={};u&515&&(_.$$scope={dirty:u,ctx:c}),e.$set(_);const p={};u&514&&(p.$$scope={dirty:u,ctx:c}),n.$set(p);const h={};u&514&&(h.$$scope={dirty:u,ctx:c}),s.$set(h);const g={};u&514&&(g.$$scope={dirty:u,ctx:c}),o.$set(g)},i(c){a||(M(e.$$.fragment,c),M(n.$$.fragment,c),M(s.$$.fragment,c),M(o.$$.fragment,c),a=!0)},o(c){A(e.$$.fragment,c),A(n.$$.fragment,c),A(s.$$.fragment,c),A(o.$$.fragment,c),a=!1},d(c){c&&($(l),$(i),$(r)),D(e,c),D(n,c),D(s,c),D(o,c)}}}function Eu(t){let e,l,n,i;const s=[Lu,Tu,Au],r=[];function o(a,c){return a[2]?0:!a[1]||a[3]==null?1:2}return e=o(t),l=r[e]=s[e](t),{c(){l.c(),n=ye()},m(a,c){r[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?r[e].p(a,c):(se(),A(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,c):(l=r[e]=s[e](a),l.c()),M(l,1),l.m(n.parentNode,n))},i(a){i||(M(l),i=!0)},o(a){A(l),i=!1},d(a){a&&$(n),r[e].d(a)}}}function zu(t,e,l){let n,i=I,s=()=>(i(),i=wt(o,g=>l(3,n=g)),o);t.$$.on_destroy.push(()=>i());let{id:r}=e,{character:o}=e;s();let a;wl(async()=>{l(2,a=o||n==null?void 0:"Failed to load character")});function c(g){r=g,l(0,r)}function u(g){o=g,s(l(1,o))}function _(g){o=g,s(l(1,o))}function p(g){o=g,s(l(1,o))}function h(g){o=g,s(l(1,o))}return t.$$set=g=>{"id"in g&&l(0,r=g.id),"character"in g&&s(l(1,o=g.character))},[r,o,a,n,c,u,_,p,h]}class Fu extends ge{constructor(e){super(),me(this,e,zu,Eu,_e,{id:0,character:1})}}function Ar(t){let e,l,n,i;function s(o){t[2](o)}let r={};return t[0]!==void 0&&(r.id=t[0]),l=new Ro({props:r}),fe.push(()=>Ce(l,"id",s)),{c(){e=d("div"),W(l.$$.fragment),m(e,"role","dialog"),m(e,"class","modal svelte-17tkiy2")},m(o,a){S(o,e,a),B(l,e,null),i=!0},p(o,a){const c={};!n&&a&1&&(n=!0,c.id=o[0],we(()=>n=!1)),l.$set(c)},i(o){i||(M(l.$$.fragment,o),i=!0)},o(o){A(l.$$.fragment,o),i=!1},d(o){o&&$(e),D(l)}}}function Hu(t){let e,l,n=t[1]&&Ar(t);return{c(){n&&n.c(),e=ye()},m(i,s){n&&n.m(i,s),S(i,e,s),l=!0},p(i,[s]){i[1]?n?(n.p(i,s),s&2&&M(n,1)):(n=Ar(i),n.c(),M(n,1),n.m(e.parentNode,e)):n&&(se(),A(n,1,1,()=>{n=null}),re())},i(i){l||(M(n),l=!0)},o(i){A(n),l=!1},d(i){i&&$(e),n&&n.d(i)}}}function qu(t,e,l){let{isOpen:n=!1}=e,{id:i}=e;function s(r){i=r,l(0,i)}return t.$$set=r=>{"isOpen"in r&&l(1,n=r.isOpen),"id"in r&&l(0,i=r.id)},[i,n,s]}class Bu extends ge{constructor(e){super(),me(this,e,qu,Hu,_e,{isOpen:1,id:0})}}function Tr(t){let e;return{c(){e=d("div"),m(e,"class","menu-placeholder svelte-2qpahw")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Lr(t){let e;return{c(){e=O("Collapse")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function jr(t){let e;return{c(){e=O("Build")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Or(t){let e;return{c(){e=O("Level")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Du(t){let e,l,n,i,s=!t[1]&&Or();return{c(){e=d("img"),s&&s.c(),i=ye(),Nt(e.src,l="/img/icons/PromotionIcon.svg")||m(e,"src",l),m(e,"alt",n=t[1]?"Level":"")},m(r,o){S(r,e,o),s&&s.m(r,o),S(r,i,o)},p(r,o){o&2&&n!==(n=r[1]?"Level":"")&&m(e,"alt",n),r[1]?s&&(s.d(1),s=null):s||(s=Or(),s.c(),s.m(i.parentNode,i))},d(r){r&&($(e),$(i)),s&&s.d(r)}}}function Nr(t){let e;return{c(){e=O("Stats & Skills")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Wu(t){let e,l,n,i,s=!t[1]&&Nr();return{c(){e=d("img"),s&&s.c(),i=ye(),Nt(e.src,l="/img/icons/PlusPlusIcon.svg")||m(e,"src",l),m(e,"alt",n=t[1]?"Stats & Skills":"")},m(r,o){S(r,e,o),s&&s.m(r,o),S(r,i,o)},p(r,o){o&2&&n!==(n=r[1]?"Stats & Skills":"")&&m(e,"alt",n),r[1]?s&&(s.d(1),s=null):s||(s=Nr(),s.c(),s.m(i.parentNode,i))},d(r){r&&($(e),$(i)),s&&s.d(r)}}}function Rr(t){let e;return{c(){e=O("Feats & Abilities")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Uu(t){let e,l,n,i,s=!t[1]&&Rr();return{c(){e=d("img"),s&&s.c(),i=ye(),Nt(e.src,l="/img/icons/StarIcon.svg")||m(e,"src",l),m(e,"alt",n=t[1]?"Feats":"")},m(r,o){S(r,e,o),s&&s.m(r,o),S(r,i,o)},p(r,o){o&2&&n!==(n=r[1]?"Feats":"")&&m(e,"alt",n),r[1]?s&&(s.d(1),s=null):s||(s=Rr(),s.c(),s.m(i.parentNode,i))},d(r){r&&($(e),$(i)),s&&s.d(r)}}}function Ir(t){let e;return{c(){e=O("Play")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Er(t){let e;return{c(){e=O("Status")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Yu(t){let e,l,n,i,s=!t[1]&&Er();return{c(){e=d("img"),s&&s.c(),i=ye(),Nt(e.src,l="/img/icons/HeartIcon.svg")||m(e,"src",l),m(e,"alt",n=t[1]?"Status":"")},m(r,o){S(r,e,o),s&&s.m(r,o),S(r,i,o)},p(r,o){o&2&&n!==(n=r[1]?"Status":"")&&m(e,"alt",n),r[1]?s&&(s.d(1),s=null):s||(s=Er(),s.c(),s.m(i.parentNode,i))},d(r){r&&($(e),$(i)),s&&s.d(r)}}}function zr(t){let e;return{c(){e=O("Social")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Vu(t){let e,l,n,i,s=!t[1]&&zr();return{c(){e=d("img"),s&&s.c(),i=ye(),Nt(e.src,l="/img/icons/SocialIcon.svg")||m(e,"src",l),m(e,"alt",n=t[1]?"Social":"")},m(r,o){S(r,e,o),s&&s.m(r,o),S(r,i,o)},p(r,o){o&2&&n!==(n=r[1]?"Social":"")&&m(e,"alt",n),r[1]?s&&(s.d(1),s=null):s||(s=zr(),s.c(),s.m(i.parentNode,i))},d(r){r&&($(e),$(i)),s&&s.d(r)}}}function Fr(t){let e;return{c(){e=O("Exploration")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Ju(t){let e,l,n,i,s=!t[1]&&Fr();return{c(){e=d("img"),s&&s.c(),i=ye(),Nt(e.src,l="/img/icons/MapIcon.svg")||m(e,"src",l),m(e,"alt",n=t[1]?"Exploration":"")},m(r,o){S(r,e,o),s&&s.m(r,o),S(r,i,o)},p(r,o){o&2&&n!==(n=r[1]?"Exploration":"")&&m(e,"alt",n),r[1]?s&&(s.d(1),s=null):s||(s=Fr(),s.c(),s.m(i.parentNode,i))},d(r){r&&($(e),$(i)),s&&s.d(r)}}}function Hr(t){let e;return{c(){e=O("Abilities")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Ku(t){let e,l,n,i,s=!t[1]&&Hr();return{c(){e=d("img"),s&&s.c(),i=ye(),Nt(e.src,l="/img/icons/AbilitiesIcon.svg")||m(e,"src",l),m(e,"alt",n=t[1]?"Abilities":"")},m(r,o){S(r,e,o),s&&s.m(r,o),S(r,i,o)},p(r,o){o&2&&n!==(n=r[1]?"Abilities":"")&&m(e,"alt",n),r[1]?s&&(s.d(1),s=null):s||(s=Hr(),s.c(),s.m(i.parentNode,i))},d(r){r&&($(e),$(i)),s&&s.d(r)}}}function qr(t){let e;return{c(){e=O("Inventory")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Qu(t){let e,l,n,i,s=!t[1]&&qr();return{c(){e=d("img"),s&&s.c(),i=ye(),Nt(e.src,l="/img/icons/InventoryIcon.svg")||m(e,"src",l),m(e,"alt",n=t[1]?"Exploration":"")},m(r,o){S(r,e,o),s&&s.m(r,o),S(r,i,o)},p(r,o){o&2&&n!==(n=r[1]?"Exploration":"")&&m(e,"alt",n),r[1]?s&&(s.d(1),s=null):s||(s=qr(),s.c(),s.m(i.parentNode,i))},d(r){r&&($(e),$(i)),s&&s.d(r)}}}function Xu(t){let e,l,n,i,s,r,o,a,c,u,_,p,h,g,C,b,P,v,G,L,z,U,j,E,Y,x,J,ee,ae,he,le,je,lt,ce,Ue,q,F,ve,ke,Te=t[1]&&Tr(),Ae=!t[1]&&Lr(),Le=!t[1]&&jr();b=new At({props:{to:"/character/"+t[0]+"/build",getProps:$l,$$slots:{default:[Du]},$$scope:{ctx:t}}}),v=new At({props:{to:"/character/"+t[0]+"/build/stats",getProps:$l,$$slots:{default:[Wu]},$$scope:{ctx:t}}}),L=new At({props:{to:"/character/"+t[0]+"/build/feats",getProps:$l,$$slots:{default:[Uu]},$$scope:{ctx:t}}});let Pe=!t[1]&&Ir();return ee=new At({props:{to:"/character/"+t[0]+"/play",getProps:$l,$$slots:{default:[Yu]},$$scope:{ctx:t}}}),he=new At({props:{to:"/character/"+t[0]+"/play/social",getProps:$l,$$slots:{default:[Vu]},$$scope:{ctx:t}}}),je=new At({props:{to:"/character/"+t[0]+"/play/exploration",getProps:$l,$$slots:{default:[Ju]},$$scope:{ctx:t}}}),ce=new At({props:{to:"/character/"+t[0]+"/play/abilities",getProps:$l,$$slots:{default:[Ku]},$$scope:{ctx:t}}}),q=new At({props:{to:"/character/"+t[0]+"/play/inventory",getProps:$l,$$slots:{default:[Qu]},$$scope:{ctx:t}}}),{c(){Te&&Te.c(),e=k(),l=d("div"),n=d("nav"),i=d("div"),s=d("button"),r=d("img"),Ae&&Ae.c(),c=k(),u=d("div"),_=d("div"),p=d("img"),Le&&Le.c(),C=k(),W(b.$$.fragment),P=k(),W(v.$$.fragment),G=k(),W(L.$$.fragment),z=k(),U=d("div"),j=d("div"),E=d("img"),Pe&&Pe.c(),J=k(),W(ee.$$.fragment),ae=k(),W(he.$$.fragment),le=k(),W(je.$$.fragment),lt=k(),W(ce.$$.fragment),Ue=k(),W(q.$$.fragment),m(r,"class","expand-icon svelte-2qpahw"),Nt(r.src,o="/img/icons/ExpandRightIcon.svg")||m(r,"src",o),m(r,"alt",a=t[1]?"Expand":""),V(r,"rotated",!t[1]),m(i,"class","toggle-bg-v"),ue(i,"margin-bottom","12px"),V(i,"slim",t[1]),Nt(p.src,h="/img/icons/HammerIcon.svg")||m(p,"src",h),m(p,"alt",g=t[1]?"Build":""),m(p,"class","svelte-2qpahw"),m(_,"class","section-header svelte-2qpahw"),m(u,"class","toggle-bg-v"),V(u,"slim",t[1]),Nt(E.src,Y="/img/icons/SwordIcon30.svg")||m(E,"src",Y),m(E,"alt",x=t[1]?"Play":""),m(E,"class","svelte-2qpahw"),m(j,"class","section-header svelte-2qpahw"),m(U,"class","toggle-bg-v"),V(U,"slim",t[1]),m(n,"id","character-menu"),m(n,"class","svelte-2qpahw"),m(l,"class","side-menu svelte-2qpahw"),V(l,"slim",t[1])},m(K,te){Te&&Te.m(K,te),S(K,e,te),S(K,l,te),f(l,n),f(n,i),f(i,s),f(s,r),Ae&&Ae.m(s,null),f(n,c),f(n,u),f(u,_),f(_,p),Le&&Le.m(_,null),f(u,C),B(b,u,null),f(u,P),B(v,u,null),f(u,G),B(L,u,null),f(n,z),f(n,U),f(U,j),f(j,E),Pe&&Pe.m(j,null),f(U,J),B(ee,U,null),f(U,ae),B(he,U,null),f(U,le),B(je,U,null),f(U,lt),B(ce,U,null),f(U,Ue),B(q,U,null),F=!0,ve||(ke=Q(s,"click",t[2]),ve=!0)},p(K,[te]){K[1]?Te||(Te=Tr(),Te.c(),Te.m(e.parentNode,e)):Te&&(Te.d(1),Te=null),(!F||te&2&&a!==(a=K[1]?"Expand":""))&&m(r,"alt",a),(!F||te&2)&&V(r,"rotated",!K[1]),K[1]?Ae&&(Ae.d(1),Ae=null):Ae||(Ae=Lr(),Ae.c(),Ae.m(s,null)),(!F||te&2)&&V(i,"slim",K[1]),(!F||te&2&&g!==(g=K[1]?"Build":""))&&m(p,"alt",g),K[1]?Le&&(Le.d(1),Le=null):Le||(Le=jr(),Le.c(),Le.m(_,null));const Xe={};te&1&&(Xe.to="/character/"+K[0]+"/build"),te&10&&(Xe.$$scope={dirty:te,ctx:K}),b.$set(Xe);const bt={};te&1&&(bt.to="/character/"+K[0]+"/build/stats"),te&10&&(bt.$$scope={dirty:te,ctx:K}),v.$set(bt);const Ze={};te&1&&(Ze.to="/character/"+K[0]+"/build/feats"),te&10&&(Ze.$$scope={dirty:te,ctx:K}),L.$set(Ze),(!F||te&2)&&V(u,"slim",K[1]),(!F||te&2&&x!==(x=K[1]?"Play":""))&&m(E,"alt",x),K[1]?Pe&&(Pe.d(1),Pe=null):Pe||(Pe=Ir(),Pe.c(),Pe.m(j,null));const Wt={};te&1&&(Wt.to="/character/"+K[0]+"/play"),te&10&&(Wt.$$scope={dirty:te,ctx:K}),ee.$set(Wt);const Ct={};te&1&&(Ct.to="/character/"+K[0]+"/play/social"),te&10&&(Ct.$$scope={dirty:te,ctx:K}),he.$set(Ct);const Lt={};te&1&&(Lt.to="/character/"+K[0]+"/play/exploration"),te&10&&(Lt.$$scope={dirty:te,ctx:K}),je.$set(Lt);const nt={};te&1&&(nt.to="/character/"+K[0]+"/play/abilities"),te&10&&(nt.$$scope={dirty:te,ctx:K}),ce.$set(nt);const jt={};te&1&&(jt.to="/character/"+K[0]+"/play/inventory"),te&10&&(jt.$$scope={dirty:te,ctx:K}),q.$set(jt),(!F||te&2)&&V(U,"slim",K[1]),(!F||te&2)&&V(l,"slim",K[1])},i(K){F||(M(b.$$.fragment,K),M(v.$$.fragment,K),M(L.$$.fragment,K),M(ee.$$.fragment,K),M(he.$$.fragment,K),M(je.$$.fragment,K),M(ce.$$.fragment,K),M(q.$$.fragment,K),F=!0)},o(K){A(b.$$.fragment,K),A(v.$$.fragment,K),A(L.$$.fragment,K),A(ee.$$.fragment,K),A(he.$$.fragment,K),A(je.$$.fragment,K),A(ce.$$.fragment,K),A(q.$$.fragment,K),F=!1},d(K){K&&($(e),$(l)),Te&&Te.d(K),Ae&&Ae.d(),Le&&Le.d(),D(b),D(v),D(L),Pe&&Pe.d(),D(ee),D(he),D(je),D(ce),D(q),ve=!1,ke()}}}function $l(t){return t.isCurrent?{class:"active"}:{class:""}}function Zu(t,e,l){let{id:n}=e,{slim:i=void 0}=e;function s(){i?Oo(Bu,{id:n}):Ri()}return t.$$set=r=>{"id"in r&&l(0,n=r.id),"slim"in r&&l(1,i=r.slim)},t.$$.update=()=>{t.$$.dirty&1&&console.log("id = '"+n+"'")},[n,i,s]}class Ro extends ge{constructor(e){super(),me(this,e,Zu,Xu,_e,{id:0,slim:1})}}function xu(t,e,l){const n=t.slice();return n[13]=e[l],n}function ef(t){let e;return{c(){e=d("link"),m(e,"rel","preload"),m(e,"as","image"),m(e,"href",t[13])},m(l,n){S(l,e,n)},p:I,d(l){l&&$(e)}}}function tf(t){let e,l,n,i,s=(t[6]?"":t[0]==null||t[0]==1/0?"?":t[0])+"",r,o,a,c,u,_,p,h=H(["/img/dice/d2.svg","/img/dice/d4.svg","/img/dice/d6.svg","/img/dice/d8.svg","/img/dice/d10.svg","/img/dice/d12.svg","/img/dice/d20.svg","/img/dice/d4-inverted.svg","/img/dice/d6-inverted.svg","/img/dice/d20-inverted.svg","/img/dice/roll-0.svg","/img/dice/roll-2.svg","/img/dice/roll-1.svg","/img/dice/roll-3.svg","/img/dice/roll-5.svg","/img/dice/roll-4.svg","/img/dice/roll-shine.svg"]),g=[];for(let C=0;C<17;C+=1)g[C]=ef(xu(t,h,C));return{c(){for(let C=0;C<17;C+=1)g[C].c();e=ye(),l=k(),n=d("div"),i=d("div"),r=O(s),o=k(),a=d("div"),m(a,"class","overlay-anim svelte-9zx2xm"),m(i,"style",c="--height: "+t[3]+"; "+(t[6]?"background-size: 0;":"")),m(i,"class",u="die faces-"+t[1]+(t[1]==6&&t[2]?"-inverted":"")+" result-"+t[0]+" svelte-9zx2xm")},m(C,b){for(let P=0;P<17;P+=1)g[P]&&g[P].m(document.head,null);f(document.head,e),S(C,l,b),S(C,n,b),f(n,i),f(i,r),f(i,o),f(i,a),t[8](a),t[11](i),_||(p=[Q(a,"animationstart",t[9]),Q(a,"animationend",t[10])],_=!0)},p(C,[b]){b&65&&s!==(s=(C[6]?"":C[0]==null||C[0]==1/0?"?":C[0])+"")&&X(r,s),b&72&&c!==(c="--height: "+C[3]+"; "+(C[6]?"background-size: 0;":""))&&m(i,"style",c),b&7&&u!==(u="die faces-"+C[1]+(C[1]==6&&C[2]?"-inverted":"")+" result-"+C[0]+" svelte-9zx2xm")&&m(i,"class",u)},i:I,o:I,d(C){C&&($(l),$(n)),ie(g,C),$(e),t[8](null),t[11](null),_=!1,Me(p)}}}function lf(t,e,l){let{faces:n=20}=e,{result:i=void 0}=e,{invert:s=!1}=e,{height:r="48px"}=e,o,a,c=!1,u;function _(){if(!o||!a)return;l(5,a.style.animation="none",a),a.offsetHeight;const b=1.5,P=.42;let v=Math.random()*.1;l(5,a.style.animation=null,a),l(5,a.style.animationDuration=`${b}s`,a),l(5,a.style.animationDelay=`-${v}s`,a),a.offsetHeight,u&&(clearTimeout(u),u=void 0),l(6,c=!0),u=setTimeout(()=>{l(4,o.style.animation="none",o),o.offsetHeight,l(4,o.style.animation=null,o),o.offsetHeight,l(6,c=!1),n>0?l(0,i=Math.floor(Math.random()*n)+1):n<0?l(0,i=Math.floor(Math.random()*n)-1):l(0,i=0)},(b*P-v)*1e3)}wl(()=>{_()});function p(b){fe[b?"unshift":"push"](()=>{a=b,l(5,a)})}const h=()=>{console.log("start")},g=()=>{console.log("end")};function C(b){fe[b?"unshift":"push"](()=>{o=b,l(4,o)})}return t.$$set=b=>{"faces"in b&&l(1,n=b.faces),"result"in b&&l(0,i=b.result),"invert"in b&&l(2,s=b.invert),"height"in b&&l(3,r=b.height)},[i,n,s,r,o,a,c,_,p,h,g,C]}class nf extends ge{constructor(e){super(),me(this,e,lf,tf,_e,{faces:1,result:0,invert:2,height:3,roll:7})}get roll(){return this.$$.ctx[7]}}function Br(t,e,l){const n=t.slice();return n[8]=e[l],n[9]=e,n[10]=l,n}function Dr(t){let e,l,n;function i(r){t[6](r,t[10])}let s={faces:t[8]};return t[2][t[10]]!==void 0&&(s.result=t[2][t[10]]),e=new nf({props:s}),fe.push(()=>Ce(e,"result",i)),{c(){W(e.$$.fragment)},m(r,o){B(e,r,o),n=!0},p(r,o){t=r;const a={};o&2&&(a.faces=t[8]),!l&&o&4&&(l=!0,a.result=t[2][t[10]],we(()=>l=!1)),e.$set(a)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Wr(t){let e;function l(s,r){if(s[2][0]===1)return rf;if(s[1][0]===s[2][0])return sf}let n=l(t),i=n&&n(t);return{c(){i&&i.c(),e=ye()},m(s,r){i&&i.m(s,r),S(s,e,r)},p(s,r){n!==(n=l(s))&&(i&&i.d(1),i=n&&n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&$(e),i&&i.d(s)}}}function sf(t){let e;return{c(){e=O("CRITICAL SUCCESS!")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function rf(t){let e;return{c(){e=O("CRITICAL FAILURE!")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function of(t){let e,l,n,i,s,r,o,a,c,u,_,p,h=(t[3]!=null?t[3]:"?")+"",g,C,b,P=H(t[1]),v=[];for(let z=0;z<P.length;z+=1)v[z]=Dr(Br(t,P,z));const G=z=>A(v[z],1,1,()=>{v[z]=null});let L=t[3]!=null&&(t[1][0]===20||t[1][0]===12)&&Wr(t);return{c(){e=d("div");for(let z=0;z<v.length;z+=1)v[z].c();l=k(),n=d("div"),i=d("p"),s=O("Rolling "),r=O(t[0]),o=O(":"),a=d("br"),c=k(),u=O(t[4]),_=O(" = "),p=d("b"),g=O(h),C=k(),L&&L.c(),ue(n,"display","flex"),ue(n,"flex-direction","column"),ue(n,"flex-wrap","nowrap"),ue(e,"display","flex"),ue(e,"flex-direction","row"),ue(e,"flex-wrap","nowrap")},m(z,U){S(z,e,U);for(let j=0;j<v.length;j+=1)v[j]&&v[j].m(e,null);f(e,l),f(e,n),f(n,i),f(i,s),f(i,r),f(i,o),f(i,a),f(i,c),f(i,u),f(i,_),f(i,p),f(p,g),f(n,C),L&&L.m(n,null),b=!0},p(z,[U]){if(U&6){P=H(z[1]);let j;for(j=0;j<P.length;j+=1){const E=Br(z,P,j);v[j]?(v[j].p(E,U),M(v[j],1)):(v[j]=Dr(E),v[j].c(),M(v[j],1),v[j].m(e,l))}for(se(),j=P.length;j<v.length;j+=1)G(j);re()}(!b||U&1)&&X(r,z[0]),(!b||U&16)&&X(u,z[4]),(!b||U&8)&&h!==(h=(z[3]!=null?z[3]:"?")+"")&&X(g,h),z[3]!=null&&(z[1][0]===20||z[1][0]===12)?L?L.p(z,U):(L=Wr(z),L.c(),L.m(n,null)):L&&(L.d(1),L=null)},i(z){if(!b){for(let U=0;U<P.length;U+=1)M(v[U]);b=!0}},o(z){v=v.filter(Boolean);for(let U=0;U<v.length;U+=1)A(v[U]);b=!1},d(z){z&&$(e),ie(v,z),L&&L.d()}}}function af(t,e,l){let{modName:n}=e,{mod:i}=e,{dice:s}=e,r=Array.from(s,()=>{}),o,a=`${i} + ${Array.from(s,()=>"?").join(" + ")} = ?`;function c(_,p){let h=p.reduce((g,C)=>C!=null?g+C:void 0,0);h!=null?l(3,o=_+h):l(3,o=void 0),l(4,a=`${_} + ${p.map(g=>g??"?").join(" + ")}`)}function u(_,p){t.$$.not_equal(r[p],_)&&(r[p]=_,l(2,r))}return t.$$set=_=>{"modName"in _&&l(0,n=_.modName),"mod"in _&&l(5,i=_.mod),"dice"in _&&l(1,s=_.dice)},t.$$.update=()=>{t.$$.dirty&2&&console.log(`dice: ${s}`),t.$$.dirty&32&&console.log(`mod: ${i}`),t.$$.dirty&36&&c(i,r)},[n,s,r,o,a,i,u]}class cf extends ge{constructor(e){super(),me(this,e,af,of,_e,{modName:0,mod:5,dice:1})}}function Rt(t,e,l){return()=>ci.push({duration:8e3,component:{src:cf,props:{modName:t,mod:e,dice:l}}})}function Ur(t,e,l){const n=t.slice();return n[4]=e[l],n[5]=e,n[6]=l,n}function Yr(t,e,l){const n=t.slice();return n[4]=e[l],n[7]=e,n[8]=l,n}function Vr(t,e,l){const n=t.slice();return n[9]=e[l],n}function Jr(t){let e,l,n=yn(t[1].GetStat(t[9]))+"",i,s,r,o,a,c;return{c(){e=d("div"),l=d("button"),i=O(n),s=k(),r=d("p"),o=d("b"),o.textContent=`${t[9]}`,m(l,"class","passive-button"),ue(r,"text-align","center"),m(e,"class","skill-cell")},m(u,_){S(u,e,_),f(e,l),f(l,i),f(e,s),f(e,r),f(r,o),a||(c=Q(l,"click",function(){mt(Rt(t[9],t[1].GetStat(t[9]),[20]))&&Rt(t[9],t[1].GetStat(t[9]),[20]).apply(this,arguments)}),a=!0)},p(u,_){t=u,_&2&&n!==(n=yn(t[1].GetStat(t[9]))+"")&&X(i,n)},d(u){u&&$(e),a=!1,c()}}}function Kr(t){let e,l,n,i,s,r,o=yn(t[1].GetSkill(t[4]))+"",a,c,u,_,p="+".repeat(t[1].socialSkills[t[4]].points)+"",h,g,C;function b(){t[2].call(i,t[4])}return{c(){e=d("div"),l=d("div"),n=d("label"),i=d("input"),s=k(),r=d("button"),a=O(o),c=k(),u=d("p"),_=O(t[4]),h=O(p),m(i,"type","checkbox"),m(n,"class","inspiration-check"),V(n,"checked",t[1].socialSkills[t[4]].inspiration),m(r,"class","skill-button"),m(l,"class","skill-cell-row"),m(e,"class","skill-cell")},m(P,v){S(P,e,v),f(e,l),f(l,n),f(n,i),i.checked=t[1].socialSkills[t[4]].inspiration,f(l,s),f(l,r),f(r,a),f(e,c),f(e,u),f(u,_),f(u,h),g||(C=[Q(i,"change",b),Q(r,"click",function(){mt(Rt(t[4],t[1].GetSkill(t[4]),[20]))&&Rt(t[4],t[1].GetSkill(t[4]),[20]).apply(this,arguments)})],g=!0)},p(P,v){t=P,v&2&&(i.checked=t[1].socialSkills[t[4]].inspiration),v&2&&V(n,"checked",t[1].socialSkills[t[4]].inspiration),v&2&&o!==(o=yn(t[1].GetSkill(t[4]))+"")&&X(a,o),v&2&&p!==(p="+".repeat(t[1].socialSkills[t[4]].points)+"")&&X(h,p)},d(P){P&&$(e),g=!1,Me(C)}}}function Qr(t){let e,l,n,i,s,r,o=yn(t[1].GetSkill(t[4]))+"",a,c,u,_,p="+".repeat(t[1].socialSkills[t[4]].points)+"",h,g,C,b;function P(){t[3].call(i,t[4])}return{c(){e=d("div"),l=d("div"),n=d("label"),i=d("input"),s=k(),r=d("button"),a=O(o),c=k(),u=d("p"),_=O(t[4]),h=O(p),g=k(),m(i,"type","checkbox"),m(n,"class","inspiration-check"),V(n,"checked",t[1].socialSkills[t[4]].inspiration),m(r,"class","skill-button"),m(l,"class","skill-cell-row"),m(e,"class","skill-cell")},m(v,G){S(v,e,G),f(e,l),f(l,n),f(n,i),i.checked=t[1].socialSkills[t[4]].inspiration,f(l,s),f(l,r),f(r,a),f(e,c),f(e,u),f(u,_),f(u,h),f(e,g),C||(b=[Q(i,"change",P),Q(r,"click",function(){mt(Rt(t[4],t[1].GetSkill(t[4]),[20]))&&Rt(t[4],t[1].GetSkill(t[4]),[20]).apply(this,arguments)})],C=!0)},p(v,G){t=v,G&2&&(i.checked=t[1].socialSkills[t[4]].inspiration),G&2&&V(n,"checked",t[1].socialSkills[t[4]].inspiration),G&2&&o!==(o=yn(t[1].GetSkill(t[4]))+"")&&X(a,o),G&2&&p!==(p="+".repeat(t[1].socialSkills[t[4]].points)+"")&&X(h,p)},d(v){v&&$(e),C=!1,Me(b)}}}function uf(t){let e,l,n,i,s,r,o,a,c,u=H(Gt),_=[];for(let b=0;b<u.length;b+=1)_[b]=Jr(Vr(t,u,b));let p=H(Sn),h=[];for(let b=0;b<p.length;b+=1)h[b]=Kr(Yr(t,p,b));let g=H(Dn),C=[];for(let b=0;b<g.length;b+=1)C[b]=Qr(Ur(t,g,b));return{c(){e=d("div"),l=d("h4"),l.textContent="Social Stats",n=k();for(let b=0;b<_.length;b+=1)_[b].c();i=k(),s=d("h4"),s.textContent="Social Skills",r=k();for(let b=0;b<h.length;b+=1)h[b].c();o=k(),a=d("div"),c=k();for(let b=0;b<C.length;b+=1)C[b].c();m(a,"class","grid-divider"),m(e,"class","skill-grid")},m(b,P){S(b,e,P),f(e,l),f(e,n);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(e,null);f(e,i),f(e,s),f(e,r);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(e,null);f(e,o),f(e,a),f(e,c);for(let v=0;v<C.length;v+=1)C[v]&&C[v].m(e,null)},p(b,[P]){if(P&2){u=H(Gt);let v;for(v=0;v<u.length;v+=1){const G=Vr(b,u,v);_[v]?_[v].p(G,P):(_[v]=Jr(G),_[v].c(),_[v].m(e,i))}for(;v<_.length;v+=1)_[v].d(1);_.length=u.length}if(P&2){p=H(Sn);let v;for(v=0;v<p.length;v+=1){const G=Yr(b,p,v);h[v]?h[v].p(G,P):(h[v]=Kr(G),h[v].c(),h[v].m(e,o))}for(;v<h.length;v+=1)h[v].d(1);h.length=p.length}if(P&2){g=H(Dn);let v;for(v=0;v<g.length;v+=1){const G=Ur(b,g,v);C[v]?C[v].p(G,P):(C[v]=Qr(G),C[v].c(),C[v].m(e,null))}for(;v<C.length;v+=1)C[v].d(1);C.length=g.length}},i:I,o:I,d(b){b&&$(e),ie(_,b),ie(h,b),ie(C,b)}}}function yn(t){return t<-1?"--":(t<0?"":"+")+t}function ff(t,e,l){let n,i=I,s=()=>(i(),i=wt(r,c=>l(1,n=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();function o(c){n.socialSkills[c].inspiration=this.checked,r.set(n)}function a(c){n.socialSkills[c].inspiration=this.checked,r.set(n)}return t.$$set=c=>{"character"in c&&s(l(0,r=c.character))},[r,n,o,a]}class _f extends ge{constructor(e){super(),me(this,e,ff,uf,_e,{character:0})}}function hf(t){let e,l,n,i;function s(o){t[3](o)}let r={};return t[0]!==void 0&&(r.character=t[0]),e=new _f({props:r}),fe.push(()=>Ce(e,"character",s)),{c(){W(e.$$.fragment),n=O(`

  Social Feat/Abilities Here.`)},m(o,a){B(e,o,a),S(o,n,a),i=!0},p(o,a){const c={};!l&&a&1&&(l=!0,c.character=o[0],we(()=>l=!1)),e.$set(c)},i(o){i||(M(e.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),i=!1},d(o){o&&$(n),D(e,o)}}}function pf(t){let e;return{c(){e=d("div"),e.innerHTML="<h2>Loading...</h2>",m(e,"class","page")},m(l,n){S(l,e,n)},p:I,i:I,o:I,d(l){l&&$(e)}}}function df(t){let e,l;return{c(){e=d("div"),l=O(t[1]),m(e,"class","sheet-block")},m(n,i){S(n,e,i),f(e,l)},p(n,i){i&2&&X(l,n[1])},i:I,o:I,d(n){n&&$(e)}}}function mf(t){let e,l,n,i;const s=[df,pf,hf],r=[];function o(a,c){return a[1]?0:!a[0]||a[2]==null?1:2}return e=o(t),l=r[e]=s[e](t),{c(){l.c(),n=ye()},m(a,c){r[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?r[e].p(a,c):(se(),A(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,c):(l=r[e]=s[e](a),l.c()),M(l,1),l.m(n.parentNode,n))},i(a){i||(M(l),i=!0)},o(a){A(l),i=!1},d(a){a&&$(n),r[e].d(a)}}}function gf(t,e,l){let n,i=I,s=()=>(i(),i=wt(r,c=>l(2,n=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();let o;wl(async()=>{l(1,o=r||n==null?void 0:"Failed to load character")});function a(c){r=c,s(l(0,r))}return t.$$set=c=>{"character"in c&&s(l(0,r=c.character))},[r,o,n,a]}class bf extends ge{constructor(e){super(),me(this,e,gf,mf,_e,{character:0})}}function Xr(t,e,l){const n=t.slice();return n[4]=e[l],n[5]=e,n[6]=l,n}function Zr(t,e,l){const n=t.slice();return n[4]=e[l],n[7]=e,n[8]=l,n}function xr(t,e,l){const n=t.slice();return n[9]=e[l],n}function eo(t){let e,l,n=Pn(t[1].GetStat(t[9]))+"",i,s,r,o,a,c;return{c(){e=d("div"),l=d("button"),i=O(n),s=k(),r=d("p"),o=d("b"),o.textContent=`${t[9]}`,m(l,"class","passive-button"),ue(r,"text-align","center"),m(e,"class","skill-cell")},m(u,_){S(u,e,_),f(e,l),f(l,i),f(e,s),f(e,r),f(r,o),a||(c=Q(l,"click",function(){mt(Rt(t[9],t[1].GetStat(t[9]),[20]))&&Rt(t[9],t[1].GetStat(t[9]),[20]).apply(this,arguments)}),a=!0)},p(u,_){t=u,_&2&&n!==(n=Pn(t[1].GetStat(t[9]))+"")&&X(i,n)},d(u){u&&$(e),a=!1,c()}}}function to(t){let e,l,n,i,s,r,o=Pn(t[1].GetSkill(t[4]))+"",a,c,u,_,p="+".repeat(t[1].explorationSkills[t[4]].points)+"",h,g,C;function b(){t[2].call(i,t[4])}return{c(){e=d("div"),l=d("div"),n=d("label"),i=d("input"),s=k(),r=d("button"),a=O(o),c=k(),u=d("p"),_=O(t[4]),h=O(p),m(i,"type","checkbox"),m(n,"class","inspiration-check"),V(n,"checked",t[1].explorationSkills[t[4]].inspiration),m(r,"class","skill-button"),m(l,"class","skill-cell-row"),m(e,"class","skill-cell")},m(P,v){S(P,e,v),f(e,l),f(l,n),f(n,i),i.checked=t[1].explorationSkills[t[4]].inspiration,f(l,s),f(l,r),f(r,a),f(e,c),f(e,u),f(u,_),f(u,h),g||(C=[Q(i,"change",b),Q(r,"click",function(){mt(Rt(t[4],t[1].GetSkill(t[4]),[20]))&&Rt(t[4],t[1].GetSkill(t[4]),[20]).apply(this,arguments)})],g=!0)},p(P,v){t=P,v&2&&(i.checked=t[1].explorationSkills[t[4]].inspiration),v&2&&V(n,"checked",t[1].explorationSkills[t[4]].inspiration),v&2&&o!==(o=Pn(t[1].GetSkill(t[4]))+"")&&X(a,o),v&2&&p!==(p="+".repeat(t[1].explorationSkills[t[4]].points)+"")&&X(h,p)},d(P){P&&$(e),g=!1,Me(C)}}}function lo(t){let e,l,n,i,s,r,o=Pn(t[1].GetSkill(t[4]))+"",a,c,u,_,p="+".repeat(t[1].explorationSkills[t[4]].points)+"",h,g,C,b;function P(){t[3].call(i,t[4])}return{c(){e=d("div"),l=d("div"),n=d("label"),i=d("input"),s=k(),r=d("button"),a=O(o),c=k(),u=d("p"),_=O(t[4]),h=O(p),g=k(),m(i,"type","checkbox"),m(n,"class","inspiration-check"),V(n,"checked",t[1].explorationSkills[t[4]].inspiration),m(r,"class","skill-button"),m(l,"class","skill-cell-row"),m(e,"class","skill-cell")},m(v,G){S(v,e,G),f(e,l),f(l,n),f(n,i),i.checked=t[1].explorationSkills[t[4]].inspiration,f(l,s),f(l,r),f(r,a),f(e,c),f(e,u),f(u,_),f(u,h),f(e,g),C||(b=[Q(i,"change",P),Q(r,"click",function(){mt(Rt(t[4],t[1].GetSkill(t[4]),[20]))&&Rt(t[4],t[1].GetSkill(t[4]),[20]).apply(this,arguments)})],C=!0)},p(v,G){t=v,G&2&&(i.checked=t[1].explorationSkills[t[4]].inspiration),G&2&&V(n,"checked",t[1].explorationSkills[t[4]].inspiration),G&2&&o!==(o=Pn(t[1].GetSkill(t[4]))+"")&&X(a,o),G&2&&p!==(p="+".repeat(t[1].explorationSkills[t[4]].points)+"")&&X(h,p)},d(v){v&&$(e),C=!1,Me(b)}}}function vf(t){let e,l,n,i,s,r,o,a,c,u=H(Bt),_=[];for(let b=0;b<u.length;b+=1)_[b]=eo(xr(t,u,b));let p=H(wn),h=[];for(let b=0;b<p.length;b+=1)h[b]=to(Zr(t,p,b));let g=H(Wn),C=[];for(let b=0;b<g.length;b+=1)C[b]=lo(Xr(t,g,b));return{c(){e=d("div"),l=d("h4"),l.textContent="Exploration Stats",n=k();for(let b=0;b<_.length;b+=1)_[b].c();i=k(),s=d("h4"),s.textContent="Exploration Skills",r=k();for(let b=0;b<h.length;b+=1)h[b].c();o=k(),a=d("div"),c=k();for(let b=0;b<C.length;b+=1)C[b].c();m(a,"class","grid-divider"),m(e,"class","skill-grid")},m(b,P){S(b,e,P),f(e,l),f(e,n);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(e,null);f(e,i),f(e,s),f(e,r);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(e,null);f(e,o),f(e,a),f(e,c);for(let v=0;v<C.length;v+=1)C[v]&&C[v].m(e,null)},p(b,[P]){if(P&2){u=H(Bt);let v;for(v=0;v<u.length;v+=1){const G=xr(b,u,v);_[v]?_[v].p(G,P):(_[v]=eo(G),_[v].c(),_[v].m(e,i))}for(;v<_.length;v+=1)_[v].d(1);_.length=u.length}if(P&2){p=H(wn);let v;for(v=0;v<p.length;v+=1){const G=Zr(b,p,v);h[v]?h[v].p(G,P):(h[v]=to(G),h[v].c(),h[v].m(e,o))}for(;v<h.length;v+=1)h[v].d(1);h.length=p.length}if(P&2){g=H(Wn);let v;for(v=0;v<g.length;v+=1){const G=Xr(b,g,v);C[v]?C[v].p(G,P):(C[v]=lo(G),C[v].c(),C[v].m(e,null))}for(;v<C.length;v+=1)C[v].d(1);C.length=g.length}},i:I,o:I,d(b){b&&$(e),ie(_,b),ie(h,b),ie(C,b)}}}function Pn(t){return t<-1?"--":(t<0?"":"+")+t}function kf(t,e,l){let n,i=I,s=()=>(i(),i=wt(r,c=>l(1,n=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();function o(c){n.explorationSkills[c].inspiration=this.checked,r.set(n)}function a(c){n.explorationSkills[c].inspiration=this.checked,r.set(n)}return t.$$set=c=>{"character"in c&&s(l(0,r=c.character))},[r,n,o,a]}class $f extends ge{constructor(e){super(),me(this,e,kf,vf,_e,{character:0})}}function Sf(t){let e,l,n,i;function s(o){t[3](o)}let r={};return t[0]!==void 0&&(r.character=t[0]),e=new $f({props:r}),fe.push(()=>Ce(e,"character",s)),{c(){W(e.$$.fragment),n=O(`

  Exploration Abilities Here.`)},m(o,a){B(e,o,a),S(o,n,a),i=!0},p(o,a){const c={};!l&&a&1&&(l=!0,c.character=o[0],we(()=>l=!1)),e.$set(c)},i(o){i||(M(e.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),i=!1},d(o){o&&$(n),D(e,o)}}}function wf(t){let e;return{c(){e=d("div"),e.innerHTML="<h2>Loading...</h2>",m(e,"class","page")},m(l,n){S(l,e,n)},p:I,i:I,o:I,d(l){l&&$(e)}}}function Cf(t){let e,l;return{c(){e=d("div"),l=O(t[1]),m(e,"class","sheet-block")},m(n,i){S(n,e,i),f(e,l)},p(n,i){i&2&&X(l,n[1])},i:I,o:I,d(n){n&&$(e)}}}function yf(t){let e,l,n,i;const s=[Cf,wf,Sf],r=[];function o(a,c){return a[1]?0:!a[0]||a[2]==null?1:2}return e=o(t),l=r[e]=s[e](t),{c(){l.c(),n=ye()},m(a,c){r[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?r[e].p(a,c):(se(),A(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,c):(l=r[e]=s[e](a),l.c()),M(l,1),l.m(n.parentNode,n))},i(a){i||(M(l),i=!0)},o(a){A(l),i=!1},d(a){a&&$(n),r[e].d(a)}}}function Pf(t,e,l){let n,i=I,s=()=>(i(),i=wt(r,c=>l(2,n=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();let o;wl(async()=>{l(1,o=r||n==null?void 0:"Failed to load character")});function a(c){r=c,s(l(0,r))}return t.$$set=c=>{"character"in c&&s(l(0,r=c.character))},[r,o,n,a]}class Mf extends ge{constructor(e){super(),me(this,e,Pf,yf,_e,{character:0})}}function Gf(t){let e;return{c(){e=d("div"),e.textContent="Coming Soon",m(e,"class","sheet-block")},m(l,n){S(l,e,n)},p:I,i:I,o:I,d(l){l&&$(e)}}}function Af(t,e,l){let{id:n}=e,{character:i}=e;return t.$$set=s=>{"id"in s&&l(0,n=s.id),"character"in s&&l(1,i=s.character)},[n,i]}class Tf extends ge{constructor(e){super(),me(this,e,Af,Gf,_e,{id:0,character:1})}}function Lf(t){let e;return{c(){e=d("div"),e.textContent="Coming Soon",m(e,"class","sheet-block")},m(l,n){S(l,e,n)},p:I,i:I,o:I,d(l){l&&$(e)}}}function jf(t,e,l){let{character:n}=e;return t.$$set=i=>{"character"in i&&l(0,n=i.character)},[n]}class Of extends ge{constructor(e){super(),me(this,e,jf,Lf,_e,{character:0})}}function Nf(t){let e,l,n,i=(t[3].name&&t[3].name.length>0?t[3].name:"Unnamed Character")+"",s,r,o,a,c,u;return c=new fi({props:{$$slots:{default:[qf]},$$scope:{ctx:t}}}),{c(){e=d("div"),l=d("div"),n=d("p"),s=O(i),r=k(),o=d("div"),o.textContent="HP Display",a=k(),W(c.$$.fragment),m(n,"id","name-label"),ue(l,"display","flex"),ue(l,"flex-direction","column"),m(e,"class","sheet-block")},m(_,p){S(_,e,p),f(e,l),f(l,n),f(n,s),f(e,r),f(e,o),S(_,a,p),B(c,_,p),u=!0},p(_,p){(!u||p&8)&&i!==(i=(_[3].name&&_[3].name.length>0?_[3].name:"Unnamed Character")+"")&&X(s,i);const h={};p&515&&(h.$$scope={dirty:p,ctx:_}),c.$set(h)},i(_){u||(M(c.$$.fragment,_),u=!0)},o(_){A(c.$$.fragment,_),u=!1},d(_){_&&($(e),$(a)),D(c,_)}}}function Rf(t){let e;return{c(){e=d("h2"),e.textContent="Loading..."},m(l,n){S(l,e,n)},p:I,i:I,o:I,d(l){l&&$(e)}}}function If(t){let e,l;return{c(){e=d("div"),l=O(t[2]),m(e,"class","sheet-block")},m(n,i){S(n,e,i),f(e,l)},p(n,i){i&4&&X(l,n[2])},i:I,o:I,d(n){n&&$(e)}}}function Ef(t){let e,l,n,i;function s(a){t[4](a)}function r(a){t[5](a)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new Tf({props:o}),fe.push(()=>Ce(e,"id",s)),fe.push(()=>Ce(e,"character",r)),{c(){W(e.$$.fragment)},m(a,c){B(e,a,c),i=!0},p(a,c){const u={};!l&&c&1&&(l=!0,u.id=a[0],we(()=>l=!1)),!n&&c&2&&(n=!0,u.character=a[1],we(()=>n=!1)),e.$set(u)},i(a){i||(M(e.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),i=!1},d(a){D(e,a)}}}function zf(t){let e,l,n;function i(r){t[6](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new bf({props:s}),fe.push(()=>Ce(e,"character",i)),{c(){W(e.$$.fragment)},m(r,o){B(e,r,o),n=!0},p(r,o){const a={};!l&&o&2&&(l=!0,a.character=r[1],we(()=>l=!1)),e.$set(a)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Ff(t){let e,l,n;function i(r){t[7](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new Mf({props:s}),fe.push(()=>Ce(e,"character",i)),{c(){W(e.$$.fragment)},m(r,o){B(e,r,o),n=!0},p(r,o){const a={};!l&&o&2&&(l=!0,a.character=r[1],we(()=>l=!1)),e.$set(a)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Hf(t){let e,l,n;function i(r){t[8](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new Of({props:s}),fe.push(()=>Ce(e,"character",i)),{c(){W(e.$$.fragment)},m(r,o){B(e,r,o),n=!0},p(r,o){const a={};!l&&o&2&&(l=!0,a.character=r[1],we(()=>l=!1)),e.$set(a)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function qf(t){let e,l,n,i,s,r,o,a;return e=new ft({props:{path:"/",$$slots:{default:[Ef]},$$scope:{ctx:t}}}),n=new ft({props:{path:"/social",$$slots:{default:[zf]},$$scope:{ctx:t}}}),s=new ft({props:{path:"/exploration",$$slots:{default:[Ff]},$$scope:{ctx:t}}}),o=new ft({props:{path:"/abilities",$$slots:{default:[Hf]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment),l=k(),W(n.$$.fragment),i=k(),W(s.$$.fragment),r=k(),W(o.$$.fragment)},m(c,u){B(e,c,u),S(c,l,u),B(n,c,u),S(c,i,u),B(s,c,u),S(c,r,u),B(o,c,u),a=!0},p(c,u){const _={};u&515&&(_.$$scope={dirty:u,ctx:c}),e.$set(_);const p={};u&514&&(p.$$scope={dirty:u,ctx:c}),n.$set(p);const h={};u&514&&(h.$$scope={dirty:u,ctx:c}),s.$set(h);const g={};u&514&&(g.$$scope={dirty:u,ctx:c}),o.$set(g)},i(c){a||(M(e.$$.fragment,c),M(n.$$.fragment,c),M(s.$$.fragment,c),M(o.$$.fragment,c),a=!0)},o(c){A(e.$$.fragment,c),A(n.$$.fragment,c),A(s.$$.fragment,c),A(o.$$.fragment,c),a=!1},d(c){c&&($(l),$(i),$(r)),D(e,c),D(n,c),D(s,c),D(o,c)}}}function Bf(t){let e,l,n,i;const s=[If,Rf,Nf],r=[];function o(a,c){return a[2]?0:!a[1]||a[3]==null?1:2}return e=o(t),l=r[e]=s[e](t),{c(){l.c(),n=ye()},m(a,c){r[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?r[e].p(a,c):(se(),A(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,c):(l=r[e]=s[e](a),l.c()),M(l,1),l.m(n.parentNode,n))},i(a){i||(M(l),i=!0)},o(a){A(l),i=!1},d(a){a&&$(n),r[e].d(a)}}}function Df(t,e,l){let n,i=I,s=()=>(i(),i=wt(o,g=>l(3,n=g)),o);t.$$.on_destroy.push(()=>i());let{id:r}=e,{character:o}=e;s();let a;wl(async()=>{l(2,a=o||n==null?void 0:"Failed to load character")});function c(g){r=g,l(0,r)}function u(g){o=g,s(l(1,o))}function _(g){o=g,s(l(1,o))}function p(g){o=g,s(l(1,o))}function h(g){o=g,s(l(1,o))}return t.$$set=g=>{"id"in g&&l(0,r=g.id),"character"in g&&s(l(1,o=g.character))},[r,o,a,n,c,u,_,p,h]}class Wf extends ge{constructor(e){super(),me(this,e,Df,Bf,_e,{id:0,character:1})}}function Uf(t){let e,l,n,i,s,r;function o(c){t[4](c)}let a={slim:!0};return t[0]!==void 0&&(a.id=t[0]),e=new Ro({props:a}),fe.push(()=>Ce(e,"id",o)),s=new fi({props:{$$slots:{default:[Qf]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment),n=k(),i=d("div"),W(s.$$.fragment),m(i,"id","character-page-content"),m(i,"class","svelte-ckpesr")},m(c,u){B(e,c,u),S(c,n,u),S(c,i,u),B(s,i,null),r=!0},p(c,u){const _={};!l&&u&1&&(l=!0,_.id=c[0],we(()=>l=!1)),e.$set(_);const p={};u&515&&(p.$$scope={dirty:u,ctx:c}),s.$set(p)},i(c){r||(M(e.$$.fragment,c),M(s.$$.fragment,c),r=!0)},o(c){A(e.$$.fragment,c),A(s.$$.fragment,c),r=!1},d(c){c&&($(n),$(i)),D(e,c),D(s)}}}function Yf(t){let e,l,n,i,s,r,o;return r=new At({props:{to:"/characters",$$slots:{default:[Xf]},$$scope:{ctx:t}}}),{c(){e=d("h2"),e.textContent="Error",l=k(),n=d("p"),i=O(t[2]),s=k(),W(r.$$.fragment),m(e,"class","svelte-ckpesr")},m(a,c){S(a,e,c),S(a,l,c),S(a,n,c),f(n,i),S(a,s,c),B(r,a,c),o=!0},p(a,c){(!o||c&4)&&X(i,a[2]);const u={};c&512&&(u.$$scope={dirty:c,ctx:a}),r.$set(u)},i(a){o||(M(r.$$.fragment,a),o=!0)},o(a){A(r.$$.fragment,a),o=!1},d(a){a&&($(e),$(l),$(n),$(s)),D(r,a)}}}function Vf(t){let e;return{c(){e=d("h2"),e.textContent="Loading...",m(e,"class","svelte-ckpesr")},m(l,n){S(l,e,n)},p:I,i:I,o:I,d(l){l&&$(e)}}}function Jf(t){let e,l,n,i;function s(a){t[5](a)}function r(a){t[6](a)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new Fu({props:o}),fe.push(()=>Ce(e,"id",s)),fe.push(()=>Ce(e,"character",r)),{c(){W(e.$$.fragment)},m(a,c){B(e,a,c),i=!0},p(a,c){const u={};!l&&c&1&&(l=!0,u.id=a[0],we(()=>l=!1)),!n&&c&2&&(n=!0,u.character=a[1],we(()=>n=!1)),e.$set(u)},i(a){i||(M(e.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),i=!1},d(a){D(e,a)}}}function Kf(t){let e,l,n,i;function s(a){t[7](a)}function r(a){t[8](a)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new Wf({props:o}),fe.push(()=>Ce(e,"id",s)),fe.push(()=>Ce(e,"character",r)),{c(){W(e.$$.fragment)},m(a,c){B(e,a,c),i=!0},p(a,c){const u={};!l&&c&1&&(l=!0,u.id=a[0],we(()=>l=!1)),!n&&c&2&&(n=!0,u.character=a[1],we(()=>n=!1)),e.$set(u)},i(a){i||(M(e.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),i=!1},d(a){D(e,a)}}}function Qf(t){let e,l,n,i;return e=new ft({props:{path:"/build/*",$$slots:{default:[Jf]},$$scope:{ctx:t}}}),n=new ft({props:{path:"/play/*",$$slots:{default:[Kf]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment),l=k(),W(n.$$.fragment)},m(s,r){B(e,s,r),S(s,l,r),B(n,s,r),i=!0},p(s,r){const o={};r&515&&(o.$$scope={dirty:r,ctx:s}),e.$set(o);const a={};r&515&&(a.$$scope={dirty:r,ctx:s}),n.$set(a)},i(s){i||(M(e.$$.fragment,s),M(n.$$.fragment,s),i=!0)},o(s){A(e.$$.fragment,s),A(n.$$.fragment,s),i=!1},d(s){s&&$(l),D(e,s),D(n,s)}}}function Xf(t){let e;return{c(){e=O("Return to Characters List")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function Zf(t){let e,l,n,i;const s=[Vf,Yf,Uf],r=[];function o(a,c){return!a[1]||a[3]==null?0:a[2]?1:2}return l=o(t),n=r[l]=s[l](t),{c(){e=d("div"),n.c(),m(e,"id","character-page"),m(e,"class","svelte-ckpesr")},m(a,c){S(a,e,c),r[l].m(e,null),i=!0},p(a,[c]){let u=l;l=o(a),l===u?r[l].p(a,c):(se(),A(r[u],1,1,()=>{r[u]=null}),re(),n=r[l],n?n.p(a,c):(n=r[l]=s[l](a),n.c()),M(n,1),n.m(e,null))},i(a){i||(M(n),i=!0)},o(a){A(n),i=!1},d(a){a&&$(e),r[l].d()}}}function xf(t,e,l){let n,i=I,s=()=>(i(),i=wt(o,g=>l(3,n=g)),o);t.$$.on_destroy.push(()=>i());let{id:r=Ii}=e,o,a;wl(async()=>{if(l(2,a=o||n==null?void 0:"Could not load character."),a){r!=="local"&&!_i(r)&&l(2,a="Could not load character: Invalid ID.");return}if(window.location.pathname.endsWith(`/character/${r}`)||window.location.pathname.endsWith(`/character/${r}/`)){console.log("redirecting to play view"),ui(`/character/${r}/play`,{replace:!0});return}});function c(g){r=g,l(0,r)}function u(g){r=g,l(0,r)}function _(g){o=g,s(l(1,o))}function p(g){r=g,l(0,r)}function h(g){o=g,s(l(1,o))}return t.$$set=g=>{"id"in g&&l(0,r=g.id)},t.$$.update=()=>{t.$$.dirty&1&&s(l(1,o=r=="local"?Gc:Ac(r)))},[r,o,a,n,c,u,_,p,h]}class e1 extends ge{constructor(e){super(),me(this,e,xf,Zf,_e,{id:0})}}function no(t,e,l){const n=t.slice();return n[4]=e[l][0],n[5]=e[l][1],n[7]=l,n}function io(t){let e,l,n,i,s,r,o,a,c,u,_,p;return{c(){e=d("div"),l=d("h1"),l.textContent="Characters",n=k(),i=d("p"),i.textContent="You are not logged into an account.",s=k(),r=d("p"),r.innerHTML=`You can try Hammer and Steel&#39;s character sheet without an account.<br/>
            Creating a character sheet without an account means it is <b>not</b> stored on our servers.
            You will only be able to access it on this device and it will not be backed up or secured.<br/>
            To store a character on our server, to be accessed from anywhere, you&#39;ll need to create an account and save the character to your account.`,o=k(),a=d("br"),c=k(),u=d("a"),u.textContent="Try the Character Forge",ue(r,"text-align","left"),m(u,"class","button"),m(u,"href","/character/local"),m(e,"class","page")},m(h,g){S(h,e,g),f(e,l),f(e,n),f(e,i),f(e,s),f(e,r),f(e,o),f(e,a),f(e,c),f(e,u),_||(p=Yl(Jl.call(null,u)),_=!0)},d(h){h&&$(e),_=!1,p()}}}function t1(t){let e,l=H(Object.entries(t[1])),n=[];for(let i=0;i<l.length;i+=1)n[i]=so(no(t,l,i));return{c(){e=d("div");for(let i=0;i<n.length;i+=1)n[i].c();m(e,"class","char-list svelte-122uifz")},m(i,s){S(i,e,s);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(i,s){if(s&2){l=H(Object.entries(i[1]));let r;for(r=0;r<l.length;r+=1){const o=no(i,l,r);n[r]?n[r].p(o,s):(n[r]=so(o),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}},d(i){i&&$(e),ie(n,i)}}}function l1(t){let e;return{c(){e=O("No characters exist yet.")},m(l,n){S(l,e,n)},p:I,d(l){l&&$(e)}}}function so(t){let e,l=t[5].name+"",n,i,s;return{c(){e=d("a"),n=O(l),m(e,"href","/character/"+t[4]),m(e,"class","button-outlined char-button svelte-122uifz")},m(r,o){S(r,e,o),f(e,n),i||(s=Yl(Jl.call(null,e)),i=!0)},p:I,d(r){r&&$(e),i=!1,s()}}}function n1(t){let e,l,n,i,s,r,o,a,c,u,_,p,h=t[0]===null&&io();function g(P,v){return Object.keys(P[1]).length==0?l1:t1}let b=g(t)(t);return{c(){h&&h.c(),e=k(),l=d("div"),n=d("h1"),n.textContent="Characters:",i=k(),b.c(),s=k(),r=d("br"),o=k(),a=d("button"),a.textContent="+",c=k(),u=d("br"),m(a,"class","button"),m(l,"class","page")},m(P,v){h&&h.m(P,v),S(P,e,v),S(P,l,v),f(l,n),f(l,i),b.m(l,null),f(l,s),f(l,r),f(l,o),f(l,a),f(l,c),f(l,u),_||(p=Q(a,"click",t[2]),_=!0)},p(P,[v]){P[0]===null?h||(h=io(),h.c(),h.m(e.parentNode,e)):h&&(h.d(1),h=null),b.p(P,v)},i:I,o:I,d(P){P&&($(e),$(l)),h&&h.d(P),b.d(),_=!1,p()}}}function i1(t,e,l){let n,i;at(t,Ti,o=>l(3,n=o)),at(t,Tt,o=>l(0,i=o));let s=n;function r(){Ti.create(o=>{console.log("Navigating to '/character/"+o+"'"),ui("/character/"+o)})}return[i,s,r]}class s1 extends ge{constructor(e){super(),me(this,e,i1,n1,_e,{})}}function r1(t){let e;return{c(){e=d("div"),e.innerHTML=' 2024 <a href="http://corybeutler.com" class="svelte-x3udvl">Cory Beutler</a><br/> <span style="margin: 0pt 10pt">Report a problem:</span> <a href="https://github.com/cgbeutler/hns-site" class="svelte-x3udvl"><img src="/img/github_logo.png" alt="github.com/cgbeutler/hns-site" class="svelte-x3udvl"/></a>',m(e,"class","ext-nav svelte-x3udvl")},m(l,n){S(l,e,n)},p:I,i:I,o:I,d(l){l&&$(e)}}}class o1 extends ge{constructor(e){super(),me(this,e,null,r1,_e,{})}}function ro(t){let e,l,n=t[1]?"":"",i,s,r,o,a,c,u,_,p,h,g;return{c(){e=d("pre"),l=O(t[0]),i=O(n),s=k(),r=d("div"),o=d("div"),a=d("a"),a.textContent="Login",c=d("a"),c.textContent="Create Account",u=d("br"),_=k(),p=d("a"),p.textContent="Try the Character Builder",ue(e,"height","25lh"),m(e,"class","svelte-cz83gi"),m(a,"href","/login"),m(a,"class","button"),m(c,"href","/account"),m(c,"class","button"),m(o,"class","h-button-box svelte-cz83gi"),m(p,"href","/character/local/build"),m(p,"class","button"),m(r,"class","v-button-box svelte-cz83gi")},m(C,b){S(C,e,b),f(e,l),f(e,i),S(C,s,b),S(C,r,b),f(r,o),f(o,a),f(o,c),f(o,u),f(r,_),f(r,p),h||(g=[Yl(Jl.call(null,a)),Yl(Jl.call(null,c)),Yl(Jl.call(null,p))],h=!0)},p(C,b){b&1&&X(l,C[0]),b&2&&n!==(n=C[1]?"":"")&&X(i,n)},d(C){C&&($(e),$(s),$(r)),h=!1,Me(g)}}}function a1(t){let e,l,n,i,s,r,o,a=!t[2]&&ro(t);return r=new o1({}),{c(){e=d("div"),l=d("h1"),l.textContent="The Kleptonomicon",n=k(),a&&a.c(),i=k(),s=d("div"),W(r.$$.fragment),m(e,"id","home-page"),m(e,"class","svelte-cz83gi"),m(s,"id","end-matter"),m(s,"class","svelte-cz83gi")},m(c,u){S(c,e,u),f(e,l),f(e,n),a&&a.m(e,null),S(c,i,u),S(c,s,u),B(r,s,null),o=!0},p(c,[u]){c[2]?a&&(a.d(1),a=null):a?a.p(c,u):(a=ro(c),a.c(),a.m(e,null))},i(c){o||(M(r.$$.fragment,c),o=!0)},o(c){A(r.$$.fragment,c),o=!1},d(c){c&&($(e),$(i),$(s)),a&&a.d(),D(r)}}}function c1(t,e,l){let n;at(t,Tt,_=>l(2,n=_));let{location:i="/"}=e,s=`                              

You pick up the Kleptonomicon.
  |\\'""""""""""""""""""".
  | \\ __________________\\
  | |":      ______      |
  | | :    ."      ".    |
  |\\| :   /__________\\   |
  | |-:--""___    ___""--|
  |\\|_:_  (_O_)__(_O_)  _|
  | | : '-____(..)____-' |
  |\\| :  |   .====.   |  |
  |\\|-------|| () ||-----|
  | |-------|| || ||-----|
  | | :    \\ '====' /    |
  \\ | :   Kleptonomicon  |
   \\|,:__________________/

 The masked face on the cover
   stares at you lifelessly.
 A large lock binds the book.
You can tell the book contains
 a Tabletop Roleplaying Game.

        What do you do?`,r="",o=0,a=4,c=!1,u=setInterval(()=>{if(o>=s.length){l(1,c=!0),clearInterval(u);return}l(0,r+=s.slice(o,Math.min(o+a,s.length))),o+=a,o>60&&o<460?a=10:o>=460&&o<590?a=4:o>=590&&(a=1)},2);return t.$$set=_=>{"location"in _&&l(3,i=_.location)},t.$$.update=()=>{t.$$.dirty&8&&console.log(i)},[r,c,n,i]}class u1 extends ge{constructor(e){super(),me(this,e,c1,a1,_e,{location:3})}}function f1(t){let e,l,n,i,s,r;return{c(){e=d("div"),l=d("h1"),l.textContent="Page Not Found",n=k(),i=d("a"),i.textContent="Return To Homepage",m(i,"href","/"),m(i,"class","button-outlined"),m(e,"class","page")},m(o,a){S(o,e,a),f(e,l),f(e,n),f(e,i),s||(r=Yl(Jl.call(null,i)),s=!0)},p:I,i:I,o:I,d(o){o&&$(e),s=!1,r()}}}class _1 extends ge{constructor(e){super(),me(this,e,null,f1,_e,{})}}class h1 extends ge{constructor(e){super(),me(this,e,null,null,_e,{})}}function oo(t,e,l){const n=t.slice();return n[11]=e[l],n}function p1(t){let e,l,n,i=t[4].name+"",s,r,o;function a(_,p){return _[3]?g1:m1}let c=a(t),u=c(t);return{c(){e=d("div"),l=d("p"),n=O("Hello "),s=O(i),r=O("!"),o=k(),u.c(),m(l,"class","svelte-9xzto8"),m(e,"class","logout-box svelte-9xzto8")},m(_,p){S(_,e,p),f(e,l),f(l,n),f(l,s),f(l,r),f(e,o),u.m(e,null)},p(_,p){p&16&&i!==(i=_[4].name+"")&&X(s,i),c===(c=a(_))&&u?u.p(_,p):(u.d(1),u=c(_),u&&(u.c(),u.m(e,null)))},d(_){_&&$(e),u.d()}}}function d1(t){let e,l,n,i,s,r,o,a,c,u,_,p,h,g,C,b,P,v,G=H(t[2]),L=[];for(let z=0;z<G.length;z+=1)L[z]=ao(oo(t,G,z));return{c(){e=d("form"),l=d("div"),n=d("label"),n.textContent="Name",i=k(),s=d("input"),r=k(),o=d("div"),a=d("label"),a.textContent="Password",c=k(),u=d("input"),_=k(),p=d("div"),h=d("button"),h.textContent="Sign-Up",g=k(),C=d("button"),C.textContent="Login",b=k();for(let z=0;z<L.length;z+=1)L[z].c();m(n,"for","nameOrEmail"),m(n,"class","svelte-9xzto8"),m(s,"name","nameOrEmail"),m(s,"type","text"),m(s,"placeholder","or Email"),m(s,"class","svelte-9xzto8"),m(l,"class","svelte-9xzto8"),m(a,"for","password"),m(a,"class","svelte-9xzto8"),m(u,"name","password"),m(u,"type","password"),m(u,"class","svelte-9xzto8"),m(o,"class","svelte-9xzto8"),m(h,"type","button"),m(C,"class","bright"),m(C,"type","submit"),m(p,"class","svelte-9xzto8"),m(e,"class","login-box svelte-9xzto8"),m(e,"method","post")},m(z,U){S(z,e,U),f(e,l),f(l,n),f(l,i),f(l,s),be(s,t[0]),f(e,r),f(e,o),f(o,a),f(o,c),f(o,u),be(u,t[1]),f(e,_),f(e,p),f(p,h),f(p,g),f(p,C),f(e,b);for(let j=0;j<L.length;j+=1)L[j]&&L[j].m(e,null);P||(v=[Q(s,"input",t[8]),Q(u,"input",t[9]),Q(h,"click",xt(t[10])),Q(e,"submit",xt(t[6]))],P=!0)},p(z,U){if(U&1&&s.value!==z[0]&&be(s,z[0]),U&2&&u.value!==z[1]&&be(u,z[1]),U&4){G=H(z[2]);let j;for(j=0;j<G.length;j+=1){const E=oo(z,G,j);L[j]?L[j].p(E,U):(L[j]=ao(E),L[j].c(),L[j].m(e,null))}for(;j<L.length;j+=1)L[j].d(1);L.length=G.length}},d(z){z&&$(e),ie(L,z),P=!1,Me(v)}}}function m1(t){let e,l,n;return{c(){e=d("button"),e.textContent="Logout",m(e,"class","logout-button")},m(i,s){S(i,e,s),l||(n=Q(e,"click",t[5]),l=!0)},p:I,d(i){i&&$(e),l=!1,n()}}}function g1(t){let e,l,n,i,s,r,o;return{c(){e=d("div"),l=O(`Logout?
        `),n=d("button"),n.textContent="No",i=k(),s=d("button"),s.textContent="Yes",m(n,"class","logout-confirm-button svelte-9xzto8"),m(s,"class","bright-red logout-confirm-button svelte-9xzto8"),m(e,"class","logout-confirmation svelte-9xzto8")},m(a,c){S(a,e,c),f(e,l),f(e,n),f(e,i),f(e,s),r||(o=[Q(n,"click",t[5]),Q(s,"click",t[7])],r=!0)},p:I,d(a){a&&$(e),r=!1,Me(o)}}}function ao(t){let e,l=t[11]+"",n;return{c(){e=d("label"),n=O(l),ue(e,"text-align","left"),m(e,"for","errors"),m(e,"class","svelte-9xzto8")},m(i,s){S(i,e,s),f(e,n)},p(i,s){s&4&&l!==(l=i[11]+"")&&X(n,l)},d(i){i&&$(e)}}}function b1(t){let e;function l(s,r){return s[4]?p1:d1}let n=l(t),i=n(t);return{c(){i.c(),e=ye()},m(s,r){i.m(s,r),S(s,e,r)},p(s,[r]){n===(n=l(s))&&i?i.p(s,r):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:I,o:I,d(s){s&&$(e),i.d(s)}}}function v1(t,e,l){let n;at(t,Tt,g=>l(4,n=g));let i="",s="",r=[],o=!1;function a(){l(3,o=!o)}async function c(){l(2,r=[]),await Tt.login(i,s,g=>{l(2,r=g)})}async function u(){await Tt.logout()}function _(){i=this.value,l(0,i)}function p(){s=this.value,l(1,s)}return[i,s,r,o,n,a,c,u,_,p,()=>ui("/account")]}class Io extends ge{constructor(e){super(),me(this,e,v1,b1,_e,{})}}function k1(t){let e,l,n,i,s;return i=new Io({}),{c(){e=d("div"),l=d("h1"),l.textContent="Login",n=k(),W(i.$$.fragment),m(e,"id","login-page"),m(e,"class","svelte-1u4l0nb")},m(r,o){S(r,e,o),f(e,l),f(e,n),B(i,e,null),s=!0},p:I,i(r){s||(M(i.$$.fragment,r),s=!0)},o(r){A(i.$$.fragment,r),s=!1},d(r){r&&$(e),D(i)}}}class $1 extends ge{constructor(e){super(),me(this,e,null,k1,_e,{})}}function co(t,e,l){const n=t.slice();return n[2]=e[l][0],n[3]=e[l][1],n}function S1(t){let e;return{c(){e=O("Rulebook")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function w1(t){let e;return{c(){e=O("My Account")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function C1(t){let e;return{c(){e=O("Characters")},m(l,n){S(l,e,n)},d(l){l&&$(e)}}}function y1(t){let e=t[3].name+"",l;return{c(){l=O(e)},m(n,i){S(n,l,i)},p:I,d(n){n&&$(l)}}}function uo(t){let e,l;return e=new At({props:{to:"/character/"+t[2],getProps:M1,$$slots:{default:[y1]},$$scope:{ctx:t}}}),e.$on("click",li),{c(){W(e.$$.fragment)},m(n,i){B(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function P1(t){let e,l,n,i,s,r,o,a,c,u,_,p,h,g,C;s=new At({props:{to:"/srd",getProps:Si,$$slots:{default:[S1]},$$scope:{ctx:t}}}),s.$on("click",li),c=new At({props:{to:"/account",getProps:Si,$$slots:{default:[w1]},$$scope:{ctx:t}}}),c.$on("click",li),_=new At({props:{to:"/character",getProps:Si,$$slots:{default:[C1]},$$scope:{ctx:t}}}),_.$on("click",li);let b=H(Object.entries(t[0])),P=[];for(let G=0;G<b.length;G+=1)P[G]=uo(co(t,b,G));const v=G=>A(P[G],1,1,()=>{P[G]=null});return g=new Io({}),{c(){e=d("div"),l=d("nav"),n=d("a"),n.textContent="KLEPTONOMICON",i=k(),W(s.$$.fragment),r=k(),o=d("span"),o.textContent="---",a=k(),W(c.$$.fragment),u=k(),W(_.$$.fragment),p=k();for(let G=0;G<P.length;G+=1)P[G].c();h=k(),W(g.$$.fragment),m(n,"href","/"),m(n,"id","home-button"),m(n,"class","svelte-g6u4is"),ue(o,"text-align","center"),m(l,"class","banded-menu"),m(e,"class","contents svelte-g6u4is")},m(G,L){S(G,e,L),f(e,l),f(l,n),f(l,i),B(s,l,null),f(l,r),f(l,o),f(l,a),B(c,l,null),f(l,u),B(_,l,null),f(l,p);for(let z=0;z<P.length;z+=1)P[z]&&P[z].m(l,null);f(e,h),B(g,e,null),C=!0},p(G,[L]){const z={};L&64&&(z.$$scope={dirty:L,ctx:G}),s.$set(z);const U={};L&64&&(U.$$scope={dirty:L,ctx:G}),c.$set(U);const j={};if(L&64&&(j.$$scope={dirty:L,ctx:G}),_.$set(j),L&1){b=H(Object.entries(G[0]));let E;for(E=0;E<b.length;E+=1){const Y=co(G,b,E);P[E]?(P[E].p(Y,L),M(P[E],1)):(P[E]=uo(Y),P[E].c(),M(P[E],1),P[E].m(l,null))}for(se(),E=b.length;E<P.length;E+=1)v(E);re()}},i(G){if(!C){M(s.$$.fragment,G),M(c.$$.fragment,G),M(_.$$.fragment,G);for(let L=0;L<b.length;L+=1)M(P[L]);M(g.$$.fragment,G),C=!0}},o(G){A(s.$$.fragment,G),A(c.$$.fragment,G),A(_.$$.fragment,G),P=P.filter(Boolean);for(let L=0;L<P.length;L+=1)A(P[L]);A(g.$$.fragment,G),C=!1},d(G){G&&$(e),D(s),D(c),D(_),ie(P,G),D(g)}}}function Si(t){return t.isPartiallyCurrent?{class:"curr-path"}:{class:""}}function M1(t){let{location:e,href:l,isPartiallyCurrent:n,isCurrent:i}=t;if(i)return{class:"ml20 active curr-path"};if(n)return{class:"ml20 active"};let s=e.pathname;if(console.log("pathname: "+s),s.length<=1||s[0]!=="/")return{class:"ml20 hidden"};const r=s.indexOf("/",1),o=r>0?s.slice(0,r):s;return console.log("rootpath: "+o),o.length<2?{class:"ml20 hidden"}:l.startsWith(o)?{class:"ml20 active"}:l.startsWith("/"+o)?{class:"ml20 active"}:{class:"ml20 hidden"}}function G1(t,e,l){let n;return at(t,Ti,s=>l(1,n=s)),[n]}class A1 extends ge{constructor(e){super(),me(this,e,G1,P1,_e,{})}}function fo(t){let e,l,n,i,s,r;return l=new A1({}),{c(){e=d("div"),W(l.$$.fragment),m(e,"role","dialog"),m(e,"class","modal svelte-ietmsf")},m(o,a){S(o,e,a),B(l,e,null),i=!0,s||(r=[Q(e,"introstart",t[1]),Q(e,"outroend",t[2])],s=!0)},i(o){i||(M(l.$$.fragment,o),Dt(()=>{i&&(n||(n=ri(e,Mi,{duration:100,x:100},!0)),n.run(1))}),i=!0)},o(o){A(l.$$.fragment,o),n||(n=ri(e,Mi,{duration:100,x:100},!1)),n.run(0),i=!1},d(o){o&&$(e),D(l),o&&n&&n.end(),s=!1,Me(r)}}}function T1(t){let e,l,n=t[0]&&fo(t);return{c(){n&&n.c(),e=ye()},m(i,s){n&&n.m(i,s),S(i,e,s),l=!0},p(i,[s]){i[0]?n?s&1&&M(n,1):(n=fo(i),n.c(),M(n,1),n.m(e.parentNode,e)):n&&(se(),A(n,1,1,()=>{n=null}),re())},i(i){l||(M(n),l=!0)},o(i){A(n),l=!1},d(i){i&&$(e),n&&n.d(i)}}}function L1(t,e,l){let{isOpen:n=!1}=e;function i(r){Ui.call(this,t,r)}function s(r){Ui.call(this,t,r)}return t.$$set=r=>{"isOpen"in r&&l(0,n=r.isOpen)},[n,i,s]}class j1 extends ge{constructor(e){super(),me(this,e,L1,T1,_e,{isOpen:0})}}function O1(t){let e,l,n,i,s;return{c(){e=d("div"),m(e,"slot","backdrop"),m(e,"class","backdrop svelte-bpnpmw"),m(e,"role","none")},m(r,o){S(r,e,o),n=!0,i||(s=[Q(e,"click",Ri),Q(e,"keypress",t[1])],i=!0)},p:I,i(r){n||(r&&Dt(()=>{n&&(l||(l=ri(e,Pi,{},!0)),l.run(1))}),n=!0)},o(r){r&&(l||(l=ri(e,Pi,{},!1)),l.run(0)),n=!1},d(r){r&&$(e),r&&l&&l.end(),i=!1,Me(s)}}}function N1(t){let e,l,n,i,s,r,o,a,c,u,_,p,h,g,C,b,P,v,G,L,z,U;return e=new sc({props:{$$slots:{backdrop:[O1]},$$scope:{ctx:t}}}),s=new ft({props:{component:_1}}),o=new ft({props:{path:"/",component:u1}}),c=new ft({props:{path:"/character",component:s1}}),_=new ft({props:{path:"/character/:id/*",component:e1}}),h=new ft({props:{path:"/srd",component:h1}}),C=new ft({props:{path:"/account",component:Hc}}),P=new ft({props:{path:"/login",component:$1}}),G=new gc({props:{options:t[2]}}),{c(){W(e.$$.fragment),l=k(),n=d("button"),n.innerHTML='<img src="/img/HnsSmall.svg" alt="H&amp;S"/>',i=k(),W(s.$$.fragment),r=k(),W(o.$$.fragment),a=k(),W(c.$$.fragment),u=k(),W(_.$$.fragment),p=k(),W(h.$$.fragment),g=k(),W(C.$$.fragment),b=k(),W(P.$$.fragment),v=k(),W(G.$$.fragment),m(n,"id","nav-button"),m(n,"class","svelte-bpnpmw")},m(j,E){B(e,j,E),S(j,l,E),S(j,n,E),S(j,i,E),B(s,j,E),S(j,r,E),B(o,j,E),S(j,a,E),B(c,j,E),S(j,u,E),B(_,j,E),S(j,p,E),B(h,j,E),S(j,g,E),B(C,j,E),S(j,b,E),B(P,j,E),S(j,v,E),B(G,j,E),L=!0,z||(U=Q(n,"click",t[4]),z=!0)},p(j,E){const Y={};E&32&&(Y.$$scope={dirty:E,ctx:j}),e.$set(Y)},i(j){L||(M(e.$$.fragment,j),M(s.$$.fragment,j),M(o.$$.fragment,j),M(c.$$.fragment,j),M(_.$$.fragment,j),M(h.$$.fragment,j),M(C.$$.fragment,j),M(P.$$.fragment,j),M(G.$$.fragment,j),L=!0)},o(j){A(e.$$.fragment,j),A(s.$$.fragment,j),A(o.$$.fragment,j),A(c.$$.fragment,j),A(_.$$.fragment,j),A(h.$$.fragment,j),A(C.$$.fragment,j),A(P.$$.fragment,j),A(G.$$.fragment,j),L=!1},d(j){j&&($(l),$(n),$(i),$(r),$(a),$(u),$(p),$(g),$(b),$(v)),D(e,j),D(s,j),D(o,j),D(c,j),D(_,j),D(h,j),D(C,j),D(P,j),D(G,j),z=!1,U()}}}function R1(t){let e,l,n,i;return Dt(t[3]),e=new fi({props:{$$slots:{default:[N1]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(s,r){B(e,s,r),l=!0,n||(i=Q(window,"resize",t[3]),n=!0)},p(s,[r]){const o={};r&32&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){l||(M(e.$$.fragment,s),l=!0)},o(s){A(e.$$.fragment,s),l=!1},d(s){D(e,s),n=!1,i()}}}function I1(t,e,l){let n=0;function i(a){a.repeat||a.key==="Escape"&&(Ri(),a.preventDefault())}const s={duration:6e3,pausable:!0,reversed:!0};function r(){l(0,n=window.innerWidth)}return[n,i,s,r,()=>Oo(j1)]}class E1 extends ge{constructor(e){super(),me(this,e,I1,R1,_e,{})}}const z1=pt(window.location.pathname);new E1({target:document.getElementById("app")});const F1=()=>{let t=window.location.pathname;const e=document.querySelector("body");new MutationObserver(n=>{n.forEach(()=>{t!==document.location.pathname&&(t=document.location.pathname,z1.set(t))})}).observe(e,{childList:!0,subtree:!0})};window.onload=F1;
