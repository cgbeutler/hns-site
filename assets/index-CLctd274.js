var js=Object.defineProperty;var Ns=(t,e,l)=>e in t?js(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var be=(t,e,l)=>(Ns(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function I(){}const tn=t=>t;function Kt(t,e){for(const l in e)t[l]=e[l];return t}function Os(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function ms(t){return t()}function Tn(){return Object.create(null)}function Oe(t){t.forEach(ms)}function ml(t){return typeof t=="function"}function Se(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Dl;function Ol(t,e){return t===e?!0:(Dl||(Dl=document.createElement("a")),Dl.href=e,t===Dl.href)}function Es(t){return Object.keys(t).length===0}function Ft(t,...e){if(t==null){for(const n of e)n(void 0);return I}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Lt(t){let e;return Ft(t,l=>e=l)(),e}function Gt(t,e,l){t.$$.on_destroy.push(Ft(e,l))}function bl(t,e,l,n){if(t){const i=bs(t,e,l,n);return t[0](i)}}function bs(t,e,l,n){return t[1]&&n?Kt(l.ctx.slice(),t[1](n(e))):l.ctx}function gl(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let r=0;r<o;r+=1)s[r]=e.dirty[r]|i[r];return s}return e.dirty|i}return e.dirty}function vl(t,e,l,n,i,s){if(i){const o=bs(e,l,n,s);t.p(o,i)}}function kl(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function hn(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function Rn(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function qe(t,e,l){return t.set(l),e}function ul(t){return t&&ml(t.destroy)?t.destroy:I}function jn(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const gs=typeof window<"u";let wn=gs?()=>window.performance.now():()=>Date.now(),Sn=gs?t=>requestAnimationFrame(t):I;const yl=new Set;function vs(t){yl.forEach(e=>{e.c(t)||(yl.delete(e),e.f())}),yl.size!==0&&Sn(vs)}function yn(t){let e;return yl.size===0&&Sn(vs),{promise:new Promise(l=>{yl.add(e={c:t,f:l})}),abort(){yl.delete(e)}}}function c(t,e){t.appendChild(e)}function ks(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Is(t){const e=h("style");return e.textContent="/* empty */",Hs(ks(t),e),e.sheet}function Hs(t,e){return c(t.head||t,e),e.sheet}function g(t,e,l){t.insertBefore(e,l||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function We(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function h(t){return document.createElement(t)}function T(t){return document.createTextNode(t)}function k(){return T(" ")}function he(){return T("")}function V(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function tl(t){return function(e){return e.preventDefault(),t.call(this,e)}}function p(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const Fs=["width","height"];function Nn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&Fs.indexOf(n)===-1?t[n]=e[n]:p(t,n,e[n])}function vt(t){return t===""?null:+t}function Ds(t){return Array.from(t.childNodes)}function z(t,e){e=""+e,t.data!==e&&(t.data=e)}function oe(t,e){t.value=e??""}function Q(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function ie(t,e,l){t.classList.toggle(e,!!l)}function $s(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function Pl(t,e){return new t(e)}const Kl=new Map;let Vl=0;function Ws(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function Bs(t,e){const l={stylesheet:Is(e),rules:{}};return Kl.set(t,l),l}function Ql(t,e,l,n,i,s,o,r=0){const a=16.666/n;let u=`{
`;for(let w=0;w<=1;w+=a){const C=e+(l-e)*s(w);u+=w*100+`%{${o(C,1-C)}}
`}const _=u+`100% {${o(l,1-l)}}
}`,d=`__svelte_${Ws(_)}_${r}`,m=ks(t),{stylesheet:f,rules:$}=Kl.get(m)||Bs(m,t);$[d]||($[d]=!0,f.insertRule(`@keyframes ${d} ${_}`,f.cssRules.length));const S=t.style.animation||"";return t.style.animation=`${S?`${S}, `:""}${d} ${n}ms linear ${i}ms 1 both`,Vl+=1,d}function Xl(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=l.length-n.length;i&&(t.style.animation=n.join(", "),Vl-=i,Vl||Us())}function Us(){Sn(()=>{Vl||(Kl.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&b(e)}),Kl.clear())})}let Rl;function rl(t){Rl=t}function Gl(){if(!Rl)throw new Error("Function called outside component initialization");return Rl}function Qt(t){Gl().$$.on_mount.push(t)}function zs(t){Gl().$$.on_destroy.push(t)}function qs(){const t=Gl();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=$s(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function an(t,e){return Gl().$$.context.set(t,e),e}function Cl(t){return Gl().$$.context.get(t)}function On(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const Sl=[],we=[];let Ml=[];const mn=[],Ys=Promise.resolve();let bn=!1;function Js(){bn||(bn=!0,Ys.then(Cn))}function ll(t){Ml.push(t)}function Xe(t){mn.push(t)}const cn=new Set;let $l=0;function Cn(){if($l!==0)return;const t=Rl;do{try{for(;$l<Sl.length;){const e=Sl[$l];$l++,rl(e),Ks(e.$$)}}catch(e){throw Sl.length=0,$l=0,e}for(rl(null),Sl.length=0,$l=0;we.length;)we.pop()();for(let e=0;e<Ml.length;e+=1){const l=Ml[e];cn.has(l)||(cn.add(l),l())}Ml.length=0}while(Sl.length);for(;mn.length;)mn.pop()();bn=!1,cn.clear(),rl(t)}function Ks(t){if(t.fragment!==null){t.update(),Oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ll)}}function Vs(t){const e=[],l=[];Ml.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Ml=e}let Tl;function Mn(){return Tl||(Tl=Promise.resolve(),Tl.then(()=>{Tl=null})),Tl}function fl(t,e,l){t.dispatchEvent($s(`${e?"intro":"outro"}${l}`))}const Yl=new Set;let el;function st(){el={r:0,c:[],p:el}}function rt(){el.r||Oe(el.c),el=el.p}function N(t,e){t&&t.i&&(Yl.delete(t),t.i(e))}function E(t,e,l,n){if(t&&t.o){if(Yl.has(t))return;Yl.add(t),el.c.push(()=>{Yl.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const Pn={duration:0};function Qs(t,e,l){const n={direction:"in"};let i=e(t,l,n),s=!1,o,r,a=0;function u(){o&&Xl(t,o)}function _(){const{delay:m=0,duration:f=300,easing:$=tn,tick:S=I,css:w}=i||Pn;w&&(o=Ql(t,0,1,f,m,$,w,a++)),S(0,1);const C=wn()+m,v=C+f;r&&r.abort(),s=!0,ll(()=>fl(t,!0,"start")),r=yn(y=>{if(s){if(y>=v)return S(1,0),fl(t,!0,"end"),u(),s=!1;if(y>=C){const L=$((y-C)/f);S(L,1-L)}}return s})}let d=!1;return{start(){d||(d=!0,Xl(t),ml(i)?(i=i(n),Mn().then(_)):_())},invalidate(){d=!1},end(){s&&(u(),s=!1)}}}function Xs(t,e,l){const n={direction:"out"};let i=e(t,l,n),s=!0,o;const r=el;r.r+=1;let a;function u(){const{delay:_=0,duration:d=300,easing:m=tn,tick:f=I,css:$}=i||Pn;$&&(o=Ql(t,1,0,d,_,m,$));const S=wn()+_,w=S+d;ll(()=>fl(t,!1,"start")),"inert"in t&&(a=t.inert,t.inert=!0),yn(C=>{if(s){if(C>=w)return f(0,1),fl(t,!1,"end"),--r.r||Oe(r.c),!1;if(C>=S){const v=m((C-S)/d);f(1-v,v)}}return s})}return ml(i)?Mn().then(()=>{i=i(n),u()}):u(),{end(_){_&&"inert"in t&&(t.inert=a),_&&i.tick&&i.tick(1,0),s&&(o&&Xl(t,o),s=!1)}}}function Zl(t,e,l,n){let s=e(t,l,{direction:"both"}),o=n?0:1,r=null,a=null,u=null,_;function d(){u&&Xl(t,u)}function m($,S){const w=$.b-o;return S*=Math.abs(w),{a:o,b:$.b,d:w,duration:S,start:$.start,end:$.start+S,group:$.group}}function f($){const{delay:S=0,duration:w=300,easing:C=tn,tick:v=I,css:y}=s||Pn,L={start:wn()+S,b:$};$||(L.group=el,el.r+=1),"inert"in t&&($?_!==void 0&&(t.inert=_):(_=t.inert,t.inert=!0)),r||a?a=L:(y&&(d(),u=Ql(t,o,$,w,S,C,y)),$&&v(0,1),r=m(L,w),ll(()=>fl(t,$,"start")),yn(j=>{if(a&&j>a.start&&(r=m(a,w),a=null,fl(t,r.b,"start"),y&&(d(),u=Ql(t,o,r.b,r.duration,0,C,s.css))),r){if(j>=r.end)v(o=r.b,1-o),fl(t,r.b,"end"),a||(r.b?d():--r.group.r||Oe(r.group.c)),r=null;else if(j>=r.start){const D=j-r.start;o=r.a+r.d*C(D/r.duration),v(o,1-o)}}return!!(r||a)}))}return{run($){ml(s)?Mn().then(()=>{s=s({direction:$?"in":"out"}),f($)}):f($)},end(){d(),r=a=null}}}function xl(t,e){const l=e.token={};function n(i,s,o,r){if(e.token!==l)return;e.resolved=r;let a=e.ctx;o!==void 0&&(a=a.slice(),a[o]=r);const u=i&&(e.current=i)(a);let _=!1;e.block&&(e.blocks?e.blocks.forEach((d,m)=>{m!==s&&d&&(st(),E(d,1,1,()=>{e.blocks[m]===d&&(e.blocks[m]=null)}),rt())}):e.block.d(1),u.c(),N(u,1),u.m(e.mount(),e.anchor),_=!0),e.block=u,e.blocks&&(e.blocks[s]=u),_&&Cn()}if(Os(t)){const i=Gl();if(t.then(s=>{rl(i),n(e.then,1,e.value,s),rl(null)},s=>{if(rl(i),n(e.catch,2,e.error,s),rl(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function ws(t,e,l){const n=e.slice(),{resolved:i}=t;t.current===t.then&&(n[t.value]=i),t.current===t.catch&&(n[t.error]=i),t.block.p(n,l)}function le(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ln(t,e){E(t,1,1,()=>{e.delete(t.key)})}function nn(t,e,l,n,i,s,o,r,a,u,_,d){let m=t.length,f=s.length,$=m;const S={};for(;$--;)S[t[$].key]=$;const w=[],C=new Map,v=new Map,y=[];for($=f;$--;){const H=d(i,s,$),O=l(H);let R=o.get(O);R?y.push(()=>R.p(H,e)):(R=u(O,H),R.c()),C.set(O,w[$]=R),O in S&&v.set(O,Math.abs($-S[O]))}const L=new Set,j=new Set;function D(H){N(H,1),H.m(r,_),o.set(H.key,H),_=H.first,f--}for(;m&&f;){const H=w[f-1],O=t[m-1],R=H.key,W=O.key;H===O?(_=H.first,m--,f--):C.has(W)?!o.has(R)||L.has(R)?D(H):j.has(W)?m--:v.get(R)>v.get(W)?(j.add(R),D(H)):(L.add(W),m--):(a(O,o),m--)}for(;m--;){const H=t[m];C.has(H.key)||a(H,o)}for(;f;)D(w[f-1]);return Oe(y),w}function hl(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],r=e[s];if(r){for(const a in o)a in r||(n[a]=1);for(const a in r)i[a]||(l[a]=r[a],i[a]=1);t[s]=r}else for(const a in o)i[a]=1}for(const o in n)o in l||(l[o]=void 0);return l}function al(t){return typeof t=="object"&&t!==null?t:{}}function Ze(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function J(t){t&&t.c()}function q(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),ll(()=>{const s=t.$$.on_mount.map(ms).filter(ml);t.$$.on_destroy?t.$$.on_destroy.push(...s):Oe(s),t.$$.on_mount=[]}),i.forEach(ll)}function Y(t,e){const l=t.$$;l.fragment!==null&&(Vs(l.after_update),Oe(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Zs(t,e){t.$$.dirty[0]===-1&&(Sl.push(t),Js(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ae(t,e,l,n,i,s,o=null,r=[-1]){const a=Rl;rl(t);const u=t.$$={fragment:null,ctx:[],props:s,update:I,not_equal:i,bound:Tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Tn(),dirty:r,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let _=!1;if(u.ctx=l?l(t,e.props||{},(d,m,...f)=>{const $=f.length?f[0]:m;return u.ctx&&i(u.ctx[d],u.ctx[d]=$)&&(!u.skip_bound&&u.bound[d]&&u.bound[d]($),_&&Zs(t,d)),m}):[],u.update(),_=!0,Oe(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const d=Ds(e.target);u.fragment&&u.fragment.l(d),d.forEach(b)}else u.fragment&&u.fragment.c();e.intro&&N(t.$$.fragment),q(t,e.target,e.anchor),Cn()}rl(a)}class Le{constructor(){be(this,"$$");be(this,"$$set")}$destroy(){Y(this,1),this.$destroy=I}$on(e,l){if(!ml(l))return I;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Es(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const xs="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xs);function er(t){const e=t-1;return e*e*e+1}function En(t,{delay:e=0,duration:l=400,easing:n=tn}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:n,css:s=>`opacity: ${s*i}`}}function In(t,{delay:e=0,duration:l=400,easing:n=er,x:i=0,y:s=0,opacity:o=0}={}){const r=getComputedStyle(t),a=+r.opacity,u=r.transform==="none"?"":r.transform,_=a*(1-o),[d,m]=jn(i),[f,$]=jn(s);return{delay:e,duration:l,easing:n,css:(S,w)=>`
			transform: ${u} translate(${(1-S)*d}${m}, ${(1-S)*f}${$});
			opacity: ${a-_*w}`}}const gn={},en={},Ss={},ys=/^:(.+)/,Hn=4,tr=3,lr=2,nr=1,ir=1,jl=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),un=t=>t.replace(/(^\/+|\/+$)/g,""),sr=(t,e)=>{const l=t.default?0:jl(t.path).reduce((n,i)=>(n+=Hn,i===""?n+=ir:ys.test(i)?n+=lr:i[0]==="*"?n-=Hn+nr:n+=tr,n),0);return{route:t,score:l,index:e}},rr=t=>t.map(sr).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index),Fn=(t,e)=>{let l,n;const[i]=e.split("?"),s=jl(i),o=s[0]==="",r=rr(t);for(let a=0,u=r.length;a<u;a++){const _=r[a].route;let d=!1;if(_.default){n={route:_,params:{},uri:e};continue}const m=jl(_.path),f={},$=Math.max(s.length,m.length);let S=0;for(;S<$;S++){const w=m[S],C=s[S];if(w&&w[0]==="*"){const y=w==="*"?"*":w.slice(1);f[y]=s.slice(S).map(decodeURIComponent).join("/");break}if(typeof C>"u"){d=!0;break}const v=ys.exec(w);if(v&&!o){const y=decodeURIComponent(C);f[v[1]]=y}else if(w!==C){d=!0;break}}if(!d){l={route:_,params:f,uri:"/"+s.slice(0,S).join("/")};break}}return l||n||null},fn=(t,e)=>t+(e?`?${e}`:""),or=(t,e)=>{if(t.startsWith("/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=jl(l),o=jl(i);if(s[0]==="")return fn(i,n);if(!s[0].startsWith(".")){const u=o.concat(s).join("/");return fn((i==="/"?"":"/")+u,n)}const r=o.concat(s),a=[];return r.forEach(u=>{u===".."?a.pop():u!=="."&&a.push(u)}),fn("/"+a.join("/"),n)},Dn=(t,e)=>`${un(e==="/"?t:`${un(t)}/${un(e)}`)}/`,Cs=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),ar=t=>{const e=location.host;return t.host===e||t.href.indexOf(`https://${e}`)===0||t.href.indexOf(`http://${e}`)===0},Ms=()=>typeof window<"u"&&"document"in window&&"location"in window,cr=t=>({active:t&4}),Wn=t=>({active:!!t[2]});function ur(t){let e,l,n,i;const s=t[17].default,o=bl(s,t,t[16],Wn);let r=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],a={};for(let u=0;u<r.length;u+=1)a=Kt(a,r[u]);return{c(){e=h("a"),o&&o.c(),Nn(e,a)},m(u,_){g(u,e,_),o&&o.m(e,null),l=!0,n||(i=V(e,"click",t[5]),n=!0)},p(u,[_]){o&&o.p&&(!l||_&65540)&&vl(o,s,u,u[16],l?gl(s,u[16],_,cr):kl(u[16]),Wn),Nn(e,a=hl(r,[(!l||_&1)&&{href:u[0]},(!l||_&4)&&{"aria-current":u[2]},_&2&&u[1],_&64&&u[6]]))},i(u){l||(N(o,u),l=!0)},o(u){E(o,u),l=!1},d(u){u&&b(e),o&&o.d(u),n=!1,i()}}}function fr(t,e,l){let n;const i=["to","replace","state","getProps","preserveScroll"];let s=Rn(e,i),o,r,{$$slots:a={},$$scope:u}=e,{to:_="#"}=e,{replace:d=!1}=e,{state:m={}}=e,{getProps:f=()=>({})}=e,{preserveScroll:$=!1}=e;const S=Cl(gn);Gt(t,S,O=>l(14,o=O));const{base:w}=Cl(en);Gt(t,w,O=>l(15,r=O));const{navigate:C}=Cl(Ss),v=qs();let y,L,j,D;const H=O=>{if(v("click",O),Cs(O)){O.preventDefault();const R=o.pathname===y||d;C(y,{state:m,replace:R,preserveScroll:$})}};return t.$$set=O=>{e=Kt(Kt({},e),hn(O)),l(6,s=Rn(e,i)),"to"in O&&l(7,_=O.to),"replace"in O&&l(8,d=O.replace),"state"in O&&l(9,m=O.state),"getProps"in O&&l(10,f=O.getProps),"preserveScroll"in O&&l(11,$=O.preserveScroll),"$$scope"in O&&l(16,u=O.$$scope)},t.$$.update=()=>{t.$$.dirty&32896&&l(0,y=or(_,r.uri)),t.$$.dirty&16385&&l(12,L=o.pathname.startsWith(y)),t.$$.dirty&16385&&l(13,j=y===o.pathname),t.$$.dirty&8192&&l(2,n=j?"page":void 0),l(1,D=f({location:o,href:y,isPartiallyCurrent:L,isCurrent:j,existingProps:s}))},[y,D,n,S,w,H,s,_,d,m,f,$,L,j,o,r,u,a]}class kt extends Le{constructor(e){super(),Ae(this,e,fr,ur,Se,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const _r=t=>({params:t&4}),Bn=t=>({params:t[2]});function Un(t){let e,l,n,i;const s=[dr,pr],o=[];function r(a,u){return a[0]?0:1}return e=r(t),l=o[e]=s[e](t),{c(){l.c(),n=he()},m(a,u){o[e].m(a,u),g(a,n,u),i=!0},p(a,u){let _=e;e=r(a),e===_?o[e].p(a,u):(st(),E(o[_],1,1,()=>{o[_]=null}),rt(),l=o[e],l?l.p(a,u):(l=o[e]=s[e](a),l.c()),N(l,1),l.m(n.parentNode,n))},i(a){i||(N(l),i=!0)},o(a){E(l),i=!1},d(a){a&&b(n),o[e].d(a)}}}function pr(t){let e;const l=t[8].default,n=bl(l,t,t[7],Bn);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&132)&&vl(n,l,i,i[7],e?gl(l,i[7],s,_r):kl(i[7]),Bn)},i(i){e||(N(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function dr(t){let e,l,n,i={ctx:t,current:null,token:null,hasCatch:!1,pending:br,then:mr,catch:hr,value:12,blocks:[,,,]};return xl(l=t[0],i),{c(){e=he(),i.block.c()},m(s,o){g(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(s,o){t=s,i.ctx=t,o&1&&l!==(l=t[0])&&xl(l,i)||ws(i,t,o)},i(s){n||(N(i.block),n=!0)},o(s){for(let o=0;o<3;o+=1){const r=i.blocks[o];E(r)}n=!1},d(s){s&&b(e),i.block.d(s),i.token=null,i=null}}}function hr(t){return{c:I,m:I,p:I,i:I,o:I,d:I}}function mr(t){var r;let e,l,n;const i=[t[2],t[3]];var s=((r=t[12])==null?void 0:r.default)||t[12];function o(a,u){let _={};for(let d=0;d<i.length;d+=1)_=Kt(_,i[d]);return u!==void 0&&u&12&&(_=Kt(_,hl(i,[u&4&&al(a[2]),u&8&&al(a[3])]))),{props:_}}return s&&(e=Pl(s,o(t))),{c(){e&&J(e.$$.fragment),l=he()},m(a,u){e&&q(e,a,u),g(a,l,u),n=!0},p(a,u){var _;if(u&1&&s!==(s=((_=a[12])==null?void 0:_.default)||a[12])){if(e){st();const d=e;E(d.$$.fragment,1,0,()=>{Y(d,1)}),rt()}s?(e=Pl(s,o(a,u)),J(e.$$.fragment),N(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else if(s){const d=u&12?hl(i,[u&4&&al(a[2]),u&8&&al(a[3])]):{};e.$set(d)}},i(a){n||(e&&N(e.$$.fragment,a),n=!0)},o(a){e&&E(e.$$.fragment,a),n=!1},d(a){a&&b(l),e&&Y(e,a)}}}function br(t){return{c:I,m:I,p:I,i:I,o:I,d:I}}function gr(t){let e,l,n=t[1]&&t[1].route===t[5]&&Un(t);return{c(){n&&n.c(),e=he()},m(i,s){n&&n.m(i,s),g(i,e,s),l=!0},p(i,[s]){i[1]&&i[1].route===i[5]?n?(n.p(i,s),s&2&&N(n,1)):(n=Un(i),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(st(),E(n,1,1,()=>{n=null}),rt())},i(i){l||(N(n),l=!0)},o(i){E(n),l=!1},d(i){i&&b(e),n&&n.d(i)}}}function vr(t,e,l){let n,{$$slots:i={},$$scope:s}=e,{path:o=""}=e,{component:r=null}=e,a={},u={};const{registerRoute:_,unregisterRoute:d,activeRoute:m}=Cl(en);Gt(t,m,$=>l(1,n=$));const f={path:o,default:o===""};return _(f),zs(()=>{d(f)}),t.$$set=$=>{l(11,e=Kt(Kt({},e),hn($))),"path"in $&&l(6,o=$.path),"component"in $&&l(0,r=$.component),"$$scope"in $&&l(7,s=$.$$scope)},t.$$.update=()=>{if(n&&n.route===f){l(2,a=n.params);const{component:$,path:S,...w}=e;l(3,u=w),$&&($.toString().startsWith("class ")?l(0,r=$):l(0,r=$())),Ms()&&!n.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=hn(e),[r,n,a,u,m,f,o,s,i]}class dt extends Le{constructor(e){super(),Ae(this,e,vr,gr,Se,{path:6,component:0})}}const wl=[];function kr(t,e){return{subscribe:Et(t,e).subscribe}}function Et(t,e=I){let l;const n=new Set;function i(r){if(Se(t,r)&&(t=r,l)){const a=!wl.length;for(const u of n)u[1](),wl.push(u,t);if(a){for(let u=0;u<wl.length;u+=2)wl[u][0](wl[u+1]);wl.length=0}}}function s(r){i(r(t))}function o(r,a=I){const u=[r,a];return n.add(u),n.size===1&&(l=e(i,s)||I),r(t),()=>{n.delete(u),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function $r(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return kr(l,(o,r)=>{let a=!1;const u=[];let _=0,d=I;const m=()=>{if(_)return;d();const $=e(n?u[0]:u,o,r);s?o($):d=ml($)?$:I},f=i.map(($,S)=>Ft($,w=>{u[S]=w,_&=~(1<<S),a&&m()},()=>{_|=1<<S}));return a=!0,m(),function(){Oe(f),d(),a=!1}})}const _n=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),wr=t=>{const e=[];let l=_n(t);return{get location(){return l},listen(n){e.push(n);const i=()=>{l=_n(t),n({location:l,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const s=e.indexOf(n);e.splice(s,1)}},navigate(n,{state:i,replace:s=!1,preserveScroll:o=!1,blurActiveElement:r=!0}={}){i={...i,key:Date.now()+""};try{s?t.history.replaceState(i,"",n):t.history.pushState(i,"",n)}catch{t.location[s?"replace":"assign"](n)}l=_n(t),e.forEach(a=>a({location:l,action:"PUSH",preserveScroll:o})),r&&document.activeElement.blur()}}},Sr=(t="/")=>{let e=0;const l=[{pathname:t,search:""}],n=[];return{get location(){return l[e]},addEventListener(i,s){},removeEventListener(i,s){},history:{get entries(){return l},get index(){return e},get state(){return n[e]},pushState(i,s,o){const[r,a=""]=o.split("?");e++,l.push({pathname:r,search:a}),n.push(i)},replaceState(i,s,o){const[r,a=""]=o.split("?");l[e]={pathname:r,search:a},n[e]=i}}}},Ps=wr(Ms()?window:Sr()),{navigate:Nl}=Ps,yr=t=>({route:t&4,location:t&2}),zn=t=>({route:t[2]&&t[2].uri,location:t[1]}),Cr=t=>({route:t&4,location:t&2}),qn=t=>({route:t[2]&&t[2].uri,location:t[1]});function Mr(t){let e;const l=t[15].default,n=bl(l,t,t[14],zn);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&16390)&&vl(n,l,i,i[14],e?gl(l,i[14],s,yr):kl(i[14]),zn)},i(i){e||(N(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Pr(t){let e=t[1].pathname,l,n,i=Yn(t);return{c(){i.c(),l=he()},m(s,o){i.m(s,o),g(s,l,o),n=!0},p(s,o){o&2&&Se(e,e=s[1].pathname)?(st(),E(i,1,1,I),rt(),i=Yn(s),i.c(),N(i,1),i.m(l.parentNode,l)):i.p(s,o)},i(s){n||(N(i),n=!0)},o(s){E(i),n=!1},d(s){s&&b(l),i.d(s)}}}function Yn(t){let e,l,n,i;const s=t[15].default,o=bl(s,t,t[14],qn);return{c(){e=h("div"),o&&o.c()},m(r,a){g(r,e,a),o&&o.m(e,null),i=!0},p(r,a){o&&o.p&&(!i||a&16390)&&vl(o,s,r,r[14],i?gl(s,r[14],a,Cr):kl(r[14]),qn)},i(r){i||(N(o,r),r&&ll(()=>{i&&(n&&n.end(1),l=Qs(e,t[3],{}),l.start())}),i=!0)},o(r){E(o,r),l&&l.invalidate(),r&&(n=Xs(e,t[3],{})),i=!1},d(r){r&&b(e),o&&o.d(r),r&&n&&n.end()}}}function Ar(t){let e,l,n,i;const s=[Pr,Mr],o=[];function r(a,u){return a[0]?0:1}return e=r(t),l=o[e]=s[e](t),{c(){l.c(),n=he()},m(a,u){o[e].m(a,u),g(a,n,u),i=!0},p(a,[u]){let _=e;e=r(a),e===_?o[e].p(a,u):(st(),E(o[_],1,1,()=>{o[_]=null}),rt(),l=o[e],l?l.p(a,u):(l=o[e]=s[e](a),l.c()),N(l,1),l.m(n.parentNode,n))},i(a){i||(N(l),i=!0)},o(a){E(l),i=!1},d(a){a&&b(n),o[e].d(a)}}}function Lr(t,e,l){let n,i,s,o,{$$slots:r={},$$scope:a}=e,{basepath:u="/"}=e,{url:_=null}=e,{viewtransition:d=null}=e,{history:m=Ps}=e;const f=(R,W,M)=>{const G=d(M);return typeof(G==null?void 0:G.fn)=="function"?G.fn(R,G):G};an(Ss,m);const $=Cl(gn),S=Cl(en),w=Et([]);Gt(t,w,R=>l(12,i=R));const C=Et(null);Gt(t,C,R=>l(2,o=R));let v=!1;const y=$||Et(_?{pathname:_}:m.location);Gt(t,y,R=>l(1,n=R));const L=S?S.routerBase:Et({path:u,uri:u});Gt(t,L,R=>l(13,s=R));const j=$r([L,C],([R,W])=>{if(!W)return R;const{path:M}=R,{route:G,uri:K}=W;return{path:G.default?M:G.path.replace(/\*.*$/,""),uri:K}}),D=R=>{const{path:W}=s;let{path:M}=R;if(R._path=M,R.path=Dn(W,M),typeof window>"u"){if(v)return;const G=Fn([R],n.pathname);G&&(C.set(G),v=!0)}else w.update(G=>[...G,R])},H=R=>{w.update(W=>W.filter(M=>M!==R))};let O=!1;return $||(Qt(()=>m.listen(W=>{l(11,O=W.preserveScroll||!1),y.set(W.location)})),an(gn,y)),an(en,{activeRoute:C,base:L,routerBase:j,registerRoute:D,unregisterRoute:H}),t.$$set=R=>{"basepath"in R&&l(8,u=R.basepath),"url"in R&&l(9,_=R.url),"viewtransition"in R&&l(0,d=R.viewtransition),"history"in R&&l(10,m=R.history),"$$scope"in R&&l(14,a=R.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:R}=s;w.update(W=>W.map(M=>Object.assign(M,{path:Dn(R,M._path)})))}if(t.$$.dirty&6146){const R=Fn(i,n.pathname);C.set(R&&{...R,preserveScroll:O})}},[d,n,o,f,w,C,y,L,u,_,m,O,i,s,a,r]}class El extends Le{constructor(e){super(),Ae(this,e,Lr,Ar,Se,{basepath:8,url:9,viewtransition:0,history:10})}}const _l=t=>{const e=l=>{const n=l.currentTarget;(n.target===""||n.target==="_self")&&ar(n)&&Cs(l)&&(l.preventDefault(),Nl(n.pathname+n.search,{replace:n.hasAttribute("replace"),preserveScroll:n.hasAttribute("preserveScroll")}))};return t.addEventListener("click",e),{destroy(){t.removeEventListener("click",e)}}},pl=Et(!1),dl=Et(null),ol=Et([]),As=Et(null);function cl(){var l,n;const t=Lt(ol).length,e=Lt(ol)[t-1];return(l=e==null?void 0:e.callbacks)!=null&&l.onBeforeClose&&((n=e==null?void 0:e.callbacks)==null?void 0:n.onBeforeClose())===!1?!1:(ol.set([]),!0)}function Gr(t=1){var n,i;const e=Lt(ol).length,l=Lt(ol)[e-1];return Lt(dl)||(n=l==null?void 0:l.callbacks)!=null&&n.onBeforeClose&&((i=l==null?void 0:l.callbacks)==null?void 0:i.onBeforeClose())===!1?!1:(Lt(pl)&&e>0&&dl.set(!0),pl.set(!1),As.set("pop"),Rr(t),!0)}function Ls(){return Gr(1)}function Tr(t,e,l){Lt(dl)||(As.set("push"),Lt(pl)&&Lt(ol).length&&dl.set(!0),pl.set(!1),ol.update(n=>[...n,{component:t,props:e}]))}function Rr(t=1){ol.update(e=>e.slice(0,Math.max(0,e.length-t)))}function Jn(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}const jr=t=>({}),Kn=t=>({}),Nr=t=>({}),Vn=t=>({});function Qn(t){let e;const l=t[4].backdrop,n=bl(l,t,t[3],Vn);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&vl(n,l,i,i[3],e?gl(l,i[3],s,Nr):kl(i[3]),Vn)},i(i){e||(N(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Or(t){let e,l,n;const i=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var s=t[9].component;function o(r,a){let u={};for(let _=0;_<i.length;_+=1)u=Kt(u,i[_]);return a!==void 0&&a&3&&(u=Kt(u,hl(i,[{isOpen:r[11]===r[0].length-1&&!r[1]},a&1&&al(r[9].props)]))),{props:u}}return s&&(e=Pl(s,o(t)),e.$on("introstart",t[7]),e.$on("outroend",t[8])),{c(){e&&J(e.$$.fragment),l=he()},m(r,a){e&&q(e,r,a),g(r,l,a),n=!0},p(r,a){if(a&1&&s!==(s=r[9].component)){if(e){st();const u=e;E(u.$$.fragment,1,0,()=>{Y(u,1)}),rt()}s?(e=Pl(s,o(r,a)),e.$on("introstart",r[7]),e.$on("outroend",r[8]),J(e.$$.fragment),N(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else if(s){const u=a&3?hl(i,[{isOpen:r[11]===r[0].length-1&&!r[1]},a&1&&al(r[9].props)]):{};e.$set(u)}},i(r){n||(e&&N(e.$$.fragment,r),n=!0)},o(r){e&&E(e.$$.fragment,r),n=!1},d(r){r&&b(l),e&&Y(e,r)}}}function Er(t){let e,l,n,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Fr,then:Hr,catch:Ir,value:12,blocks:[,,,]};return xl(l=Zn(t[9].component),i),{c(){e=he(),i.block.c()},m(s,o){g(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(s,o){t=s,i.ctx=t,o&1&&l!==(l=Zn(t[9].component))&&xl(l,i)||ws(i,t,o)},i(s){n||(N(i.block),n=!0)},o(s){for(let o=0;o<3;o+=1){const r=i.blocks[o];E(r)}n=!1},d(s){s&&b(e),i.block.d(s),i.token=null,i=null}}}function Ir(t){return{c:I,m:I,p:I,i:I,o:I,d:I}}function Hr(t){let e,l,n;const i=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var s=t[12];function o(r,a){let u={};for(let _=0;_<i.length;_+=1)u=Kt(u,i[_]);return a!==void 0&&a&3&&(u=Kt(u,hl(i,[{isOpen:r[11]===r[0].length-1&&!r[1]},a&1&&al(r[9].props)]))),{props:u}}return s&&(e=Pl(s,o(t)),e.$on("introstart",t[5]),e.$on("outroend",t[6])),{c(){e&&J(e.$$.fragment),l=k()},m(r,a){e&&q(e,r,a),g(r,l,a),n=!0},p(r,a){if(a&1&&s!==(s=r[12])){if(e){st();const u=e;E(u.$$.fragment,1,0,()=>{Y(u,1)}),rt()}s?(e=Pl(s,o(r,a)),e.$on("introstart",r[5]),e.$on("outroend",r[6]),J(e.$$.fragment),N(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else if(s){const u=a&3?hl(i,[{isOpen:r[11]===r[0].length-1&&!r[1]},a&1&&al(r[9].props)]):{};e.$set(u)}},i(r){n||(e&&N(e.$$.fragment,r),n=!0)},o(r){e&&E(e.$$.fragment,r),n=!1},d(r){r&&b(l),e&&Y(e,r)}}}function Fr(t){let e,l;const n=t[4].loading,i=bl(n,t,t[3],Kn);return{c(){i&&i.c(),e=k()},m(s,o){i&&i.m(s,o),g(s,e,o),l=!0},p(s,o){i&&i.p&&(!l||o&8)&&vl(i,n,s,s[3],l?gl(n,s[3],o,jr):kl(s[3]),Kn)},i(s){l||(N(i,s),l=!0)},o(s){E(i,s),l=!1},d(s){s&&b(e),i&&i.d(s)}}}function Xn(t,e){let l,n,i,s,o,r;const a=[Er,Or],u=[];function _(d,m){return m&1&&(n=null),n==null&&(n=!!Br(d[9].component)),n?0:1}return i=_(e,-1),s=u[i]=a[i](e),{key:t,first:null,c(){l=he(),s.c(),o=he(),this.first=l},m(d,m){g(d,l,m),u[i].m(d,m),g(d,o,m),r=!0},p(d,m){e=d;let f=i;i=_(e,m),i===f?u[i].p(e,m):(st(),E(u[f],1,1,()=>{u[f]=null}),rt(),s=u[i],s?s.p(e,m):(s=u[i]=a[i](e),s.c()),N(s,1),s.m(o.parentNode,o))},i(d){r||(N(s),r=!0)},o(d){E(s),r=!1},d(d){d&&(b(l),b(o)),u[i].d(d)}}}function Dr(t){let e=[],l=new Map,n,i,s=le(t[0]);const o=r=>r[11];for(let r=0;r<s.length;r+=1){let a=Jn(t,s,r),u=o(a);l.set(u,e[r]=Xn(u,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=he()},m(r,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,a);g(r,n,a),i=!0},p(r,a){a&15&&(s=le(r[0]),st(),e=nn(e,a,o,1,r,s,l,n.parentNode,ln,Xn,n,Jn),rt())},i(r){if(!i){for(let a=0;a<s.length;a+=1)N(e[a]);i=!0}},o(r){for(let a=0;a<e.length;a+=1)E(e[a]);i=!1},d(r){r&&b(n);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function Wr(t){let e,l,n=t[0].length>0&&Qn(t);const i=t[4].default,s=bl(i,t,t[3],null),o=s||Dr(t);return{c(){n&&n.c(),e=k(),o&&o.c()},m(r,a){n&&n.m(r,a),g(r,e,a),o&&o.m(r,a),l=!0},p(r,[a]){r[0].length>0?n?(n.p(r,a),a&1&&N(n,1)):(n=Qn(r),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(st(),E(n,1,1,()=>{n=null}),rt()),s?s.p&&(!l||a&8)&&vl(s,i,r,r[3],l?gl(i,r[3],a,null):kl(r[3]),null):o&&o.p&&(!l||a&15)&&o.p(r,l?a:-1)},i(r){l||(N(n),N(o,r),l=!0)},o(r){E(n),E(o,r),l=!1},d(r){r&&b(e),n&&n.d(r),o&&o.d(r)}}}function Br(t){return typeof t.prototype>"u"}async function Zn(t){return t().then(e=>e.default)}function Ur(t,e,l){let n,i,s;Gt(t,ol,m=>l(0,n=m)),Gt(t,dl,m=>l(1,i=m)),Gt(t,pl,m=>l(2,s=m));let{$$slots:o={},$$scope:r}=e;const a=()=>{qe(pl,s=!0,s)},u=()=>{qe(dl,i=!1,i)},_=()=>{qe(pl,s=!0,s)},d=()=>{qe(dl,i=!1,i)};return t.$$set=m=>{"$$scope"in m&&l(3,r=m.$$scope)},[n,i,s,r,o,a,u,_,d]}class zr extends Le{constructor(e){super(),Ae(this,e,Ur,Wr,Se,{})}}const qr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sn(t){return typeof t=="string"&&qr.test(t)}const rn="00000000-0000-0000-0000-000000000000";function Wl(t,e,l){return isNaN(t)?1:Math.max(e,Math.min(l,t),0)}function Bl(t){let e=t[Object.keys(t).at(0)??""].length,l=Array.from({length:e},(n,i)=>Object.fromEntries(Object.keys(t).map(s=>[s,t[s].slice(0,i+1).reduce((o,r)=>o+r,0)])));return console.log(l),l}var it=(t=>(t.Manual="Manual",t.Roll="Roll",t))(it||{}),B=(t=>(t.Candor="Candor",t.Conscious="Conscious",t.Cunning="Cunning",t.Might="Might",t.Artifice="Artifice",t.Tuning="Tuning",t))(B||{});const Yr=["Candor","Conscious","Cunning","Might","Artifice","Tuning"],vn=["Candor","Conscious","Cunning"],xn=["Might","Artifice","Tuning"];function Jr(t){return Yr.includes(t)}function Kr(t){return vn.includes(t)}class Al{constructor(e=""){be(this,"_id","");be(this,"name","");be(this,"description","");be(this,"experience",0);be(this,"level",1);be(this,"levelTrackerPerks",{StatPoints:[5,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1],SocialSkillPoints:[5,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0],ExplorationSkillPoints:[7,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0],SocialFeatPoints:[2,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0],TraitFeatPoints:[5,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1],ClassFeatPoints:[3,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1],PrestigeFeatPoints:[0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,1,0,1]});be(this,"allLevelPerks",Bl(this.levelTrackerPerks));be(this,"warriorLevel",0);be(this,"warriorTrackerPerks",{GeneralWealth:[0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0],FortitudeSave:[0,0,1,0,1,0,1,0,1,0,0,1,0,0,1,0],WarriorSkill:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],ShieldMax:[0,1,0,1,0,1,0,0,0,1,0,0,0,1,0,1],CloseDamage:[2,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0],WarriorPoints:[0,1,0,0,1,0,1,0,0,0,1,0,0,0,1,0]});be(this,"allWarriorPerks",Bl(this.warriorTrackerPerks));be(this,"specialistLevel",0);be(this,"specialistTrackerPerks",{GreyWealth:[0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0],InitiativeSave:[0,0,1,0,1,0,1,0,1,0,0,1,0,0,1,0],SpecialistSkill:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],BaseDefense:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],RangedDamage:[2,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0],SpecialistPoints:[0,1,0,0,1,1,1,0,0,0,1,1,1,1,1,0]});be(this,"allSpecialistPerks",Bl(this.specialistTrackerPerks));be(this,"casterLevel",0);be(this,"casterTrackerPerks",{ObscureWealth:[0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0],WillpowerSave:[0,0,1,0,1,0,1,0,1,0,0,1,0,0,1,0],CasterSkill:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],RitualPoints:[0,0,0,0,0,1,0,0,0,0,1,0,1,0,1,0],SpellPoints:[0,2,1,1,2,1,1,2,0,1,2,1,1,2,1,2]});be(this,"allCasterPerks",Bl(this.casterTrackerPerks));be(this,"constitutionFeat");be(this,"traitFeats",[]);be(this,"socialFeats",[]);be(this,"socialStatGenMethod","Manual");be(this,"explorationStatGenMethod","Manual");be(this,"statGen_Roll",{});be(this,"statGen_Manual",{});be(this,"socialSkills",{Persuasion:{stat:"Candor",points:0,inspiration:!0},Insight:{stat:"Conscious",points:0,inspiration:!1},Deception:{stat:"Cunning",points:0,inspiration:!1},Captivation:{stat:"Candor",points:0,inspiration:!1},Awareness:{stat:"Conscious",points:0,inspiration:!1},Portrayal:{stat:"Cunning",points:0,inspiration:!1},Poignancy:{stat:"Candor",points:0,inspiration:!1},Composure:{stat:"Conscious",points:0,inspiration:!1},Pressure:{stat:"Cunning",points:0,inspiration:!1}});be(this,"explorationSkills",{Scouting:{stat:"Might",points:0,inspiration:!1},Analysis:{stat:"Artifice",points:0,inspiration:!1},Sensing:{stat:"Tuning",points:0,inspiration:!1},Sneaking:{stat:"Might",points:0,inspiration:!1},Finesse:{stat:"Artifice",points:0,inspiration:!1},Hiding:{stat:"Tuning",points:0,inspiration:!1},Athletics:{stat:"Might",points:0,inspiration:!1},History:{stat:"Artifice",points:0,inspiration:!1},Discord:{stat:"Tuning",points:0,inspiration:!1},Security:{stat:"Might",points:0,inspiration:!1},Rumor:{stat:"Artifice",points:0,inspiration:!1},Harmony:{stat:"Tuning",points:0,inspiration:!1},Wayfaring:{stat:"Might",points:0,inspiration:!1},Tinkering:{stat:"Artifice",points:0,inspiration:!1},Rituals:{stat:"Tuning",points:0,inspiration:!1}});this.id=e,this.name=""}lookup(e){return this[e]}get id(){return this._id}set id(e){if(!sn(e)){this._id=rn;return}this._id=e}get levelPerks(){return this.allLevelPerks[Wl(this.level-1,0,19)]}get StatPoints(){return this.levelPerks.StatPoints}get SocialSkillPoints(){return this.levelPerks.SocialSkillPoints}get ExplorationSkillPoints(){return this.levelPerks.ExplorationSkillPoints}get SocialFeatPoints(){return this.levelPerks.SocialFeatPoints}get TraitFeatPoints(){return this.levelPerks.TraitFeatPoints}get ClassFeatPoints(){return this.levelPerks.ClassFeatPoints}get PrestigeFeatPoints(){return this.levelPerks.PrestigeFeatPoints}get warriorPerks(){return this.allWarriorPerks[Wl(this.warriorLevel,0,15)]}get GeneralWealth(){return this.warriorPerks.GeneralWealth}get FortitudeSave(){return this.warriorPerks.FortitudeSave}get StartingWarriorSkill(){return this.Might}get WarriorSkill(){return this.StartingWarriorSkill+this.warriorPerks.WarriorSkill}get ShieldMax(){return this.warriorPerks.ShieldMax}get StartingCloseDamage(){return 0}get CloseDamage(){return this.StartingCloseDamage+this.warriorPerks.CloseDamage}get WarriorPoints(){return this.warriorPerks.WarriorPoints}get specialistPerks(){return this.allSpecialistPerks[Wl(this.specialistLevel,0,15)]}get GreyWealth(){return this.specialistPerks.GreyWealth}get InitiativeSave(){return this.specialistPerks.InitiativeSave}get StartingSpecialistSkill(){return this.Artifice}get SpecialistSkill(){return this.StartingSpecialistSkill+this.specialistPerks.SpecialistSkill}get BaseDefense(){return this.specialistPerks.BaseDefense}get RangedDamage(){return this.specialistPerks.RangedDamage}get SpecialistPoints(){return this.specialistPerks.SpecialistPoints}get casterPerks(){return this.allCasterPerks[Wl(this.casterLevel,0,15)]}get ObscureWealth(){return this.casterPerks.ObscureWealth}get WillpowerSave(){return this.casterPerks.WillpowerSave}get StartingCasterSkill(){return this.Tuning}get CasterSkill(){return this.StartingCasterSkill+this.casterPerks.CasterSkill}get StartingRitualPoints(){return Math.max(this.GetExplorationSkill("Rituals"),0)}get RitualPoints(){return this.StartingRitualPoints+this.casterPerks.RitualPoints}get SpellPoints(){return this.casterPerks.SpellPoints}_getBaseStat(e){let l=Kr(e)?this.socialStatGenMethod:this.explorationStatGenMethod;return l=="Manual"?this.statGen_Manual[e]??-2:l=="Roll"?this.statGen_Roll[e]??-2:-2}GetStat(e){return this._getBaseStat(e)}GetStatString(e){let l=this.GetStat(e);return l<-1?"--":(l<0?"":"+")+l}get Candor(){return this.GetStat("Candor")}get Conscious(){return this.GetStat("Conscious")}get Cunning(){return this.GetStat("Cunning")}get Might(){return this.GetStat("Might")}get Artifice(){return this.GetStat("Artifice")}get Tuning(){return this.GetStat("Tuning")}_getSkill(e,l){var n=l[e];if(!n)return-2;var i=n.overrideStat?n.overrideStat:n.stat,s=Jr(i)?this.GetStat(i):-2;return s+(n.points??0)+(n.inspiration?1:0)}GetSocialSkill(e){return this._getSkill(e,this.socialSkills)}GetExplorationSkill(e){return this._getSkill(e,this.explorationSkills)}static FromJson(e){return Object.assign(new Al,JSON.parse(e))}}class on{constructor(){be(this,"_id","");be(this,"name","");be(this,"class","");be(this,"lineage","")}get id(){return this._id}set id(e){if(!sn(e)){this._id=rn;return}this._id=e}static FromJson(e){return Object.assign(new on,JSON.parse(e))}}let Ul=class{constructor(){be(this,"name","");be(this,"email","")}};var Vr={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const il=Vr.HNS_API_URL,Jl=typeof window<"u";console.log("IsBrowser: "+Jl);const Qr=()=>{const t=Et(null),{subscribe:e,set:l,update:n}=t;return fetch(il+"Api/Account/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}).then(i=>{i.ok?i.json().then(s=>l(Object.assign(new Ul,s))):console.log(i.statusText)}),{subscribe:e,set:l,update:n,createAccount:async(i,s,o,r)=>{if(Lt(t)){r(["Already logged-in. Log out first."]);return}const a=await fetch(il+"Api/Account/Create",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:o})});switch(a.status){case 200:a.json().then(u=>l(Object.assign(new Ul,u)));break;case 400:a.json().then(u=>{let _=Object.values(u.errors).flatMap(d=>d);r(_)});break;case 422:a.json().then(u=>{let _=Object.values(u).flatMap(d=>d);r(_)});break;default:console.error(`Unrecognized response status ${a.status}: ${a.statusText}.`);break}},login:async(i,s,o)=>{if(Lt(t)){console.log("Tried to login while already logged in. Log out first.");return}const r=await fetch(il+"Api/Account/Login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:i,password:s})});switch(r.status){case 200:r.json().then(a=>l(Object.assign(new Ul,a)));break;case 400:r.json().then(a=>{let u=Object.values(a.errors).flatMap(_=>_);o(u)});break;case 401:r.json().then(a=>{let u=Object.values(a).flatMap(_=>_.errors.map(d=>d.errorMessage));o(u)});break;default:console.error("Unrecognized response status '"+r.status+": "+r.statusText+"'");break}},logout:async()=>{await fetch(il+"Api/Account/Logout",{method:"POST",credentials:"include"}).then(i=>{Ht.set(null),location.reload()},i=>console.log(i))},updateAccount:async(i,s,o,r,a,u)=>{const _=await fetch(il+"Api/Account",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:o,currentPassword:r})});switch(_.status){case 200:_.json().then(d=>l(Object.assign(new Ul,d))),a();break;case 400:_.json().then(d=>{let m=Object.values(d.errors).flatMap(f=>f);u(m)});break;case 401:_.json().then(d=>{let m=Object.values(d).flatMap(f=>f.errors.map($=>$.errorMessage));u(m)});break;case 422:_.json().then(d=>{let m=Object.values(d).flatMap(f=>f);u(m)});break;default:console.error("Unrecognized response status '"+_.status+": "+_.statusText+"'");break}}}},Ht=Qr(),ei=async()=>fetch(il+"Api/Characters/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function ti(t,e){const l=t={};return n=>{t===l&&(n.ok?n.json().then(i=>{let s=i.map(o=>Object.assign(new on,o));e(s)}):(e([]),console.log(n.statusText)))}}const Xr=async()=>fetch(il+"Api/Characters/",{method:"POST",credentials:"include",headers:{Accept:"application/json"}});function Zr(t,e,l){const n=t={};return i=>{i.ok?i.json().then(s=>{if(t===n){let o=s.map(r=>Object.assign(new on,r));e(r=>(r.push(o),r)),l(o.id)}}):console.log(i.statusText)}}function xr(){var t=[];const{subscribe:e,set:l,update:n}=Et(t);let i={};return Promise.resolve(ei()).then(ti(i,l)),{subscribe:e,refresh:()=>{Promise.resolve(ei()).then(ti(i,l))},create:s=>{Promise.resolve(Xr()).then(Zr(i,n,s))}}}const kn=xr(),eo=async t=>fetch(il+"Api/Characters/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function pn(t,e){const l=t={};return n=>{t===l&&(n.ok?n.json().then(i=>{e(Object.assign(new Al,i))}):console.log(n.statusText))}}const li=async t=>fetch(il+"Api/Characters/"+t.id,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}),zl="HnsCharacter/local";function to(){const t=Et(new Al),{subscribe:e,set:l,update:n}=t;let i=l,s=n;if(Jl){const o=localStorage.getItem(zl);o!==null?(console.log("Loading char "+o),l(Al.FromJson(o))):(console.log("New char"),localStorage.setItem(zl,JSON.stringify(Lt(t)))),i=r=>{console.log("Set char"),Jl&&localStorage.setItem(zl,JSON.stringify(r)),l(r)},s=r=>{console.log("Update char");const a=r(Lt(t));Jl&&localStorage.setItem(zl,JSON.stringify(a)),l(a)}}return{subscribe:e,set:i,update:s}}const Gs=to(),dn={};function Ts(t){if(Object.hasOwn(dn,t))return dn[t];let e={};const l=Et(new Al(t)),{subscribe:n,set:i,update:s}=l;if(!sn(t))return console.error("Invalid id '"+t+"'"),{subscribe:n,set:i,update:s};Promise.resolve(eo(t)).then(pn(e,i));const o={subscribe:n,set:r=>{if(console.log("Set char"),t!=r.id){console.error("Id did not match");return}Promise.resolve(li(r)).then(pn(e,i))},update:r=>{console.log("Update char");const a=r(Lt(l));Promise.resolve(li(a)).then(pn(e,i))}};return dn[t]=o,o}function ni(t,e,l){const n=t.slice();return n[11]=e[l],n}function lo(t){let e,l,n,i=t[4].name+"",s,o,r;function a(d,m){return d[3]?so:io}let u=a(t),_=u(t);return{c(){e=h("div"),l=h("p"),n=T("Hello "),s=T(i),o=T("!"),r=k(),_.c(),p(l,"class","svelte-9xzto8"),p(e,"class","logout-box svelte-9xzto8")},m(d,m){g(d,e,m),c(e,l),c(l,n),c(l,s),c(l,o),c(e,r),_.m(e,null)},p(d,m){m&16&&i!==(i=d[4].name+"")&&z(s,i),u===(u=a(d))&&_?_.p(d,m):(_.d(1),_=u(d),_&&(_.c(),_.m(e,null)))},d(d){d&&b(e),_.d()}}}function no(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S,w,C,v,y=le(t[2]),L=[];for(let j=0;j<y.length;j+=1)L[j]=ii(ni(t,y,j));return{c(){e=h("form"),l=h("div"),n=h("label"),n.textContent="Name",i=k(),s=h("input"),o=k(),r=h("div"),a=h("label"),a.textContent="Password",u=k(),_=h("input"),d=k(),m=h("div"),f=h("button"),f.textContent="Sign-Up…",$=k(),S=h("button"),S.textContent="Login",w=k();for(let j=0;j<L.length;j+=1)L[j].c();p(n,"for","nameOrEmail"),p(n,"class","svelte-9xzto8"),p(s,"name","nameOrEmail"),p(s,"type","text"),p(s,"placeholder","or Email"),p(s,"class","svelte-9xzto8"),p(l,"class","svelte-9xzto8"),p(a,"for","password"),p(a,"class","svelte-9xzto8"),p(_,"name","password"),p(_,"type","password"),p(_,"class","svelte-9xzto8"),p(r,"class","svelte-9xzto8"),p(f,"type","button"),p(S,"class","bright"),p(S,"type","submit"),p(m,"class","svelte-9xzto8"),p(e,"class","login-box svelte-9xzto8"),p(e,"method","post")},m(j,D){g(j,e,D),c(e,l),c(l,n),c(l,i),c(l,s),oe(s,t[0]),c(e,o),c(e,r),c(r,a),c(r,u),c(r,_),oe(_,t[1]),c(e,d),c(e,m),c(m,f),c(m,$),c(m,S),c(e,w);for(let H=0;H<L.length;H+=1)L[H]&&L[H].m(e,null);C||(v=[V(s,"input",t[8]),V(_,"input",t[9]),V(f,"click",tl(t[10])),V(e,"submit",tl(t[6]))],C=!0)},p(j,D){if(D&1&&s.value!==j[0]&&oe(s,j[0]),D&2&&_.value!==j[1]&&oe(_,j[1]),D&4){y=le(j[2]);let H;for(H=0;H<y.length;H+=1){const O=ni(j,y,H);L[H]?L[H].p(O,D):(L[H]=ii(O),L[H].c(),L[H].m(e,null))}for(;H<L.length;H+=1)L[H].d(1);L.length=y.length}},d(j){j&&b(e),We(L,j),C=!1,Oe(v)}}}function io(t){let e,l,n;return{c(){e=h("button"),e.textContent="Logout",p(e,"class","logout-button")},m(i,s){g(i,e,s),l||(n=V(e,"click",t[5]),l=!0)},p:I,d(i){i&&b(e),l=!1,n()}}}function so(t){let e,l,n,i,s,o,r;return{c(){e=h("div"),l=T(`Logout?
        `),n=h("button"),n.textContent="No",i=k(),s=h("button"),s.textContent="Yes",p(n,"class","logout-confirm-button svelte-9xzto8"),p(s,"class","bright-red logout-confirm-button svelte-9xzto8"),p(e,"class","logout-confirmation svelte-9xzto8")},m(a,u){g(a,e,u),c(e,l),c(e,n),c(e,i),c(e,s),o||(r=[V(n,"click",t[5]),V(s,"click",t[7])],o=!0)},p:I,d(a){a&&b(e),o=!1,Oe(r)}}}function ii(t){let e,l=t[11]+"",n;return{c(){e=h("label"),n=T(l),Q(e,"text-align","left"),p(e,"for","errors"),p(e,"class","svelte-9xzto8")},m(i,s){g(i,e,s),c(e,n)},p(i,s){s&4&&l!==(l=i[11]+"")&&z(n,l)},d(i){i&&b(e)}}}function ro(t){let e;function l(s,o){return s[4]?lo:no}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:I,o:I,d(s){s&&b(e),i.d(s)}}}function oo(t,e,l){let n;Gt(t,Ht,$=>l(4,n=$));let i="",s="",o=[],r=!1;function a(){l(3,r=!r)}async function u(){l(2,o=[]),await Ht.login(i,s,$=>{l(2,o=$)})}async function _(){await Ht.logout()}function d(){i=this.value,l(0,i)}function m(){s=this.value,l(1,s)}return[i,s,o,r,n,a,u,_,d,m,()=>Nl("/account")]}class Rs extends Le{constructor(e){super(),Ae(this,e,oo,ro,Se,{})}}function si(t,e,l){const n=t.slice();return n[2]=e[l][0],n[3]=e[l][1],n}function ao(t){let e;return{c(){e=T("Rulebook")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function co(t){let e;return{c(){e=T("Dice Roller")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function uo(t){let e;return{c(){e=T("AGE Roller")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function fo(t){let e;return{c(){e=T("Eye Roller")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function _o(t){let e;return{c(){e=T("My Account")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function po(t){let e;return{c(){e=T("Characters")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function ho(t){let e=t[3].name+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p:I,d(n){n&&b(l)}}}function ri(t){let e,l;return e=new kt({props:{to:"/character/"+t[2],getProps:$n,$$slots:{default:[ho]},$$scope:{ctx:t}}}),e.$on("click",cl),{c(){J(e.$$.fragment)},m(n,i){q(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function mo(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S,w,C,v,y,L,j,D,H;r=new kt({props:{to:"/srd",getProps:ql,$$slots:{default:[ao]},$$scope:{ctx:t}}}),r.$on("click",cl),u=new kt({props:{to:"/dice",getProps:ql,$$slots:{default:[co]},$$scope:{ctx:t}}}),u.$on("click",cl),d=new kt({props:{to:"/dice/ageroller",getProps:$n,$$slots:{default:[uo]},$$scope:{ctx:t}}}),d.$on("click",cl),f=new kt({props:{to:"/dice/eyeroller",getProps:$n,$$slots:{default:[fo]},$$scope:{ctx:t}}}),f.$on("click",cl),C=new kt({props:{to:"/account",getProps:ql,$$slots:{default:[_o]},$$scope:{ctx:t}}}),C.$on("click",cl),y=new kt({props:{to:"/character",getProps:ql,$$slots:{default:[po]},$$scope:{ctx:t}}}),y.$on("click",cl);let O=le(Object.entries(t[0])),R=[];for(let M=0;M<O.length;M+=1)R[M]=ri(si(t,O,M));const W=M=>E(R[M],1,1,()=>{R[M]=null});return D=new Rs({}),{c(){e=h("div"),l=h("nav"),n=h("a"),n.innerHTML='<img src="/img/HnsBig.svg" alt="H&amp;S"/>',i=k(),s=h("h4"),s.textContent="Hammer & Steel",o=k(),J(r.$$.fragment),a=k(),J(u.$$.fragment),_=k(),J(d.$$.fragment),m=k(),J(f.$$.fragment),$=k(),S=h("span"),S.textContent="---",w=k(),J(C.$$.fragment),v=k(),J(y.$$.fragment),L=k();for(let M=0;M<R.length;M+=1)R[M].c();j=k(),J(D.$$.fragment),p(n,"href","/"),p(n,"id","home-button"),p(s,"class","title svelte-1ojkcqy"),Q(S,"text-align","center"),p(l,"class","banded-menu"),p(e,"class","contents svelte-1ojkcqy")},m(M,G){g(M,e,G),c(e,l),c(l,n),c(l,i),c(l,s),c(l,o),q(r,l,null),c(l,a),q(u,l,null),c(l,_),q(d,l,null),c(l,m),q(f,l,null),c(l,$),c(l,S),c(l,w),q(C,l,null),c(l,v),q(y,l,null),c(l,L);for(let K=0;K<R.length;K+=1)R[K]&&R[K].m(l,null);c(e,j),q(D,e,null),H=!0},p(M,[G]){const K={};G&64&&(K.$$scope={dirty:G,ctx:M}),r.$set(K);const de={};G&64&&(de.$$scope={dirty:G,ctx:M}),u.$set(de);const Z={};G&64&&(Z.$$scope={dirty:G,ctx:M}),d.$set(Z);const Re={};G&64&&(Re.$$scope={dirty:G,ctx:M}),f.$set(Re);const Ee={};G&64&&(Ee.$$scope={dirty:G,ctx:M}),C.$set(Ee);const _e={};if(G&64&&(_e.$$scope={dirty:G,ctx:M}),y.$set(_e),G&1){O=le(Object.entries(M[0]));let F;for(F=0;F<O.length;F+=1){const ee=si(M,O,F);R[F]?(R[F].p(ee,G),N(R[F],1)):(R[F]=ri(ee),R[F].c(),N(R[F],1),R[F].m(l,null))}for(st(),F=O.length;F<R.length;F+=1)W(F);rt()}},i(M){if(!H){N(r.$$.fragment,M),N(u.$$.fragment,M),N(d.$$.fragment,M),N(f.$$.fragment,M),N(C.$$.fragment,M),N(y.$$.fragment,M);for(let G=0;G<O.length;G+=1)N(R[G]);N(D.$$.fragment,M),H=!0}},o(M){E(r.$$.fragment,M),E(u.$$.fragment,M),E(d.$$.fragment,M),E(f.$$.fragment,M),E(C.$$.fragment,M),E(y.$$.fragment,M),R=R.filter(Boolean);for(let G=0;G<R.length;G+=1)E(R[G]);E(D.$$.fragment,M),H=!1},d(M){M&&b(e),Y(r),Y(u),Y(d),Y(f),Y(C),Y(y),We(R,M),Y(D)}}}function ql(t){return t.isPartiallyCurrent?{class:"curr-path"}:{class:""}}function $n(t){let{location:e,href:l,isPartiallyCurrent:n,isCurrent:i}=t;if(i)return{class:"ml20 active curr-path"};if(n)return{class:"ml20 active"};let s=e.pathname;if(console.log("pathname: "+s),s.length<=1||s[0]!=="/")return{class:"ml20 hidden"};const o=s.indexOf("/",1),r=o>0?s.slice(0,o):s;return console.log("rootpath: "+r),r.length<2?{class:"ml20 hidden"}:l.startsWith(r)?{class:"ml20 active"}:l.startsWith("/"+r)?{class:"ml20 active"}:{class:"ml20 hidden"}}function bo(t,e,l){let n;return Gt(t,kn,s=>l(1,n=s)),[n]}class go extends Le{constructor(e){super(),Ae(this,e,bo,mo,Se,{})}}function oi(t){let e,l,n,i,s,o;return l=new go({}),{c(){e=h("div"),J(l.$$.fragment),p(e,"role","dialog"),p(e,"class","modal svelte-1e2i3ow")},m(r,a){g(r,e,a),q(l,e,null),i=!0,s||(o=[V(e,"introstart",t[1]),V(e,"outroend",t[2])],s=!0)},i(r){i||(N(l.$$.fragment,r),r&&ll(()=>{i&&(n||(n=Zl(e,In,{duration:100,x:100},!0)),n.run(1))}),i=!0)},o(r){E(l.$$.fragment,r),r&&(n||(n=Zl(e,In,{duration:100,x:100},!1)),n.run(0)),i=!1},d(r){r&&b(e),Y(l),r&&n&&n.end(),s=!1,Oe(o)}}}function vo(t){let e,l,n=t[0]&&oi(t);return{c(){n&&n.c(),e=he()},m(i,s){n&&n.m(i,s),g(i,e,s),l=!0},p(i,[s]){i[0]?n?s&1&&N(n,1):(n=oi(i),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(st(),E(n,1,1,()=>{n=null}),rt())},i(i){l||(N(n),l=!0)},o(i){E(n),l=!1},d(i){i&&b(e),n&&n.d(i)}}}function ko(t,e,l){let{isOpen:n=!1}=e;function i(o){On.call(this,t,o)}function s(o){On.call(this,t,o)}return t.$$set=o=>{"isOpen"in o&&l(0,n=o.isOpen)},[n,i,s]}class $o extends Le{constructor(e){super(),Ae(this,e,ko,vo,Se,{isOpen:0})}}function ai(t,e,l){const n=t.slice();return n[28]=e[l],n}function ci(t,e,l){const n=t.slice();return n[28]=e[l],n}function wo(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S,w,C,v,y,L,j,D,H,O,R;function W(x,Pe){return x[0]?Co:yo}let M=W(t),G=M(t);function K(x,Pe){return x[1]?Po:Mo}let de=K(t),Z=de(t);function Re(x,Pe){return x[2]?Lo:Ao}let Ee=Re(t),_e=Ee(t),F=le(t[10]),ee=[];for(let x=0;x<F.length;x+=1)ee[x]=ui(ai(t,F,x));return{c(){e=h("h2"),e.textContent="Account Information",l=k(),n=h("form"),i=h("label"),i.textContent="Account Name",s=k(),G.c(),o=k(),r=h("label"),r.textContent="Email",a=k(),Z.c(),u=k(),_=h("label"),_.textContent="Password",d=k(),_e.c(),m=k(),f=h("div"),$=k(),S=h("label"),S.textContent="Current Password",w=k(),C=h("input"),y=k(),L=h("button"),j=T("Apply Changes"),H=k();for(let x=0;x<ee.length;x+=1)ee[x].c();p(i,"for","name"),p(i,"class","svelte-n3h8s1"),p(r,"for","email"),p(r,"class","svelte-n3h8s1"),p(_,"for","password"),p(_,"class","svelte-n3h8s1"),Q(f,"grid-column","span 3"),Q(f,"height","20px"),p(S,"for","currentPassword"),p(S,"class","svelte-n3h8s1"),p(C,"name","currentPassword"),p(C,"type","password"),C.disabled=v=!t[8],p(L,"class","grid-form-submit svelte-n3h8s1"),p(L,"type","submit"),L.disabled=D=!t[8],p(n,"class","grid-3-form svelte-n3h8s1"),p(n,"method","post")},m(x,Pe){g(x,e,Pe),g(x,l,Pe),g(x,n,Pe),c(n,i),c(n,s),G.m(n,null),c(n,o),c(n,r),c(n,a),Z.m(n,null),c(n,u),c(n,_),c(n,d),_e.m(n,null),c(n,m),c(n,f),c(n,$),c(n,S),c(n,w),c(n,C),oe(C,t[7]),c(n,y),c(n,L),c(L,j),c(n,H);for(let ne=0;ne<ee.length;ne+=1)ee[ne]&&ee[ne].m(n,null);O||(R=[V(C,"input",t[27]),V(n,"submit",tl(t[16]))],O=!0)},p(x,Pe){if(M===(M=W(x))&&G?G.p(x,Pe):(G.d(1),G=M(x),G&&(G.c(),G.m(n,o))),de===(de=K(x))&&Z?Z.p(x,Pe):(Z.d(1),Z=de(x),Z&&(Z.c(),Z.m(n,u))),Ee===(Ee=Re(x))&&_e?_e.p(x,Pe):(_e.d(1),_e=Ee(x),_e&&(_e.c(),_e.m(n,m))),Pe[0]&256&&v!==(v=!x[8])&&(C.disabled=v),Pe[0]&128&&C.value!==x[7]&&oe(C,x[7]),Pe[0]&256&&D!==(D=!x[8])&&(L.disabled=D),Pe[0]&1024){F=le(x[10]);let ne;for(ne=0;ne<F.length;ne+=1){const Ge=ai(x,F,ne);ee[ne]?ee[ne].p(Ge,Pe):(ee[ne]=ui(Ge),ee[ne].c(),ee[ne].m(n,null))}for(;ne<ee.length;ne+=1)ee[ne].d(1);ee.length=F.length}},d(x){x&&(b(e),b(l),b(n)),G.d(),Z.d(),_e.d(),We(ee,x),O=!1,Oe(R)}}}function So(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S,w,C,v,y,L,j,D,H,O,R=le(t[9]),W=[];for(let M=0;M<R.length;M+=1)W[M]=fi(ci(t,R,M));return{c(){e=h("h1"),e.textContent="Create An Account",l=k(),n=h("form"),i=h("label"),i.textContent="Account Name",s=k(),o=h("input"),r=k(),a=h("label"),a.textContent="Email",u=k(),_=h("input"),d=k(),m=h("label"),m.textContent="Password",f=k(),$=h("input"),S=k(),w=h("label"),w.textContent="Confirm Password",C=k(),v=h("input"),y=k(),L=h("a"),L.textContent="Login...",j=h("button"),j.textContent="Create Account",D=k();for(let M=0;M<W.length;M+=1)W[M].c();p(i,"for","name"),p(i,"class","svelte-n3h8s1"),p(o,"type","text"),p(a,"for","email"),p(a,"class","svelte-n3h8s1"),p(_,"type","text"),p(m,"for","password"),p(m,"class","svelte-n3h8s1"),p($,"type","text"),p(w,"for","password2"),p(w,"class","svelte-n3h8s1"),p(v,"type","text"),p(v,"class","svelte-n3h8s1"),ie(v,"red-outline",t[5]!==t[6]),p(L,"href","/login"),p(L,"class","button"),p(j,"class","bright"),p(j,"type","submit"),p(n,"class","grid-form svelte-n3h8s1"),p(n,"method","post")},m(M,G){g(M,e,G),g(M,l,G),g(M,n,G),c(n,i),c(n,s),c(n,o),oe(o,t[3]),c(n,r),c(n,a),c(n,u),c(n,_),oe(_,t[4]),c(n,d),c(n,m),c(n,f),c(n,$),oe($,t[5]),c(n,S),c(n,w),c(n,C),c(n,v),oe(v,t[6]),c(n,y),c(n,L),c(n,j),c(n,D);for(let K=0;K<W.length;K+=1)W[K]&&W[K].m(n,null);H||(O=[V(o,"input",t[17]),V(_,"input",t[18]),V($,"input",t[19]),V(v,"input",t[20]),ul(_l.call(null,L)),V(n,"submit",tl(t[15]))],H=!0)},p(M,G){if(G[0]&8&&o.value!==M[3]&&oe(o,M[3]),G[0]&16&&_.value!==M[4]&&oe(_,M[4]),G[0]&32&&$.value!==M[5]&&oe($,M[5]),G[0]&64&&v.value!==M[6]&&oe(v,M[6]),G[0]&96&&ie(v,"red-outline",M[5]!==M[6]),G[0]&512){R=le(M[9]);let K;for(K=0;K<R.length;K+=1){const de=ci(M,R,K);W[K]?W[K].p(de,G):(W[K]=fi(de),W[K].c(),W[K].m(n,null))}for(;K<W.length;K+=1)W[K].d(1);W.length=R.length}},d(M){M&&(b(e),b(l),b(n)),We(W,M),H=!1,Oe(O)}}}function yo(t){let e,l,n,i,s;return{c(){e=h("input"),l=k(),n=h("button"),n.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-n3h8s1"/>',p(e,"name","name"),p(e,"type","text"),e.disabled=!0,p(n,"class","svelte-n3h8s1")},m(o,r){g(o,e,r),oe(e,t[11].name),g(o,l,r),g(o,n,r),i||(s=[V(e,"input",t[22]),V(n,"click",tl(t[12]))],i=!0)},p(o,r){r[0]&2048&&e.value!==o[11].name&&oe(e,o[11].name)},d(o){o&&(b(e),b(l),b(n)),i=!1,Oe(s)}}}function Co(t){let e,l,n,i,s;return{c(){e=h("input"),l=k(),n=h("button"),n.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-n3h8s1"/>',p(e,"name","name"),p(e,"type","text"),p(n,"class","svelte-n3h8s1")},m(o,r){g(o,e,r),oe(e,t[3]),g(o,l,r),g(o,n,r),i||(s=[V(e,"input",t[21]),V(n,"click",tl(t[12]))],i=!0)},p(o,r){r[0]&8&&e.value!==o[3]&&oe(e,o[3])},d(o){o&&(b(e),b(l),b(n)),i=!1,Oe(s)}}}function Mo(t){let e,l,n,i,s;return{c(){e=h("input"),l=k(),n=h("button"),n.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-n3h8s1"/>',p(e,"name","email"),p(e,"type","text"),e.disabled=!0,p(n,"class","svelte-n3h8s1")},m(o,r){g(o,e,r),oe(e,t[11].email),g(o,l,r),g(o,n,r),i||(s=[V(e,"input",t[24]),V(n,"click",tl(t[13]))],i=!0)},p(o,r){r[0]&2048&&e.value!==o[11].email&&oe(e,o[11].email)},d(o){o&&(b(e),b(l),b(n)),i=!1,Oe(s)}}}function Po(t){let e,l,n,i,s;return{c(){e=h("input"),l=k(),n=h("button"),n.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-n3h8s1"/>',p(e,"name","email"),p(e,"type","text"),p(n,"class","svelte-n3h8s1")},m(o,r){g(o,e,r),oe(e,t[4]),g(o,l,r),g(o,n,r),i||(s=[V(e,"input",t[23]),V(n,"click",tl(t[13]))],i=!0)},p(o,r){r[0]&16&&e.value!==o[4]&&oe(e,o[4])},d(o){o&&(b(e),b(l),b(n)),i=!1,Oe(s)}}}function Ao(t){let e,l,n,i,s,o,r,a,u,_,d;return{c(){e=h("input"),l=k(),n=h("div"),i=k(),s=h("label"),s.textContent="Confirm Password",o=k(),r=h("input"),a=k(),u=h("button"),u.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-n3h8s1"/>',p(e,"name","password"),Q(e,"text-align","center"),p(e,"type","text"),e.value="---",e.disabled=!0,p(s,"for","password"),p(s,"class","svelte-n3h8s1"),p(r,"name","password"),Q(r,"text-align","center"),p(r,"type","text"),r.value="---",r.disabled=!0,p(u,"class","svelte-n3h8s1")},m(m,f){g(m,e,f),g(m,l,f),g(m,n,f),g(m,i,f),g(m,s,f),g(m,o,f),g(m,r,f),g(m,a,f),g(m,u,f),_||(d=V(u,"click",tl(t[14])),_=!0)},p:I,d(m){m&&(b(e),b(l),b(n),b(i),b(s),b(o),b(r),b(a),b(u)),_=!1,d()}}}function Lo(t){let e,l,n,i,s,o,r,a,u,_,d;return{c(){e=h("input"),l=k(),n=h("div"),i=k(),s=h("label"),s.textContent="Confirm Password",o=k(),r=h("input"),a=k(),u=h("button"),u.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-n3h8s1"/>',p(e,"name","password"),p(e,"type","password"),p(s,"for","password"),p(s,"class","svelte-n3h8s1"),p(r,"name","password"),p(r,"type","password"),p(u,"class","svelte-n3h8s1")},m(m,f){g(m,e,f),oe(e,t[5]),g(m,l,f),g(m,n,f),g(m,i,f),g(m,s,f),g(m,o,f),g(m,r,f),oe(r,t[6]),g(m,a,f),g(m,u,f),_||(d=[V(e,"input",t[25]),V(r,"input",t[26]),V(u,"click",tl(t[14]))],_=!0)},p(m,f){f[0]&32&&e.value!==m[5]&&oe(e,m[5]),f[0]&64&&r.value!==m[6]&&oe(r,m[6])},d(m){m&&(b(e),b(l),b(n),b(i),b(s),b(o),b(r),b(a),b(u)),_=!1,Oe(d)}}}function ui(t){let e,l=t[28]+"",n;return{c(){e=h("label"),n=T(l),p(e,"class","grid-form-error svelte-n3h8s1"),p(e,"for","errors")},m(i,s){g(i,e,s),c(e,n)},p(i,s){s[0]&1024&&l!==(l=i[28]+"")&&z(n,l)},d(i){i&&b(e)}}}function fi(t){let e,l=t[28]+"",n;return{c(){e=h("label"),n=T(l),p(e,"class","grid-form-error svelte-n3h8s1"),p(e,"for","errors")},m(i,s){g(i,e,s),c(e,n)},p(i,s){s[0]&512&&l!==(l=i[28]+"")&&z(n,l)},d(i){i&&b(e)}}}function Go(t){let e;function l(s,o){return s[11]==null?So:wo}let n=l(t),i=n(t);return{c(){e=h("div"),i.c(),p(e,"id","account-page"),p(e,"class","svelte-n3h8s1")},m(s,o){g(s,e,o),i.m(e,null)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e,null)))},i:I,o:I,d(s){s&&b(e),i.d()}}}function To(t,e,l){let n;Gt(t,Ht,Z=>l(11,n=Z));let i="",s=!1,o="",r=!1,a="",u="",_=!1,d="",m=!1;function f(){var Z;l(0,s=!s),s?l(3,i=((Z=Lt(Ht))==null?void 0:Z.name)??""):l(3,i="")}function $(){var Z;l(1,r=!r),r?l(4,o=((Z=Lt(Ht))==null?void 0:Z.email)??""):l(4,o="")}function S(){l(2,_=!_),_||l(5,a=l(6,u=""))}let w=[];async function C(){l(9,w=[]),i.length==0&&w.push("Name required"),o.length==0&&w.push("Email required"),a.length==0&&w.push("Password required"),a!==u&&w.push("Error: Passwords did not match"),!(w.length>0)&&await Ht.createAccount(i,o,a,Z=>{l(9,w=Z)})}let v=[];async function y(){l(10,v=[]),s&&i.length==0&&v.push("Name required"),r&&o.length==0&&v.push("Email required"),_&&a.length==0&&v.push("Password required"),_&&a!==u&&v.push("Passwords did not match"),d.length==0&&v.push("Current password Required"),!(v.length>0)&&await Ht.updateAccount(s?i:null,r?o:null,_?a:null,d,()=>{s&&f(),r&&$(),_&&S(),l(7,d="")},Z=>l(10,v=Z))}function L(){i=this.value,l(3,i)}function j(){o=this.value,l(4,o)}function D(){a=this.value,l(5,a)}function H(){u=this.value,l(6,u)}function O(){i=this.value,l(3,i)}function R(){n.name=this.value,Ht.set(n)}function W(){o=this.value,l(4,o)}function M(){n.email=this.value,Ht.set(n)}function G(){a=this.value,l(5,a)}function K(){u=this.value,l(6,u)}function de(){d=this.value,l(7,d)}return t.$$.update=()=>{t.$$.dirty[0]&7&&l(8,m=s||r||_)},[s,r,_,i,o,a,u,d,m,w,v,n,f,$,S,C,y,L,j,D,H,O,R,W,M,G,K,de]}class Ro extends Le{constructor(e){super(),Ae(this,e,To,Go,Se,{},null,[-1,-1])}}function jo(t){let e,l=(t[0]==1/0?"?":t[0])+"",n,i,s,o;return{c(){e=h("button"),n=T(l),p(e,"type","button"),p(e,"class",i="die faces-"+(t[2]==t[7]?"F":t[2]==t[8]?"E":t[2])+" result-"+t[0]+" svelte-ogq5bb"),ie(e,"active",t[1]),ie(e,"inverted",t[5]),ie(e,"show-pips",t[3])},m(r,a){g(r,e,a),c(e,n),t[11](e),s||(o=V(e,"click",t[12]),s=!0)},p(r,[a]){a&1&&l!==(l=(r[0]==1/0?"?":r[0])+"")&&z(n,l),a&5&&i!==(i="die faces-"+(r[2]==r[7]?"F":r[2]==r[8]?"E":r[2])+" result-"+r[0]+" svelte-ogq5bb")&&p(e,"class",i),a&7&&ie(e,"active",r[1]),a&37&&ie(e,"inverted",r[5]),a&13&&ie(e,"show-pips",r[3])},i:I,o:I,d(r){r&&b(e),t[11](null),s=!1,o()}}}function No(t,e,l){let{faces:n=6}=e,{showPips:i=!1}=e,{result:s=1/0}=e,{active:o=!1}=e,{enabled:r=!0}=e,{invert:a=!1}=e;const u=-1,_=-2;let d;function m(){if(n>0)return Math.floor(Math.random()*n)+1;if(n==u)return Math.floor(Math.random()*3)-1;if(n==_){var v=Math.floor(Math.random()*6)+1;if(v==1)return 1;if(v==2||v==3)return 2;if(v==4||v==5||v==6)return 3}return 0}function f(){d&&(l(6,d.style.animation="none",d),d.offsetHeight,l(6,d.style.animation=null,d))}function $(){r&&(l(0,s=m()),l(1,o=!1),f())}function S(){!o||!r||(l(0,s=m()),l(1,o=!1),f())}function w(v){we[v?"unshift":"push"](()=>{d=v,l(6,d)})}const C=()=>{l(1,o=r&&!o)};return t.$$set=v=>{"faces"in v&&l(2,n=v.faces),"showPips"in v&&l(3,i=v.showPips),"result"in v&&l(0,s=v.result),"active"in v&&l(1,o=v.active),"enabled"in v&&l(4,r=v.enabled),"invert"in v&&l(5,a=v.invert)},t.$$.update=()=>{t.$$.dirty&17&&l(0,s=r?m():s)},[s,o,n,i,r,a,d,u,_,$,S,w,C]}class At extends Le{constructor(e){super(),Ae(this,e,No,jo,Se,{faces:2,showPips:3,result:0,active:1,enabled:4,invert:5,roll:9,rollIfActive:10})}get roll(){return this.$$.ctx[9]}get rollIfActive(){return this.$$.ctx[10]}}function _i(t,e,l){const n=t.slice();return n[10]=e[l],n[11]=e,n[12]=l,n}function pi(t,e){let l,n,i=e[12],s,o,r;const a=()=>e[5](n,i),u=()=>e[5](null,i);function _(f){e[6](f,e[10])}function d(f){e[7](f,e[10])}let m={showPips:!0,invert:e[12]==2};return e[10].result!==void 0&&(m.result=e[10].result),e[10].active!==void 0&&(m.active=e[10].active),n=new At({props:m}),a(),we.push(()=>Ze(n,"result",_)),we.push(()=>Ze(n,"active",d)),{key:t,first:null,c(){l=he(),J(n.$$.fragment),this.first=l},m(f,$){g(f,l,$),q(n,f,$),r=!0},p(f,$){e=f,i!==e[12]&&(u(),i=e[12],a());const S={};$&1&&(S.invert=e[12]==2),!s&&$&1&&(s=!0,S.result=e[10].result,Xe(()=>s=!1)),!o&&$&1&&(o=!0,S.active=e[10].active,Xe(()=>o=!1)),n.$set(S)},i(f){r||(N(n.$$.fragment,f),r=!0)},o(f){E(n.$$.fragment,f),r=!1},d(f){f&&b(l),u(),Y(n,f)}}}function Oo(t){let e;return{c(){e=T("Quality")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Eo(t){let e;return{c(){e=T("Stunt!")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Io(t){let e,l,n,i,s,o,r,a=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),u,_,d,m,f=[],$=new Map,S,w,C,v,y,L,j=t[2].sum+"",D,H,O,R,W,M,G=t[2].stunt+"",K,de,Z,Re,Ee,_e,F,ee,x,Pe,ne,Ge,ft,$t,xe,Fe,Qe,ot,ye=t[2].sum+t[3]+"",at,je,wt,me,ht,ke,Be=le(t[0]);const Ye=se=>se[10].id;for(let se=0;se<Be.length;se+=1){let fe=_i(t,Be,se),ct=Ye(fe);$.set(ct,f[se]=pi(ct,fe))}function Tt(se,fe){return se[2].hasPair?Eo:Oo}let $e=Tt(t),et=$e(t);return{c(){e=h("div"),l=h("h1"),l.textContent="Age Dice Roller",n=k(),i=h("p"),i.textContent="Roll 3d6 and sum them. One d6 is special and used for success quality and stunt points.",s=k(),o=h("div"),r=h("button"),u=T(a),d=k(),m=h("div");for(let se=0;se<f.length;se+=1)f[se].c();S=k(),w=h("div"),C=h("div"),v=h("h2"),v.textContent="Sum",y=k(),L=h("h3"),D=T(j),H=k(),O=h("div"),R=h("h2"),et.c(),W=k(),M=h("h3"),K=T(G),de=k(),Z=h("div"),Re=h("div"),Re.innerHTML='<h2 style="line-height:3em;">+</h2>',Ee=k(),_e=h("div"),F=h("h2"),F.textContent="Mod",ee=k(),x=h("input"),Pe=k(),ne=h("input"),Ge=k(),ft=h("div"),ft.innerHTML='<h2 style="line-height:3em;">=</h2>',$t=k(),xe=h("div"),Fe=h("h2"),Fe.textContent="Result",Qe=k(),ot=h("h3"),at=T(ye),je=k(),wt=h("p"),wt.innerHTML='Check out Fantasy Age and the other Age RPGs by <a href="https://greenronin.com/">Green Ronin</a> (Not affiliated)',p(r,"class","button-outlined"),r.disabled=_=t[0].length<=0,Q(o,"justify-content","center"),p(m,"class","dice-box svelte-1555w2s"),p(v,"class","text-center"),Q(v,"margin-bottom","0"),p(L,"class","result svelte-1555w2s"),Q(L,"width","128px"),Q(L,"margin","0 auto 0 auto"),p(R,"class","text-center"),Q(R,"margin-bottom","0"),p(M,"class","result svelte-1555w2s"),Q(M,"width","100px"),Q(M,"margin","0 auto 0 auto"),p(w,"class","result-summary svelte-1555w2s"),p(F,"class","text-center"),Q(F,"margin-bottom","0"),p(x,"type","number"),p(x,"class","result svelte-1555w2s"),Q(x,"width","100px"),Q(x,"margin","0 auto 0 auto"),p(ne,"type","range"),p(ne,"class","result svelte-1555w2s"),Q(ne,"width","100px"),Q(ne,"margin","0 auto 0 auto"),p(ne,"min","-10"),p(ne,"max","10"),p(Fe,"class","text-center"),Q(Fe,"margin-bottom","0"),p(ot,"class","result svelte-1555w2s"),Q(ot,"width","100px"),Q(ot,"margin","0 auto 0 auto"),p(Z,"class","result-mod svelte-1555w2s"),p(e,"class","page")},m(se,fe){g(se,e,fe),c(e,l),c(e,n),c(e,i),c(e,s),c(e,o),c(o,r),c(r,u),c(e,d),c(e,m);for(let ct=0;ct<f.length;ct+=1)f[ct]&&f[ct].m(m,null);c(e,S),c(e,w),c(w,C),c(C,v),c(C,y),c(C,L),c(L,D),c(w,H),c(w,O),c(O,R),et.m(R,null),c(O,W),c(O,M),c(M,K),c(e,de),c(e,Z),c(Z,Re),c(Z,Ee),c(Z,_e),c(_e,F),c(_e,ee),c(_e,x),oe(x,t[3]),c(_e,Pe),c(_e,ne),oe(ne,t[3]),c(Z,Ge),c(Z,ft),c(Z,$t),c(Z,xe),c(xe,Fe),c(xe,Qe),c(xe,ot),c(ot,at),c(e,je),c(e,wt),me=!0,ht||(ke=[V(r,"click",t[4]),V(x,"input",t[8]),V(ne,"change",t[9]),V(ne,"input",t[9])],ht=!0)},p(se,[fe]){(!me||fe&4)&&a!==(a=se[2].active==0?"Reroll All":"Reroll "+String(se[2].active))&&z(u,a),(!me||fe&1&&_!==(_=se[0].length<=0))&&(r.disabled=_),fe&3&&(Be=le(se[0]),st(),f=nn(f,fe,Ye,1,se,Be,$,m,ln,pi,null,_i),rt()),(!me||fe&4)&&j!==(j=se[2].sum+"")&&z(D,j),$e!==($e=Tt(se))&&(et.d(1),et=$e(se),et&&(et.c(),et.m(R,null))),(!me||fe&4)&&G!==(G=se[2].stunt+"")&&z(K,G),fe&8&&vt(x.value)!==se[3]&&oe(x,se[3]),fe&8&&oe(ne,se[3]),(!me||fe&12)&&ye!==(ye=se[2].sum+se[3]+"")&&z(at,ye)},i(se){if(!me){for(let fe=0;fe<Be.length;fe+=1)N(f[fe]);me=!0}},o(se){for(let fe=0;fe<f.length;fe+=1)E(f[fe]);me=!1},d(se){se&&b(e);for(let fe=0;fe<f.length;fe+=1)f[fe].d();et.d(),ht=!1,Oe(ke)}}}function Ho(t,e,l){let n=[{id:0,result:0,active:!1},{id:1,result:0,active:!1},{id:2,result:0,active:!1}],i=[],s={active:0,sum:0,hasPair:!1,stunt:0};function o(){s.active==0?i.filter(f=>f).forEach(f=>f.roll()):i.filter(f=>f).forEach(f=>f.rollIfActive())}let r=0;function a(f,$){we[f?"unshift":"push"](()=>{i[$]=f,l(1,i)})}function u(f,$){t.$$.not_equal($.result,f)&&($.result=f,l(0,n))}function _(f,$){t.$$.not_equal($.active,f)&&($.active=f,l(0,n))}function d(){r=vt(this.value),l(3,r)}function m(){r=vt(this.value),l(3,r)}return t.$$.update=()=>{t.$$.dirty&1&&l(2,s=n.reduce((f,$)=>(f.hasOwnProperty($.result)?(f[$.result]+=1,f.hasPair=!0):f[$.result]=1,f.sum+=$.result,$.active&&(f.active=f.active+1),f),{active:0,sum:0,hasPair:!1,stunt:n[2].result}))},[n,i,s,r,o,a,u,_,d,m]}class Fo extends Le{constructor(e){super(),Ae(this,e,Ho,Io,Se,{})}}function di(t,e,l){const n=t.slice();return n[30]=e[l][0],n[31]=e[l][1],n}function hi(t,e,l){const n=t.slice();return n[34]=e[l],n[36]=l,n}function mi(t,e,l){const n=t.slice();return n[37]=e[l],n[36]=l,n}function bi(t,e,l){const n=t.slice();return n[30]=e[l][0],n[31]=e[l][1],n}function gi(t,e,l){const n=t.slice();return n[34]=e[l],n[36]=l,n}function vi(t,e,l){const n=t.slice();return n[37]=e[l],n[36]=l,n}function ki(t,e,l){const n=t.slice();return n[30]=e[l][0],n[31]=e[l][1],n}function $i(t,e,l){const n=t.slice();return n[34]=e[l],n[36]=l,n}function wi(t,e,l){const n=t.slice();return n[37]=e[l],n[36]=l,n}function Si(t,e,l){const n=t.slice();return n[30]=e[l][0],n[47]=e[l][1],n}function yi(t,e,l){const n=t.slice();return n[34]=e[l],n[36]=l,n}function Ci(t,e,l){const n=t.slice();return n[37]=e[l],n[36]=l,n}function Mi(t,e,l){const n=t.slice();return n[37]=e[l],n[36]=l,n}function Pi(t,e,l){const n=t.slice();return n[37]=e[l],n[36]=l,n}function Do(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S,w,C,v,y,L,j,D,H,O,R,W,M,G,K=t[5].level>=20?"Max Level":"Level Up",de,Z,Re,Ee,_e,F,ee,x,Pe,ne,Ge,ft,$t,xe,Fe,Qe,ot,ye,at,je,wt,me,ht,ke,Be,Ye,Tt,$e,et,se,fe,ct,tt,ce,St,Ce,Ne,pe,ge,Je,Dt,yt,Wt,Bt,Rt,mt,nl,Ie,Ut,bt,Mt,_t,zt,Nt,qt,Yt,Pt,Jt,pt=le({length:t[7]%10}),ve=[];for(let A=0;A<pt.length;A+=1)ve[A]=Ai(Pi(t,pt,A));let jt=le({length:9-t[7]%10}),lt=[];for(let A=0;A<jt.length;A+=1)lt[A]=Li(Mi(t,jt,A));let It=le({length:20}),Me=[];for(let A=0;A<It.length;A+=1)Me[A]=Gi(Ci(t,It,A));let nt=le(Object.entries(t[5].levelTrackerPerks)),Ke=[];for(let A=0;A<nt.length;A+=1)Ke[A]=Ri(Si(t,nt,A));let ut=le({length:16}),Ve=[];for(let A=0;A<ut.length;A+=1)Ve[A]=ji(wi(t,ut,A));let Ot=le(Object.entries(t[5].warriorTrackerPerks)),Te=[];for(let A=0;A<Ot.length;A+=1)Te[A]=Oi(ki(t,Ot,A));let Ct=le({length:16}),He=[];for(let A=0;A<Ct.length;A+=1)He[A]=Ei(vi(t,Ct,A));let X=le(Object.entries(t[5].specialistTrackerPerks)),ae=[];for(let A=0;A<X.length;A+=1)ae[A]=Hi(bi(t,X,A));let Ue=le({length:16}),gt=[];for(let A=0;A<Ue.length;A+=1)gt[A]=Fi(mi(t,Ue,A));let Vt=le(Object.entries(t[5].casterTrackerPerks)),De=[];for(let A=0;A<Vt.length;A+=1)De[A]=Wi(di(t,Vt,A));return{c(){e=h("div"),l=h("div"),n=h("h2"),n.textContent="Character",i=k(),s=h("label"),s.innerHTML='<h4 style="display:inline-block" class="svelte-o8rlm0">Character Name:</h4>',o=k(),r=h("input"),a=k(),u=h("label"),u.innerHTML='<h4 style="display:inline-block" class="svelte-o8rlm0">Character Description:</h4>',_=k(),d=h("textarea"),m=k(),f=h("div"),f.innerHTML=`<h2 class="svelte-o8rlm0">Background</h2>
      Constitution, Class, and Lineage<br class="svelte-o8rlm0"/>selection here?`,$=k(),S=h("h2"),S.textContent="Experience",w=k(),C=h("div"),v=h("button"),v.textContent="-",y=k(),L=h("p"),j=h("input"),D=h("br"),H=k();for(let A=0;A<ve.length;A+=1)ve[A].c();O=he();for(let A=0;A<lt.length;A+=1)lt[A].c();R=k(),W=h("button"),W.textContent="+",M=k(),G=h("button"),de=T(K),Re=k(),Ee=h("h2"),Ee.textContent="Level Tracker",_e=k(),F=h("div"),ee=h("label"),x=h("h4"),x.textContent="Level",Pe=k(),ne=h("input"),Ge=k();for(let A=0;A<Me.length;A+=1)Me[A].c();ft=k(),$t=h("div"),$t.textContent="Total",xe=k();for(let A=0;A<Ke.length;A+=1)Ke[A].c();Fe=k(),Qe=h("h2"),Qe.textContent="Archetypes",ot=k(),ye=h("label"),at=T(`Archetype Levels To Assign
    `),je=h("input"),wt=k(),me=h("h2"),me.textContent="Warrior Tracker",ht=k(),ke=h("div"),Be=h("label"),Ye=h("h4"),Ye.textContent="Level",Tt=k(),$e=h("input"),et=k();for(let A=0;A<Ve.length;A+=1)Ve[A].c();se=k(),fe=h("div"),fe.textContent="Total",ct=k();for(let A=0;A<Te.length;A+=1)Te[A].c();tt=k(),ce=h("h2"),ce.textContent="Specialist Tracker",St=k(),Ce=h("div"),Ne=h("label"),pe=h("h4"),pe.textContent="Level",ge=k(),Je=h("input"),Dt=k();for(let A=0;A<He.length;A+=1)He[A].c();yt=k(),Wt=h("div"),Wt.textContent="Total",Bt=k();for(let A=0;A<ae.length;A+=1)ae[A].c();Rt=k(),mt=h("h2"),mt.textContent="Caster Tracker",nl=k(),Ie=h("div"),Ut=h("label"),bt=h("h4"),bt.textContent="Level",Mt=k(),_t=h("input"),zt=k();for(let A=0;A<gt.length;A+=1)gt[A].c();Nt=k(),qt=h("div"),qt.textContent="Total",Yt=k();for(let A=0;A<De.length;A+=1)De[A].c();p(n,"class","svelte-o8rlm0"),p(s,"for","character-name"),p(s,"class","svelte-o8rlm0"),p(r,"id","character-name"),p(r,"placeholder","Unnamed Character"),p(r,"class","svelte-o8rlm0"),p(u,"for","character-description"),p(u,"class","svelte-o8rlm0"),p(d,"id","character-description"),Q(d,"flex-grow","1"),p(d,"placeholder",""),p(d,"class","svelte-o8rlm0"),p(l,"class","sheet-block-v svelte-o8rlm0"),p(f,"class","sheet-block-v svelte-o8rlm0"),p(e,"class","sheet-block-h svelte-o8rlm0"),p(S,"class","svelte-o8rlm0"),p(v,"class","svelte-o8rlm0"),p(j,"class","number-input-small svelte-o8rlm0"),p(j,"type","text"),p(j,"min","0"),p(D,"class","svelte-o8rlm0"),Q(L,"font-family","'Courier New', Courier, monospace"),Q(L,"text-align","center"),p(L,"class","svelte-o8rlm0"),p(W,"class","svelte-o8rlm0"),p(C,"class","sheet-block-h svelte-o8rlm0"),Q(C,"flex","0 0 auto"),Q(C,"justify-content","center"),Q(C,"gap","5px"),G.disabled=Z=t[7]<10||t[5].level>=20,Q(G,"flex-basis","25%"),p(G,"class","svelte-o8rlm0"),p(Ee,"class","svelte-o8rlm0"),p(x,"class","svelte-o8rlm0"),p(ne,"class","number-input-small svelte-o8rlm0"),p(ne,"type","number"),p(ne,"min","1"),p(ne,"max","20"),ie(ne,"invalid-input",t[8]),p(ee,"class","tracker-cell-label label-h svelte-o8rlm0"),p($t,"class","tracker-cell-total svelte-o8rlm0"),p(F,"id","level-tracker"),p(F,"class","svelte-o8rlm0"),p(Qe,"class","svelte-o8rlm0"),p(je,"class","number-input-small svelte-o8rlm0"),je.value=t[9],je.disabled=!0,ie(je,"invalid-input",t[9]<0),p(ye,"class","label-h svelte-o8rlm0"),Q(ye,"justify-content","center"),p(me,"class","svelte-o8rlm0"),p(Ye,"class","svelte-o8rlm0"),p($e,"class","number-input-small svelte-o8rlm0"),p($e,"type","number"),p($e,"min","0"),p($e,"max","15"),ie($e,"invalid-input",t[10]),p(Be,"class","tracker-cell-label label-h svelte-o8rlm0"),p(fe,"class","tracker-cell-total svelte-o8rlm0"),p(ke,"id","arch-level-tracker"),p(ke,"class","svelte-o8rlm0"),p(ce,"class","svelte-o8rlm0"),p(pe,"class","svelte-o8rlm0"),p(Je,"class","number-input-small svelte-o8rlm0"),p(Je,"type","number"),p(Je,"min","0"),p(Je,"max","15"),ie(Je,"invalid-input",t[11]),p(Ne,"class","tracker-cell-label label-h svelte-o8rlm0"),p(Wt,"class","tracker-cell-total svelte-o8rlm0"),p(Ce,"id","arch-level-tracker"),p(Ce,"class","svelte-o8rlm0"),p(mt,"class","svelte-o8rlm0"),p(bt,"class","svelte-o8rlm0"),p(_t,"class","number-input-small svelte-o8rlm0"),p(_t,"type","number"),p(_t,"min","0"),p(_t,"max","15"),ie(_t,"invalid-input",t[12]),p(Ut,"class","tracker-cell-label label-h svelte-o8rlm0"),p(qt,"class","tracker-cell-total svelte-o8rlm0"),p(Ie,"id","arch-level-tracker"),p(Ie,"class","svelte-o8rlm0")},m(A,te){g(A,e,te),c(e,l),c(l,n),c(l,i),c(l,s),c(l,o),c(l,r),oe(r,t[5].name),c(l,a),c(l,u),c(l,_),c(l,d),oe(d,t[5].description),c(e,m),c(e,f),g(A,$,te),g(A,S,te),g(A,w,te),g(A,C,te),c(C,v),c(C,y),c(C,L),c(L,j),oe(j,t[7]),c(L,D),c(L,H);for(let P=0;P<ve.length;P+=1)ve[P]&&ve[P].m(L,null);c(L,O);for(let P=0;P<lt.length;P+=1)lt[P]&&lt[P].m(L,null);c(C,R),c(C,W),g(A,M,te),g(A,G,te),c(G,de),g(A,Re,te),g(A,Ee,te),g(A,_e,te),g(A,F,te),c(F,ee),c(ee,x),c(ee,Pe),c(ee,ne),t[26](ne),c(F,Ge);for(let P=0;P<Me.length;P+=1)Me[P]&&Me[P].m(F,null);c(F,ft),c(F,$t),c(F,xe);for(let P=0;P<Ke.length;P+=1)Ke[P]&&Ke[P].m(F,null);g(A,Fe,te),g(A,Qe,te),g(A,ot,te),g(A,ye,te),c(ye,at),c(ye,je),g(A,wt,te),g(A,me,te),g(A,ht,te),g(A,ke,te),c(ke,Be),c(Be,Ye),c(Be,Tt),c(Be,$e),t[27]($e),c(ke,et);for(let P=0;P<Ve.length;P+=1)Ve[P]&&Ve[P].m(ke,null);c(ke,se),c(ke,fe),c(ke,ct);for(let P=0;P<Te.length;P+=1)Te[P]&&Te[P].m(ke,null);g(A,tt,te),g(A,ce,te),g(A,St,te),g(A,Ce,te),c(Ce,Ne),c(Ne,pe),c(Ne,ge),c(Ne,Je),t[28](Je),c(Ce,Dt);for(let P=0;P<He.length;P+=1)He[P]&&He[P].m(Ce,null);c(Ce,yt),c(Ce,Wt),c(Ce,Bt);for(let P=0;P<ae.length;P+=1)ae[P]&&ae[P].m(Ce,null);g(A,Rt,te),g(A,mt,te),g(A,nl,te),g(A,Ie,te),c(Ie,Ut),c(Ut,bt),c(Ut,Mt),c(Ut,_t),t[29](_t),c(Ie,zt);for(let P=0;P<gt.length;P+=1)gt[P]&&gt[P].m(Ie,null);c(Ie,Nt),c(Ie,qt),c(Ie,Yt);for(let P=0;P<De.length;P+=1)De[P]&&De[P].m(Ie,null);Pt||(Jt=[V(r,"input",t[22]),V(d,"input",t[23]),V(v,"click",t[15]),V(j,"input",t[24]),V(j,"change",t[25]),V(W,"click",t[14]),V(G,"click",t[17]),V(ne,"change",t[16]),V($e,"change",t[18]),V(Je,"change",t[19]),V(_t,"change",t[20])],Pt=!0)},p(A,te){if(te[0]&32&&r.value!==A[5].name&&oe(r,A[5].name),te[0]&32&&oe(d,A[5].description),te[0]&128&&j.value!==A[7]&&oe(j,A[7]),te[0]&128){const P=pt.length;pt=le({length:A[7]%10});let re;for(re=P;re<pt.length;re+=1)Pi(A,pt,re),ve[re]||(ve[re]=Ai(),ve[re].c(),ve[re].m(L,O));for(re=pt.length;re<P;re+=1)ve[re].d(1);ve.length=pt.length}if(te[0]&128){const P=jt.length;jt=le({length:9-A[7]%10});let re;for(re=P;re<jt.length;re+=1)Mi(A,jt,re),lt[re]||(lt[re]=Li(),lt[re].c(),lt[re].m(L,null));for(re=jt.length;re<P;re+=1)lt[re].d(1);lt.length=jt.length}if(te[0]&32&&K!==(K=A[5].level>=20?"Max Level":"Level Up")&&z(de,K),te[0]&160&&Z!==(Z=A[7]<10||A[5].level>=20)&&(G.disabled=Z),te[0]&256&&ie(ne,"invalid-input",A[8]),te[0]&32){It=le({length:20});let P;for(P=0;P<It.length;P+=1){const re=Ci(A,It,P);Me[P]?Me[P].p(re,te):(Me[P]=Gi(re),Me[P].c(),Me[P].m(F,ft))}for(;P<Me.length;P+=1)Me[P].d(1);Me.length=It.length}if(te[0]&32){nt=le(Object.entries(A[5].levelTrackerPerks));let P;for(P=0;P<nt.length;P+=1){const re=Si(A,nt,P);Ke[P]?Ke[P].p(re,te):(Ke[P]=Ri(re),Ke[P].c(),Ke[P].m(F,null))}for(;P<Ke.length;P+=1)Ke[P].d(1);Ke.length=nt.length}if(te[0]&512&&je.value!==A[9]&&(je.value=A[9]),te[0]&512&&ie(je,"invalid-input",A[9]<0),te[0]&1024&&ie($e,"invalid-input",A[10]),te[0]&32){ut=le({length:16});let P;for(P=0;P<ut.length;P+=1){const re=wi(A,ut,P);Ve[P]?Ve[P].p(re,te):(Ve[P]=ji(re),Ve[P].c(),Ve[P].m(ke,se))}for(;P<Ve.length;P+=1)Ve[P].d(1);Ve.length=ut.length}if(te[0]&32){Ot=le(Object.entries(A[5].warriorTrackerPerks));let P;for(P=0;P<Ot.length;P+=1){const re=ki(A,Ot,P);Te[P]?Te[P].p(re,te):(Te[P]=Oi(re),Te[P].c(),Te[P].m(ke,null))}for(;P<Te.length;P+=1)Te[P].d(1);Te.length=Ot.length}if(te[0]&2048&&ie(Je,"invalid-input",A[11]),te[0]&32){Ct=le({length:16});let P;for(P=0;P<Ct.length;P+=1){const re=vi(A,Ct,P);He[P]?He[P].p(re,te):(He[P]=Ei(re),He[P].c(),He[P].m(Ce,yt))}for(;P<He.length;P+=1)He[P].d(1);He.length=Ct.length}if(te[0]&32){X=le(Object.entries(A[5].specialistTrackerPerks));let P;for(P=0;P<X.length;P+=1){const re=bi(A,X,P);ae[P]?ae[P].p(re,te):(ae[P]=Hi(re),ae[P].c(),ae[P].m(Ce,null))}for(;P<ae.length;P+=1)ae[P].d(1);ae.length=X.length}if(te[0]&4096&&ie(_t,"invalid-input",A[12]),te[0]&32){Ue=le({length:16});let P;for(P=0;P<Ue.length;P+=1){const re=mi(A,Ue,P);gt[P]?gt[P].p(re,te):(gt[P]=Fi(re),gt[P].c(),gt[P].m(Ie,Nt))}for(;P<gt.length;P+=1)gt[P].d(1);gt.length=Ue.length}if(te[0]&32){Vt=le(Object.entries(A[5].casterTrackerPerks));let P;for(P=0;P<Vt.length;P+=1){const re=di(A,Vt,P);De[P]?De[P].p(re,te):(De[P]=Wi(re),De[P].c(),De[P].m(Ie,null))}for(;P<De.length;P+=1)De[P].d(1);De.length=Vt.length}},d(A){A&&(b(e),b($),b(S),b(w),b(C),b(M),b(G),b(Re),b(Ee),b(_e),b(F),b(Fe),b(Qe),b(ot),b(ye),b(wt),b(me),b(ht),b(ke),b(tt),b(ce),b(St),b(Ce),b(Rt),b(mt),b(nl),b(Ie)),We(ve,A),We(lt,A),t[26](null),We(Me,A),We(Ke,A),t[27](null),We(Ve,A),We(Te,A),t[28](null),We(He,A),We(ae,A),t[29](null),We(gt,A),We(De,A),Pt=!1,Oe(Jt)}}}function Wo(t){let e;return{c(){e=h("div"),e.innerHTML='<h2 class="svelte-o8rlm0">Loading...</h2>',p(e,"class","sheet-block svelte-o8rlm0")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function Bo(t){let e,l,n,i,s,o;return{c(){e=h("div"),l=h("h2"),l.textContent="Cannot Load Social Stats",n=k(),i=h("p"),s=T("Error: "),o=T(t[6]),p(l,"class","svelte-o8rlm0"),p(i,"class","svelte-o8rlm0"),p(e,"class","sheet-block svelte-o8rlm0")},m(r,a){g(r,e,a),c(e,l),c(e,n),c(e,i),c(i,s),c(i,o)},p(r,a){a[0]&64&&z(o,r[6])},d(r){r&&b(e)}}}function Ai(t){let e;return{c(){e=T("█")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Li(t){let e;return{c(){e=T("░")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Gi(t){let e;return{c(){e=h("div"),e.textContent=`${t[36]+1}`,p(e,"class","tracker-cell-level svelte-o8rlm0"),ie(e,"level-reached",t[36]+1<=t[5].level)},m(l,n){g(l,e,n)},p(l,n){n[0]&32&&ie(e,"level-reached",l[36]+1<=l[5].level)},d(l){l&&b(e)}}}function Ti(t){let e,l=(t[34]>0?t[34]:"")+"",n;return{c(){e=h("div"),n=T(l),p(e,"class","tracker-cell-reward svelte-o8rlm0"),ie(e,"level-reached",t[36]+1<=t[5].level)},m(i,s){g(i,e,s),c(e,n)},p(i,s){s[0]&32&&l!==(l=(i[34]>0?i[34]:"")+"")&&z(n,l),s[0]&32&&ie(e,"level-reached",i[36]+1<=i[5].level)},d(i){i&&b(e)}}}function Ri(t){let e,l=t[30]+"",n,i,s,o,r=t[5].lookup(t[30])+"",a,u=le(t[47]),_=[];for(let d=0;d<u.length;d+=1)_[d]=Ti(yi(t,u,d));return{c(){e=h("div"),n=T(l),i=k();for(let d=0;d<_.length;d+=1)_[d].c();s=k(),o=h("div"),a=T(r),p(e,"class","tracker-cell-label svelte-o8rlm0"),p(o,"class","tracker-cell-total svelte-o8rlm0")},m(d,m){g(d,e,m),c(e,n),g(d,i,m);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(d,m);g(d,s,m),g(d,o,m),c(o,a)},p(d,m){if(m[0]&32&&l!==(l=d[30]+"")&&z(n,l),m[0]&32){u=le(d[47]);let f;for(f=0;f<u.length;f+=1){const $=yi(d,u,f);_[f]?_[f].p($,m):(_[f]=Ti($),_[f].c(),_[f].m(s.parentNode,s))}for(;f<_.length;f+=1)_[f].d(1);_.length=u.length}m[0]&32&&r!==(r=d[5].lookup(d[30])+"")&&z(a,r)},d(d){d&&(b(e),b(i),b(s),b(o)),We(_,d)}}}function ji(t){let e;return{c(){e=h("div"),e.textContent=`${t[36]}`,p(e,"class","tracker-cell-level svelte-o8rlm0"),ie(e,"level-reached",t[36]<=t[5].warriorLevel)},m(l,n){g(l,e,n)},p(l,n){n[0]&32&&ie(e,"level-reached",l[36]<=l[5].warriorLevel)},d(l){l&&b(e)}}}function Ni(t){let e,l=(t[36]==0?(t[5].lookup("Starting"+t[30])??0)+t[34]:t[34]>0?t[34]:"")+"",n;return{c(){e=h("div"),n=T(l),p(e,"class","tracker-cell-reward svelte-o8rlm0"),ie(e,"level-reached",t[36]<=t[5].warriorLevel)},m(i,s){g(i,e,s),c(e,n)},p(i,s){s[0]&32&&l!==(l=(i[36]==0?(i[5].lookup("Starting"+i[30])??0)+i[34]:i[34]>0?i[34]:"")+"")&&z(n,l),s[0]&32&&ie(e,"level-reached",i[36]<=i[5].warriorLevel)},d(i){i&&b(e)}}}function Oi(t){let e,l=t[30]+"",n,i,s,o,r=t[5].lookup(t[30])+"",a,u=le(t[31]),_=[];for(let d=0;d<u.length;d+=1)_[d]=Ni($i(t,u,d));return{c(){e=h("div"),n=T(l),i=k();for(let d=0;d<_.length;d+=1)_[d].c();s=k(),o=h("div"),a=T(r),p(e,"class","tracker-cell-label svelte-o8rlm0"),p(o,"class","tracker-cell-total svelte-o8rlm0")},m(d,m){g(d,e,m),c(e,n),g(d,i,m);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(d,m);g(d,s,m),g(d,o,m),c(o,a)},p(d,m){if(m[0]&32&&l!==(l=d[30]+"")&&z(n,l),m[0]&32){u=le(d[31]);let f;for(f=0;f<u.length;f+=1){const $=$i(d,u,f);_[f]?_[f].p($,m):(_[f]=Ni($),_[f].c(),_[f].m(s.parentNode,s))}for(;f<_.length;f+=1)_[f].d(1);_.length=u.length}m[0]&32&&r!==(r=d[5].lookup(d[30])+"")&&z(a,r)},d(d){d&&(b(e),b(i),b(s),b(o)),We(_,d)}}}function Ei(t){let e;return{c(){e=h("div"),e.textContent=`${t[36]}`,p(e,"class","tracker-cell-level svelte-o8rlm0"),ie(e,"level-reached",t[36]<=t[5].specialistLevel)},m(l,n){g(l,e,n)},p(l,n){n[0]&32&&ie(e,"level-reached",l[36]<=l[5].specialistLevel)},d(l){l&&b(e)}}}function Ii(t){let e,l=(t[36]==0?(t[5].lookup("Starting"+t[30])??0)+t[34]:t[34]>0?t[34]:"")+"",n;return{c(){e=h("div"),n=T(l),p(e,"class","tracker-cell-reward svelte-o8rlm0"),ie(e,"level-reached",t[36]<=t[5].specialistLevel)},m(i,s){g(i,e,s),c(e,n)},p(i,s){s[0]&32&&l!==(l=(i[36]==0?(i[5].lookup("Starting"+i[30])??0)+i[34]:i[34]>0?i[34]:"")+"")&&z(n,l),s[0]&32&&ie(e,"level-reached",i[36]<=i[5].specialistLevel)},d(i){i&&b(e)}}}function Hi(t){let e,l=t[30]+"",n,i,s,o,r=t[5].lookup(t[30])+"",a,u=le(t[31]),_=[];for(let d=0;d<u.length;d+=1)_[d]=Ii(gi(t,u,d));return{c(){e=h("div"),n=T(l),i=k();for(let d=0;d<_.length;d+=1)_[d].c();s=k(),o=h("div"),a=T(r),p(e,"class","tracker-cell-label svelte-o8rlm0"),p(o,"class","tracker-cell-total svelte-o8rlm0")},m(d,m){g(d,e,m),c(e,n),g(d,i,m);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(d,m);g(d,s,m),g(d,o,m),c(o,a)},p(d,m){if(m[0]&32&&l!==(l=d[30]+"")&&z(n,l),m[0]&32){u=le(d[31]);let f;for(f=0;f<u.length;f+=1){const $=gi(d,u,f);_[f]?_[f].p($,m):(_[f]=Ii($),_[f].c(),_[f].m(s.parentNode,s))}for(;f<_.length;f+=1)_[f].d(1);_.length=u.length}m[0]&32&&r!==(r=d[5].lookup(d[30])+"")&&z(a,r)},d(d){d&&(b(e),b(i),b(s),b(o)),We(_,d)}}}function Fi(t){let e;return{c(){e=h("div"),e.textContent=`${t[36]}`,p(e,"class","tracker-cell-level svelte-o8rlm0"),ie(e,"level-reached",t[36]<=t[5].casterLevel)},m(l,n){g(l,e,n)},p(l,n){n[0]&32&&ie(e,"level-reached",l[36]<=l[5].casterLevel)},d(l){l&&b(e)}}}function Di(t){let e,l=(t[36]==0?(t[5].lookup("Starting"+t[30])??0)+t[34]:t[34]>0?t[34]:"")+"",n;return{c(){e=h("div"),n=T(l),p(e,"class","tracker-cell-reward svelte-o8rlm0"),ie(e,"level-reached",t[36]<=t[5].casterLevel)},m(i,s){g(i,e,s),c(e,n)},p(i,s){s[0]&32&&l!==(l=(i[36]==0?(i[5].lookup("Starting"+i[30])??0)+i[34]:i[34]>0?i[34]:"")+"")&&z(n,l),s[0]&32&&ie(e,"level-reached",i[36]<=i[5].casterLevel)},d(i){i&&b(e)}}}function Wi(t){let e,l=t[30]+"",n,i,s,o,r=t[5].lookup(t[30])+"",a,u=le(t[31]),_=[];for(let d=0;d<u.length;d+=1)_[d]=Di(hi(t,u,d));return{c(){e=h("div"),n=T(l),i=k();for(let d=0;d<_.length;d+=1)_[d].c();s=k(),o=h("div"),a=T(r),p(e,"class","tracker-cell-label svelte-o8rlm0"),p(o,"class","tracker-cell-total svelte-o8rlm0")},m(d,m){g(d,e,m),c(e,n),g(d,i,m);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(d,m);g(d,s,m),g(d,o,m),c(o,a)},p(d,m){if(m[0]&32&&l!==(l=d[30]+"")&&z(n,l),m[0]&32){u=le(d[31]);let f;for(f=0;f<u.length;f+=1){const $=hi(d,u,f);_[f]?_[f].p($,m):(_[f]=Di($),_[f].c(),_[f].m(s.parentNode,s))}for(;f<_.length;f+=1)_[f].d(1);_.length=u.length}m[0]&32&&r!==(r=d[5].lookup(d[30])+"")&&z(a,r)},d(d){d&&(b(e),b(i),b(s),b(o)),We(_,d)}}}function Uo(t){let e;function l(s,o){return s[6]?Bo:!s[0]||s[5]==null?Wo:Do}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:I,o:I,d(s){s&&b(e),i.d(s)}}}function zo(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,F=>l(5,n=F)),r);t.$$.on_destroy.push(()=>i());let{id:o}=e,{character:r}=e;s();let a;Qt(async()=>{l(6,a=r||n==null?void 0:"Failed to load character")});let u=0;function _(F){F!=null&&l(7,u+=F),u<0&&l(7,u=0),qe(r,n.experience=u,n)}function d(){_(1)}function m(){_(-1)}let f,$=!1;function S(){var F=f.valueAsNumber;if(isNaN(F)||F<1||F>20){l(8,$=!0);return}l(8,$=!1),qe(r,n.level=f.valueAsNumber,n)}let w=0;function C(){n.experience<10||n.level>=20||(_(-10),l(1,f.valueAsNumber=n.level+1,f),S())}let v,y=!1;function L(){var F=v.valueAsNumber;if(isNaN(F)||F<0||F>15||F>n.level+3){l(10,y=!0);return}l(10,y=!1),qe(r,n.warriorLevel=v.valueAsNumber,n)}let j,D=!1;function H(){var F=j.valueAsNumber;if(isNaN(F)||F<0||F>15||F>n.level+3){l(11,D=!0);return}l(11,D=!1),qe(r,n.specialistLevel=j.valueAsNumber,n)}let O,R=!1;function W(){var F=O.valueAsNumber;if(isNaN(F)||F<0||F>15||F>n.level+3){l(12,R=!0);return}l(12,R=!1),qe(r,n.casterLevel=O.valueAsNumber,n)}function M(){n.name=this.value,r.set(n)}function G(){n.description=this.value,r.set(n)}function K(){u=this.value,l(7,u)}const de=()=>_(0);function Z(F){we[F?"unshift":"push"](()=>{f=F,l(1,f),l(0,r),l(5,n)})}function Re(F){we[F?"unshift":"push"](()=>{v=F,l(2,v),l(0,r),l(5,n)})}function Ee(F){we[F?"unshift":"push"](()=>{j=F,l(3,j),l(0,r),l(5,n)})}function _e(F){we[F?"unshift":"push"](()=>{O=F,l(4,O),l(0,r),l(5,n)})}return t.$$set=F=>{"id"in F&&l(21,o=F.id),"character"in F&&s(l(0,r=F.character))},t.$$.update=()=>{t.$$.dirty[0]&35&&r&&f&&n!=null&&n.level!==f.valueAsNumber&&l(1,f.value=n.level.toString(),f),t.$$.dirty[0]&35&&r&&f&&n!=null&&l(9,w=n.level+5-n.warriorLevel-n.specialistLevel-n.casterLevel),t.$$.dirty[0]&37&&r&&v&&n!=null&&n.warriorLevel!==v.valueAsNumber&&l(2,v.value=n.warriorLevel.toString(),v),t.$$.dirty[0]&41&&r&&j&&n!=null&&n.specialistLevel!==j.valueAsNumber&&l(3,j.value=n.specialistLevel.toString(),j),t.$$.dirty[0]&49&&r&&O&&n!=null&&n.casterLevel!==O.valueAsNumber&&l(4,O.value=n.casterLevel.toString(),O)},[r,f,v,j,O,n,a,u,$,w,y,D,R,_,d,m,S,C,L,H,W,o,M,G,K,de,Z,Re,Ee,_e]}let qo=class extends Le{constructor(e){super(),Ae(this,e,zo,Uo,Se,{id:21,character:0},null,[-1,-1])}};function Yo(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S,w,C,v,y,L,j,D,H,O,R,W,M,G,K,de,Z=t[1].GetStatString(B.Candor)+"",Re,Ee,_e,F,ee=t[1].GetStatString(B.Conscious)+"",x,Pe,ne,Ge,ft=t[1].GetStatString(B.Cunning)+"",$t,xe,Fe,Qe,ot,ye=t[1].GetStatString(B.Might)+"",at,je,wt,me,ht=t[1].GetStatString(B.Artifice)+"",ke,Be,Ye,Tt,$e=t[1].GetStatString(B.Tuning)+"",et,se,fe;function ct(pe,ge){if(pe[1].socialStatGenMethod===it.Manual)return Qo;if(pe[1].socialStatGenMethod===it.Roll)return Vo}let tt=ct(t),ce=tt&&tt(t);function St(pe,ge){if(pe[1].explorationStatGenMethod===it.Manual)return ea;if(pe[1].explorationStatGenMethod===it.Roll)return xo}let Ce=St(t),Ne=Ce&&Ce(t);return{c(){e=h("div"),l=h("h2"),l.textContent="Social Stats",n=k(),i=h("br"),s=k(),o=h("div"),r=T(`Generation mode:
            `),a=h("div"),u=h("button"),u.textContent="Manual",_=k(),d=h("button"),d.textContent="Roll",m=k(),ce&&ce.c(),f=k(),$=h("div"),S=h("h2"),S.textContent="Exploration Stats",w=k(),C=h("div"),v=T(`Generation mode:
            `),y=h("div"),L=h("button"),L.textContent="Manual",j=k(),D=h("button"),D.textContent="Roll",H=k(),Ne&&Ne.c(),O=k(),R=h("div"),W=T(`Including Level Improvements:
        `),M=h("table"),G=h("tr"),K=h("td"),K.textContent="Candor",de=h("td"),Re=T(Z),Ee=k(),_e=h("td"),_e.textContent="Conscious",F=h("td"),x=T(ee),Pe=k(),ne=h("td"),ne.textContent="Cunning",Ge=h("td"),$t=T(ft),xe=k(),Fe=h("tr"),Qe=h("td"),Qe.textContent="Might",ot=h("td"),at=T(ye),je=k(),wt=h("td"),wt.textContent="Artifice",me=h("td"),ke=T(ht),Be=k(),Ye=h("td"),Ye.textContent="Tuning",Tt=h("td"),et=T($e),ie(u,"active",t[1].socialStatGenMethod===it.Manual),ie(d,"active",t[1].socialStatGenMethod===it.Roll),p(a,"class","toggle-bg"),p(o,"class","sheet-row svelte-11bttyh"),p(e,"class","sheet-block svelte-11bttyh"),ie(L,"active",t[1].explorationStatGenMethod===it.Manual),ie(D,"active",t[1].explorationStatGenMethod===it.Roll),p(y,"class","toggle-bg"),p(C,"class","sheet-row svelte-11bttyh"),p($,"class","sheet-block svelte-11bttyh"),p(M,"class","svelte-11bttyh"),p(R,"class","sheet-block svelte-11bttyh")},m(pe,ge){g(pe,e,ge),c(e,l),c(e,n),c(e,i),c(e,s),c(e,o),c(o,r),c(o,a),c(a,u),c(a,_),c(a,d),c(e,m),ce&&ce.m(e,null),g(pe,f,ge),g(pe,$,ge),c($,S),c($,w),c($,C),c(C,v),c(C,y),c(y,L),c(y,j),c(y,D),c($,H),Ne&&Ne.m($,null),g(pe,O,ge),g(pe,R,ge),c(R,W),c(R,M),c(M,G),c(G,K),c(G,de),c(de,Re),c(G,Ee),c(G,_e),c(G,F),c(F,x),c(G,Pe),c(G,ne),c(G,Ge),c(Ge,$t),c(M,xe),c(M,Fe),c(Fe,Qe),c(Fe,ot),c(ot,at),c(Fe,je),c(Fe,wt),c(Fe,me),c(me,ke),c(Fe,Be),c(Fe,Ye),c(Fe,Tt),c(Tt,et),se||(fe=[V(u,"click",t[11]),V(d,"click",t[12]),V(L,"click",t[16]),V(D,"click",t[17])],se=!0)},p(pe,ge){ge&2&&ie(u,"active",pe[1].socialStatGenMethod===it.Manual),ge&2&&ie(d,"active",pe[1].socialStatGenMethod===it.Roll),tt===(tt=ct(pe))&&ce?ce.p(pe,ge):(ce&&ce.d(1),ce=tt&&tt(pe),ce&&(ce.c(),ce.m(e,null))),ge&2&&ie(L,"active",pe[1].explorationStatGenMethod===it.Manual),ge&2&&ie(D,"active",pe[1].explorationStatGenMethod===it.Roll),Ce===(Ce=St(pe))&&Ne?Ne.p(pe,ge):(Ne&&Ne.d(1),Ne=Ce&&Ce(pe),Ne&&(Ne.c(),Ne.m($,null))),ge&2&&Z!==(Z=pe[1].GetStatString(B.Candor)+"")&&z(Re,Z),ge&2&&ee!==(ee=pe[1].GetStatString(B.Conscious)+"")&&z(x,ee),ge&2&&ft!==(ft=pe[1].GetStatString(B.Cunning)+"")&&z($t,ft),ge&2&&ye!==(ye=pe[1].GetStatString(B.Might)+"")&&z(at,ye),ge&2&&ht!==(ht=pe[1].GetStatString(B.Artifice)+"")&&z(ke,ht),ge&2&&$e!==($e=pe[1].GetStatString(B.Tuning)+"")&&z(et,$e)},d(pe){pe&&(b(e),b(f),b($),b(O),b(R)),ce&&ce.d(),Ne&&Ne.d(),se=!1,Oe(fe)}}}function Jo(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","sheet-block svelte-11bttyh")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function Ko(t){let e,l,n,i,s,o;return{c(){e=h("div"),l=h("h2"),l.textContent="Cannot Load Stats",n=k(),i=h("p"),s=T("Error: "),o=T(t[2]),p(e,"class","sheet-block svelte-11bttyh")},m(r,a){g(r,e,a),c(e,l),c(e,n),c(e,i),c(i,s),c(i,o)},p(r,a){a&4&&z(o,r[2])},d(r){r&&b(e)}}}function Vo(t){let e,l,n,i,s,o,r,a,u;function _(f,$){var S,w,C;return(((S=f[1])==null?void 0:S.statGen_Roll[B.Candor])??-1)+(((w=f[1])==null?void 0:w.statGen_Roll[B.Conscious])??-1)+(((C=f[1])==null?void 0:C.statGen_Roll[B.Cunning])??-1)===2?Zo:Xo}let d=_(t),m=d(t);return{c(){e=h("div"),l=h("div"),n=h("button"),n.textContent="Roll 5d3",i=T(" => "),s=h("input"),o=k(),r=h("table"),m.c(),p(s,"type","string"),s.value=t[3],s.disabled=!0,p(s,"class","svelte-11bttyh"),p(l,"class","sheet-row svelte-11bttyh"),p(r,"class","svelte-11bttyh"),p(e,"class","sheet-section svelte-11bttyh")},m(f,$){g(f,e,$),c(e,l),c(l,n),c(l,i),c(l,s),c(e,o),c(e,r),m.m(r,null),a||(u=V(n,"click",t[7]),a=!0)},p(f,$){$&8&&s.value!==f[3]&&(s.value=f[3]),d===(d=_(f))&&m?m.p(f,$):(m.d(1),m=d(f),m&&(m.c(),m.m(r,null)))},d(f){f&&b(e),m.d(),a=!1,u()}}}function Qo(t){let e,l,n,i,s=5-t[4]+"",o,r,a,u,_,d,m,f,$,S,w,C,v,y,L,j,D,H,O,R,W,M;return{c(){e=h("div"),l=h("div"),n=T("Points remaining: "),i=h("span"),o=T(s),r=k(),a=h("table"),u=h("tr"),_=h("td"),_.innerHTML='<label for="stat-candor-input">Candor</label>',d=k(),m=h("td"),f=h("input"),$=k(),S=h("tr"),w=h("td"),w.innerHTML='<label for="stat-conscious-input">Conscious</label>',C=k(),v=h("td"),y=h("input"),L=k(),j=h("tr"),D=h("td"),D.innerHTML='<label for="stat-cunning-input">Cunning</label>',H=k(),O=h("td"),R=h("input"),p(i,"class","svelte-11bttyh"),ie(i,"red",t[4]>5),p(l,"class","sheet-row svelte-11bttyh"),p(f,"id","stat-candor-input"),p(f,"type","number"),p(f,"class","svelte-11bttyh"),p(y,"id","stat-conscious-input"),p(y,"type","number"),p(y,"class","svelte-11bttyh"),p(R,"id","stat-cunning-input"),p(R,"type","number"),p(R,"class","svelte-11bttyh"),p(a,"class","svelte-11bttyh"),p(e,"class","sheet-section svelte-11bttyh")},m(G,K){g(G,e,K),c(e,l),c(l,n),c(l,i),c(i,o),c(e,r),c(e,a),c(a,u),c(u,_),c(u,d),c(u,m),c(m,f),oe(f,t[1].statGen_Manual[B.Candor]),c(a,$),c(a,S),c(S,w),c(S,C),c(S,v),c(v,y),oe(y,t[1].statGen_Manual[B.Conscious]),c(a,L),c(a,j),c(j,D),c(j,H),c(j,O),c(O,R),oe(R,t[1].statGen_Manual[B.Cunning]),W||(M=[V(f,"input",t[13]),V(y,"input",t[14]),V(R,"input",t[15])],W=!0)},p(G,K){K&16&&s!==(s=5-G[4]+"")&&z(o,s),K&16&&ie(i,"red",G[4]>5),K&2&&vt(f.value)!==G[1].statGen_Manual[B.Candor]&&oe(f,G[1].statGen_Manual[B.Candor]),K&2&&vt(y.value)!==G[1].statGen_Manual[B.Conscious]&&oe(y,G[1].statGen_Manual[B.Conscious]),K&2&&vt(R.value)!==G[1].statGen_Manual[B.Cunning]&&oe(R,G[1].statGen_Manual[B.Cunning])},d(G){G&&b(e),W=!1,Oe(M)}}}function Xo(t){let e;return{c(){e=T("Stats Not Rolled Yet")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function Zo(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S,w,C,v,y,L;return{c(){var j,D,H;e=h("tr"),l=h("td"),l.innerHTML='<label for="stat-candor-input">Candor</label>',n=k(),i=h("td"),s=h("input"),r=k(),a=h("tr"),u=h("td"),u.innerHTML='<label for="stat-conscious-input">Conscious</label>',_=k(),d=h("td"),m=h("input"),$=k(),S=h("tr"),w=h("td"),w.innerHTML='<label for="stat-cunning-input">Cunning</label>',C=k(),v=h("td"),y=h("input"),p(s,"id","stat-candor-input"),p(s,"type","number"),s.value=o=((j=t[1])==null?void 0:j.statGen_Roll[B.Candor])??-2,p(s,"class","svelte-11bttyh"),p(m,"id","stat-conscious-input"),p(m,"type","number"),m.value=f=((D=t[1])==null?void 0:D.statGen_Roll[B.Conscious])??-2,p(m,"class","svelte-11bttyh"),p(y,"id","stat-cunning-input"),p(y,"type","number"),y.value=L=((H=t[1])==null?void 0:H.statGen_Roll[B.Cunning])??-2,p(y,"class","svelte-11bttyh")},m(j,D){g(j,e,D),c(e,l),c(e,n),c(e,i),c(i,s),g(j,r,D),g(j,a,D),c(a,u),c(a,_),c(a,d),c(d,m),g(j,$,D),g(j,S,D),c(S,w),c(S,C),c(S,v),c(v,y)},p(j,D){var H,O,R;D&2&&o!==(o=((H=j[1])==null?void 0:H.statGen_Roll[B.Candor])??-2)&&s.value!==o&&(s.value=o),D&2&&f!==(f=((O=j[1])==null?void 0:O.statGen_Roll[B.Conscious])??-2)&&m.value!==f&&(m.value=f),D&2&&L!==(L=((R=j[1])==null?void 0:R.statGen_Roll[B.Cunning])??-2)&&y.value!==L&&(y.value=L)},d(j){j&&(b(e),b(r),b(a),b($),b(S))}}}function xo(t){let e,l,n,i,s,o,r,a,u;function _(f,$){var S,w,C;return(((S=f[1])==null?void 0:S.statGen_Roll[B.Might])??-1)+(((w=f[1])==null?void 0:w.statGen_Roll[B.Artifice])??-1)+(((C=f[1])==null?void 0:C.statGen_Roll[B.Tuning])??-1)===2?la:ta}let d=_(t),m=d(t);return{c(){e=h("div"),l=h("div"),n=h("button"),n.textContent="Roll 5d3",i=T(" => "),s=h("input"),o=k(),r=h("table"),m.c(),p(s,"type","string"),s.value=t[5],s.disabled=!0,p(s,"class","svelte-11bttyh"),p(l,"class","sheet-row svelte-11bttyh"),p(r,"class","svelte-11bttyh"),p(e,"class","sheet-section svelte-11bttyh")},m(f,$){g(f,e,$),c(e,l),c(l,n),c(l,i),c(l,s),c(e,o),c(e,r),m.m(r,null),a||(u=V(n,"click",t[8]),a=!0)},p(f,$){$&32&&s.value!==f[5]&&(s.value=f[5]),d===(d=_(f))&&m?m.p(f,$):(m.d(1),m=d(f),m&&(m.c(),m.m(r,null)))},d(f){f&&b(e),m.d(),a=!1,u()}}}function ea(t){let e,l,n,i,s=5-t[6]+"",o,r,a,u,_,d,m,f,$,S,w,C,v,y,L,j,D,H,O,R,W,M;return{c(){e=h("div"),l=h("div"),n=T("Points remaining: "),i=h("span"),o=T(s),r=k(),a=h("table"),u=h("tr"),_=h("td"),_.innerHTML='<label for="stat-might-input">Might</label>',d=k(),m=h("td"),f=h("input"),$=k(),S=h("tr"),w=h("td"),w.innerHTML='<label for="stat-artifice-input">Artifice</label>',C=k(),v=h("td"),y=h("input"),L=k(),j=h("tr"),D=h("td"),D.innerHTML='<label for="stat-tuning-input">Tuning</label>',H=k(),O=h("td"),R=h("input"),p(i,"class","svelte-11bttyh"),ie(i,"red",t[6]>5),p(l,"class","sheet-row svelte-11bttyh"),p(f,"id","stat-might-input"),p(f,"type","number"),p(f,"class","svelte-11bttyh"),p(y,"id","stat-artifice-input"),p(y,"type","number"),p(y,"class","svelte-11bttyh"),p(R,"id","stat-tuning-input"),p(R,"type","number"),p(R,"class","svelte-11bttyh"),p(a,"class","svelte-11bttyh"),p(e,"class","sheet-section svelte-11bttyh")},m(G,K){g(G,e,K),c(e,l),c(l,n),c(l,i),c(i,o),c(e,r),c(e,a),c(a,u),c(u,_),c(u,d),c(u,m),c(m,f),oe(f,t[1].statGen_Manual[B.Might]),c(a,$),c(a,S),c(S,w),c(S,C),c(S,v),c(v,y),oe(y,t[1].statGen_Manual[B.Artifice]),c(a,L),c(a,j),c(j,D),c(j,H),c(j,O),c(O,R),oe(R,t[1].statGen_Manual[B.Tuning]),W||(M=[V(f,"input",t[18]),V(y,"input",t[19]),V(R,"input",t[20])],W=!0)},p(G,K){K&64&&s!==(s=5-G[6]+"")&&z(o,s),K&64&&ie(i,"red",G[6]>5),K&2&&vt(f.value)!==G[1].statGen_Manual[B.Might]&&oe(f,G[1].statGen_Manual[B.Might]),K&2&&vt(y.value)!==G[1].statGen_Manual[B.Artifice]&&oe(y,G[1].statGen_Manual[B.Artifice]),K&2&&vt(R.value)!==G[1].statGen_Manual[B.Tuning]&&oe(R,G[1].statGen_Manual[B.Tuning])},d(G){G&&b(e),W=!1,Oe(M)}}}function ta(t){let e;return{c(){e=T("Stats Not Rolled Yet")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function la(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S,w,C;return{c(){var v,y,L;e=h("tr"),l=h("td"),l.innerHTML='<label for="stat-might-input">Might</label>',n=h("td"),i=h("input"),o=k(),r=h("tr"),a=h("td"),a.innerHTML='<label for="stat-artifice-input">Artifice</label>',u=h("td"),_=h("input"),m=k(),f=h("tr"),$=h("td"),$.innerHTML='<label for="stat-tuning-input">Tuning</label>',S=h("td"),w=h("input"),p(i,"id","stat-might-input"),p(i,"type","number"),i.value=s=((v=t[1])==null?void 0:v.statGen_Roll[B.Might])??-2,p(i,"class","svelte-11bttyh"),p(_,"id","stat-artifice-input"),p(_,"type","number"),_.value=d=((y=t[1])==null?void 0:y.statGen_Roll[B.Artifice])??-2,p(_,"class","svelte-11bttyh"),p(w,"id","stat-tuning-input"),p(w,"type","number"),w.value=C=((L=t[1])==null?void 0:L.statGen_Roll[B.Tuning])??-2,p(w,"class","svelte-11bttyh")},m(v,y){g(v,e,y),c(e,l),c(e,n),c(n,i),g(v,o,y),g(v,r,y),c(r,a),c(r,u),c(u,_),g(v,m,y),g(v,f,y),c(f,$),c(f,S),c(S,w)},p(v,y){var L,j,D;y&2&&s!==(s=((L=v[1])==null?void 0:L.statGen_Roll[B.Might])??-2)&&i.value!==s&&(i.value=s),y&2&&d!==(d=((j=v[1])==null?void 0:j.statGen_Roll[B.Artifice])??-2)&&_.value!==d&&(_.value=d),y&2&&C!==(C=((D=v[1])==null?void 0:D.statGen_Roll[B.Tuning])??-2)&&w.value!==C&&(w.value=C)},d(v){v&&(b(e),b(o),b(r),b(m),b(f))}}}function na(t){let e;function l(s,o){return s[2]?Ko:!s[0]||!s[1]?Jo:Yo}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:I,o:I,d(s){s&&b(e),i.d(s)}}}function ia(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,W=>l(1,n=W)),r);t.$$.on_destroy.push(()=>i());let o,{character:r}=e;s(),Qt(async()=>{if(!r){l(2,o="Failed to load character");return}});let a,u="";function _(){l(9,a=Array.from({length:5},()=>Math.floor(Math.random()*3)+1))}let d=0,m,f="";function $(){l(10,m=Array.from({length:5},()=>Math.floor(Math.random()*3)+1))}let S=0;const w=()=>{qe(r,n.socialStatGenMethod=it.Manual,n)},C=()=>{qe(r,n.socialStatGenMethod=it.Roll,n)};function v(){n.statGen_Manual[B.Candor]=vt(this.value),r.set(n)}function y(){n.statGen_Manual[B.Conscious]=vt(this.value),r.set(n)}function L(){n.statGen_Manual[B.Cunning]=vt(this.value),r.set(n)}const j=()=>{qe(r,n.explorationStatGenMethod=it.Manual,n)},D=()=>{qe(r,n.explorationStatGenMethod=it.Roll,n)};function H(){n.statGen_Manual[B.Might]=vt(this.value),r.set(n)}function O(){n.statGen_Manual[B.Artifice]=vt(this.value),r.set(n)}function R(){n.statGen_Manual[B.Tuning]=vt(this.value),r.set(n)}return t.$$set=W=>{"character"in W&&s(l(0,r=W.character))},t.$$.update=()=>{t.$$.dirty&514&&a&&a.length==5&&n&&(qe(r,n.statGen_Roll[B.Candor]=-1+a.filter(W=>W==1).length,n),qe(r,n.statGen_Roll[B.Conscious]=-1+a.filter(W=>W==2).length,n),qe(r,n.statGen_Roll[B.Cunning]=-1+a.filter(W=>W==3).length,n),l(3,u=(a==null?void 0:a.join(", "))??"")),t.$$.dirty&2&&n&&(n.socialStatGenMethod===it.Manual?(n.statGen_Manual[B.Candor]==null&&qe(r,n.statGen_Manual[B.Candor]=-1,n),n.statGen_Manual[B.Conscious]==null&&qe(r,n.statGen_Manual[B.Conscious]=-1,n),n.statGen_Manual[B.Cunning]==null&&qe(r,n.statGen_Manual[B.Cunning]=-1,n),l(4,d=3+(n.statGen_Manual[B.Candor]??-1)+(n.statGen_Manual[B.Conscious]??-1)+(n.statGen_Manual[B.Cunning]??-1))):(n==null?void 0:n.socialStatGenMethod)===it.Roll&&l(4,d=3+((n==null?void 0:n.statGen_Roll[B.Candor])??-1)+((n==null?void 0:n.statGen_Roll[B.Conscious])??-1)+((n==null?void 0:n.statGen_Roll[B.Cunning])??-1))),t.$$.dirty&1026&&m&&m.length==5&&n&&(qe(r,n.statGen_Roll[B.Might]=-1+m.filter(W=>W==1).length,n),qe(r,n.statGen_Roll[B.Artifice]=-1+m.filter(W=>W==2).length,n),qe(r,n.statGen_Roll[B.Tuning]=-1+m.filter(W=>W==3).length,n),l(5,f=(m==null?void 0:m.join(", "))??"")),t.$$.dirty&2&&n&&(n.socialStatGenMethod===it.Manual?(n.statGen_Manual[B.Might]==null&&qe(r,n.statGen_Manual[B.Might]=-1,n),n.statGen_Manual[B.Artifice]==null&&qe(r,n.statGen_Manual[B.Artifice]=-1,n),n.statGen_Manual[B.Tuning]==null&&qe(r,n.statGen_Manual[B.Tuning]=-1,n),l(6,S=3+(n.statGen_Manual[B.Might]??-1)+(n.statGen_Manual[B.Artifice]??-1)+(n.statGen_Manual[B.Tuning]??-1))):(n==null?void 0:n.socialStatGenMethod)===it.Roll&&l(6,S=3+(n.statGen_Roll[B.Might]??-1)+(n.statGen_Roll[B.Artifice]??-1)+(n.statGen_Roll[B.Tuning]??-1)))},[r,n,o,u,d,f,S,_,$,a,m,w,C,v,y,L,j,D,H,O,R]}class sa extends Le{constructor(e){super(),Ae(this,e,ia,na,Se,{character:0})}}function ra(t){let e,l,n,i;return n=new El({props:{$$slots:{default:[fa]},$$scope:{ctx:t}}}),{c(){e=h("div"),e.innerHTML="<h1>Character Builder</h1>",l=k(),J(n.$$.fragment),p(e,"class","sheet-block svelte-65oskt"),Q(e,"display","flex"),Q(e,"flex-direction","row"),Q(e,"flex-wrap","nowrap"),Q(e,"flex-grow","1")},m(s,o){g(s,e,o),g(s,l,o),q(n,s,o),i=!0},p(s,o){const r={};o&131&&(r.$$scope={dirty:o,ctx:s}),n.$set(r)},i(s){i||(N(n.$$.fragment,s),i=!0)},o(s){E(n.$$.fragment,s),i=!1},d(s){s&&(b(e),b(l)),Y(n,s)}}}function oa(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","sheet-block svelte-65oskt")},m(l,n){g(l,e,n)},p:I,i:I,o:I,d(l){l&&b(e)}}}function aa(t){let e,l,n,i,s,o;return{c(){e=h("div"),l=h("h2"),l.textContent="Cannot Load Social Stats",n=k(),i=h("p"),s=T("Error: "),o=T(t[2]),p(e,"class","sheet-block svelte-65oskt")},m(r,a){g(r,e,a),c(e,l),c(e,n),c(e,i),c(i,s),c(i,o)},p(r,a){a&4&&z(o,r[2])},i:I,o:I,d(r){r&&b(e)}}}function ca(t){let e,l,n,i;function s(a){t[4](a)}function o(a){t[5](a)}let r={};return t[0]!==void 0&&(r.id=t[0]),t[1]!==void 0&&(r.character=t[1]),e=new qo({props:r}),we.push(()=>Ze(e,"id",s)),we.push(()=>Ze(e,"character",o)),{c(){J(e.$$.fragment)},m(a,u){q(e,a,u),i=!0},p(a,u){const _={};!l&&u&1&&(l=!0,_.id=a[0],Xe(()=>l=!1)),!n&&u&2&&(n=!0,_.character=a[1],Xe(()=>n=!1)),e.$set(_)},i(a){i||(N(e.$$.fragment,a),i=!0)},o(a){E(e.$$.fragment,a),i=!1},d(a){Y(e,a)}}}function ua(t){let e,l,n;function i(o){t[6](o)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new sa({props:s}),we.push(()=>Ze(e,"character",i)),{c(){J(e.$$.fragment)},m(o,r){q(e,o,r),n=!0},p(o,r){const a={};!l&&r&2&&(l=!0,a.character=o[1],Xe(()=>l=!1)),e.$set(a)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function fa(t){let e,l,n,i;return e=new dt({props:{path:"/",$$slots:{default:[ca]},$$scope:{ctx:t}}}),n=new dt({props:{path:"/stats",$$slots:{default:[ua]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),l=k(),J(n.$$.fragment)},m(s,o){q(e,s,o),g(s,l,o),q(n,s,o),i=!0},p(s,o){const r={};o&131&&(r.$$scope={dirty:o,ctx:s}),e.$set(r);const a={};o&130&&(a.$$scope={dirty:o,ctx:s}),n.$set(a)},i(s){i||(N(e.$$.fragment,s),N(n.$$.fragment,s),i=!0)},o(s){E(e.$$.fragment,s),E(n.$$.fragment,s),i=!1},d(s){s&&b(l),Y(e,s),Y(n,s)}}}function _a(t){let e,l,n,i;const s=[aa,oa,ra],o=[];function r(a,u){return a[2]?0:!a[1]||a[3]==null?1:2}return e=r(t),l=o[e]=s[e](t),{c(){l.c(),n=he()},m(a,u){o[e].m(a,u),g(a,n,u),i=!0},p(a,[u]){let _=e;e=r(a),e===_?o[e].p(a,u):(st(),E(o[_],1,1,()=>{o[_]=null}),rt(),l=o[e],l?l.p(a,u):(l=o[e]=s[e](a),l.c()),N(l,1),l.m(n.parentNode,n))},i(a){i||(N(l),i=!0)},o(a){E(l),i=!1},d(a){a&&b(n),o[e].d(a)}}}function pa(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,m=>l(3,n=m)),r);t.$$.on_destroy.push(()=>i());let{id:o}=e,{character:r}=e;s();let a;Qt(async()=>{l(2,a=r||n==null?void 0:"Failed to load character")});function u(m){o=m,l(0,o)}function _(m){r=m,s(l(1,r))}function d(m){r=m,s(l(1,r))}return t.$$set=m=>{"id"in m&&l(0,o=m.id),"character"in m&&s(l(1,r=m.character))},[o,r,a,n,u,_,d]}class da extends Le{constructor(e){super(),Ae(this,e,pa,_a,Se,{id:0,character:1})}}function Bi(t){let e;return{c(){e=T(" Build")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function ha(t){let e,l,n,i=t[1]&&Bi();return{c(){e=h("img"),i&&i.c(),n=he(),Ol(e.src,l="/img/icons/HammerIcon.svg")||p(e,"src",l)},m(s,o){g(s,e,o),i&&i.m(s,o),g(s,n,o)},p(s,o){s[1]?i||(i=Bi(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(s){s&&(b(e),b(n)),i&&i.d(s)}}}function Ui(t){let e;return{c(){e=T(" Play")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function ma(t){let e,l,n,i=t[1]&&Ui();return{c(){e=h("img"),i&&i.c(),n=he(),Ol(e.src,l="/img/icons/SwordIcon30.svg")||p(e,"src",l)},m(s,o){g(s,e,o),i&&i.m(s,o),g(s,n,o)},p(s,o){s[1]?i||(i=Ui(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(s){s&&(b(e),b(n)),i&&i.d(s)}}}function ba(t){let e;return{c(){e=T("Summary")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function ga(t){let e;return{c(){e=T("Stats")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function va(t){let e;return{c(){e=T("Archetype")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function ka(t){let e;return{c(){e=T("Background")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function $a(t){let e,l,n,i,s,o,r,a,u;return l=new kt({props:{to:"/character/"+t[0]+"/build",getProps:sl,$$slots:{default:[ba]},$$scope:{ctx:t}}}),i=new kt({props:{to:"/character/"+t[0]+"/build/stats",getProps:sl,$$slots:{default:[ga]},$$scope:{ctx:t}}}),o=new kt({props:{to:"/character/"+t[0]+"/build/archetype",getProps:sl,$$slots:{default:[va]},$$scope:{ctx:t}}}),a=new kt({props:{to:"/character/"+t[0]+"/build/background",getProps:sl,$$slots:{default:[ka]},$$scope:{ctx:t}}}),{c(){e=h("div"),J(l.$$.fragment),n=k(),J(i.$$.fragment),s=k(),J(o.$$.fragment),r=k(),J(a.$$.fragment),p(e,"class","toggle-bg-v"),ie(e,"slim",!t[1])},m(_,d){g(_,e,d),q(l,e,null),c(e,n),q(i,e,null),c(e,s),q(o,e,null),c(e,r),q(a,e,null),u=!0},p(_,d){const m={};d&1&&(m.to="/character/"+_[0]+"/build"),d&16&&(m.$$scope={dirty:d,ctx:_}),l.$set(m);const f={};d&1&&(f.to="/character/"+_[0]+"/build/stats"),d&16&&(f.$$scope={dirty:d,ctx:_}),i.$set(f);const $={};d&1&&($.to="/character/"+_[0]+"/build/archetype"),d&16&&($.$$scope={dirty:d,ctx:_}),o.$set($);const S={};d&1&&(S.to="/character/"+_[0]+"/build/background"),d&16&&(S.$$scope={dirty:d,ctx:_}),a.$set(S),(!u||d&2)&&ie(e,"slim",!_[1])},i(_){u||(N(l.$$.fragment,_),N(i.$$.fragment,_),N(o.$$.fragment,_),N(a.$$.fragment,_),u=!0)},o(_){E(l.$$.fragment,_),E(i.$$.fragment,_),E(o.$$.fragment,_),E(a.$$.fragment,_),u=!1},d(_){_&&b(e),Y(l),Y(i),Y(o),Y(a)}}}function zi(t){let e;return{c(){e=T(" Status")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function wa(t){let e,l,n,i=t[1]&&zi();return{c(){e=h("img"),i&&i.c(),n=he(),Ol(e.src,l="/img/icons/HeartIcon.svg")||p(e,"src",l)},m(s,o){g(s,e,o),i&&i.m(s,o),g(s,n,o)},p(s,o){s[1]?i||(i=zi(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(s){s&&(b(e),b(n)),i&&i.d(s)}}}function qi(t){let e;return{c(){e=T(" Social")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Sa(t){let e,l,n,i=t[1]&&qi();return{c(){e=h("img"),i&&i.c(),n=he(),Ol(e.src,l="/img/icons/SocialIcon.svg")||p(e,"src",l)},m(s,o){g(s,e,o),i&&i.m(s,o),g(s,n,o)},p(s,o){s[1]?i||(i=qi(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(s){s&&(b(e),b(n)),i&&i.d(s)}}}function Yi(t){let e;return{c(){e=T(" Exploration")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function ya(t){let e,l,n,i=t[1]&&Yi();return{c(){e=h("img"),i&&i.c(),n=he(),Ol(e.src,l="/img/icons/MapIcon.svg")||p(e,"src",l)},m(s,o){g(s,e,o),i&&i.m(s,o),g(s,n,o)},p(s,o){s[1]?i||(i=Yi(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(s){s&&(b(e),b(n)),i&&i.d(s)}}}function Ca(t){let e;return{c(){e=T("Actions")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Ma(t){let e;return{c(){e=T("Inventory")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Pa(t){let e,l,n,i,s,o,r,a,u,_,d;return l=new kt({props:{to:"/character/"+t[0]+"/play",getProps:sl,$$slots:{default:[wa]},$$scope:{ctx:t}}}),i=new kt({props:{to:"/character/"+t[0]+"/play/social",getProps:sl,$$slots:{default:[Sa]},$$scope:{ctx:t}}}),o=new kt({props:{to:"/character/"+t[0]+"/play/exploration",getProps:sl,$$slots:{default:[ya]},$$scope:{ctx:t}}}),a=new kt({props:{to:"/character/"+t[0]+"/play/skills",getProps:sl,$$slots:{default:[Ca]},$$scope:{ctx:t}}}),_=new kt({props:{to:"/character/"+t[0]+"/play/inventory",getProps:sl,$$slots:{default:[Ma]},$$scope:{ctx:t}}}),{c(){e=h("div"),J(l.$$.fragment),n=k(),J(i.$$.fragment),s=k(),J(o.$$.fragment),r=k(),J(a.$$.fragment),u=k(),J(_.$$.fragment),p(e,"class","toggle-bg-v"),ie(e,"slim",!t[1])},m(m,f){g(m,e,f),q(l,e,null),c(e,n),q(i,e,null),c(e,s),q(o,e,null),c(e,r),q(a,e,null),c(e,u),q(_,e,null),d=!0},p(m,f){const $={};f&1&&($.to="/character/"+m[0]+"/play"),f&18&&($.$$scope={dirty:f,ctx:m}),l.$set($);const S={};f&1&&(S.to="/character/"+m[0]+"/play/social"),f&18&&(S.$$scope={dirty:f,ctx:m}),i.$set(S);const w={};f&1&&(w.to="/character/"+m[0]+"/play/exploration"),f&18&&(w.$$scope={dirty:f,ctx:m}),o.$set(w);const C={};f&1&&(C.to="/character/"+m[0]+"/play/skills"),f&16&&(C.$$scope={dirty:f,ctx:m}),a.$set(C);const v={};f&1&&(v.to="/character/"+m[0]+"/play/inventory"),f&16&&(v.$$scope={dirty:f,ctx:m}),_.$set(v),(!d||f&2)&&ie(e,"slim",!m[1])},i(m){d||(N(l.$$.fragment,m),N(i.$$.fragment,m),N(o.$$.fragment,m),N(a.$$.fragment,m),N(_.$$.fragment,m),d=!0)},o(m){E(l.$$.fragment,m),E(i.$$.fragment,m),E(o.$$.fragment,m),E(a.$$.fragment,m),E(_.$$.fragment,m),d=!1},d(m){m&&b(e),Y(l),Y(i),Y(o),Y(a),Y(_)}}}function Aa(t){let e,l,n,i;return e=new dt({props:{path:"/build/*",$$slots:{default:[$a]},$$scope:{ctx:t}}}),n=new dt({props:{path:"/play/*",$$slots:{default:[Pa]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),l=k(),J(n.$$.fragment)},m(s,o){q(e,s,o),g(s,l,o),q(n,s,o),i=!0},p(s,o){const r={};o&19&&(r.$$scope={dirty:o,ctx:s}),e.$set(r);const a={};o&19&&(a.$$scope={dirty:o,ctx:s}),n.$set(a)},i(s){i||(N(e.$$.fragment,s),N(n.$$.fragment,s),i=!0)},o(s){E(e.$$.fragment,s),E(n.$$.fragment,s),i=!1},d(s){s&&b(l),Y(e,s),Y(n,s)}}}function La(t){let e,l,n,i,s=t[1]?"<":">",o,r,a,u,_,d,m,f,$,S,w;return u=new kt({props:{to:"/character/"+t[0]+"/build",getProps:Ji,$$slots:{default:[ha]},$$scope:{ctx:t}}}),d=new kt({props:{to:"/character/"+t[0]+"/play",getProps:Ji,$$slots:{default:[ma]},$$scope:{ctx:t}}}),f=new El({props:{$$slots:{default:[Aa]},$$scope:{ctx:t}}}),{c(){e=h("div"),l=h("nav"),n=h("div"),i=h("button"),o=T(s),r=k(),a=h("div"),J(u.$$.fragment),_=k(),J(d.$$.fragment),m=k(),J(f.$$.fragment),p(n,"class","toggle-bg-v slim"),Q(n,"margin-bottom","12px"),p(a,"class","toggle-bg-v"),Q(a,"margin-bottom","12px"),ie(a,"slim",!t[1]),p(l,"id","character-menu"),p(l,"class","svelte-5v9b6e"),p(e,"class","contents svelte-5v9b6e"),ie(e,"slim",!t[1])},m(C,v){g(C,e,v),c(e,l),c(l,n),c(n,i),c(i,o),c(l,r),c(l,a),q(u,a,null),c(a,_),q(d,a,null),c(l,m),q(f,l,null),$=!0,S||(w=V(i,"click",t[2]),S=!0)},p(C,[v]){(!$||v&2)&&s!==(s=C[1]?"<":">")&&z(o,s);const y={};v&1&&(y.to="/character/"+C[0]+"/build"),v&18&&(y.$$scope={dirty:v,ctx:C}),u.$set(y);const L={};v&1&&(L.to="/character/"+C[0]+"/play"),v&18&&(L.$$scope={dirty:v,ctx:C}),d.$set(L),(!$||v&2)&&ie(a,"slim",!C[1]);const j={};v&19&&(j.$$scope={dirty:v,ctx:C}),f.$set(j),(!$||v&2)&&ie(e,"slim",!C[1])},i(C){$||(N(u.$$.fragment,C),N(d.$$.fragment,C),N(f.$$.fragment,C),$=!0)},o(C){E(u.$$.fragment,C),E(d.$$.fragment,C),E(f.$$.fragment,C),$=!1},d(C){C&&b(e),Y(u),Y(d),Y(f),S=!1,w()}}}function Ji(t){let{location:e,href:l,isPartiallyCurrent:n,isCurrent:i}=t;return i||n?{class:"active"}:{class:""}}function sl(t){let{location:e,href:l,isPartiallyCurrent:n,isCurrent:i}=t;return i?{class:"active"}:{class:""}}function Ga(t,e,l){let{id:n=rn}=e,i=!1;const s=()=>l(1,i=!i);return t.$$set=o=>{"id"in o&&l(0,n=o.id)},t.$$.update=()=>{t.$$.dirty&1&&console.log("id = '"+n+"'"),t.$$.dirty&1&&(n=="local"||Ts(n))},[n,i,s]}class Ta extends Le{constructor(e){super(),Ae(this,e,Ga,La,Se,{id:0})}}function Ki(t,e,l){const n=t.slice();return n[5]=e[l],n[6]=e,n[7]=l,n}function Vi(t,e,l){const n=t.slice();return n[5]=e[l],n[8]=e,n[9]=l,n}function Qi(t,e,l){const n=t.slice();return n[10]=e[l],n}function Ra(t){let e,l,n,i,s,o,r,a,u,_=le(vn),d=[];for(let w=0;w<_.length;w+=1)d[w]=Xi(Qi(t,_,w));let m=le(Object.keys(t[2].socialSkills).slice(0,3)),f=[];for(let w=0;w<m.length;w+=1)f[w]=Zi(Vi(t,m,w));let $=le(Object.keys(t[2].socialSkills).slice(3)),S=[];for(let w=0;w<$.length;w+=1)S[w]=xi(Ki(t,$,w));return{c(){e=h("div"),l=h("h4"),l.textContent="Social Stats",n=k();for(let w=0;w<d.length;w+=1)d[w].c();i=k(),s=h("h4"),s.textContent="Social Skills",o=k();for(let w=0;w<f.length;w+=1)f[w].c();r=k(),a=h("div"),u=k();for(let w=0;w<S.length;w+=1)S[w].c();p(l,"class","svelte-1simppk"),p(s,"class","svelte-1simppk"),p(a,"class","grid-divider svelte-1simppk"),p(e,"class","skill-grid svelte-1simppk")},m(w,C){g(w,e,C),c(e,l),c(e,n);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(e,null);c(e,i),c(e,s),c(e,o);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(e,null);c(e,r),c(e,a),c(e,u);for(let v=0;v<S.length;v+=1)S[v]&&S[v].m(e,null)},p(w,C){if(C&4){_=le(vn);let v;for(v=0;v<_.length;v+=1){const y=Qi(w,_,v);d[v]?d[v].p(y,C):(d[v]=Xi(y),d[v].c(),d[v].m(e,i))}for(;v<d.length;v+=1)d[v].d(1);d.length=_.length}if(C&4){m=le(Object.keys(w[2].socialSkills).slice(0,3));let v;for(v=0;v<m.length;v+=1){const y=Vi(w,m,v);f[v]?f[v].p(y,C):(f[v]=Zi(y),f[v].c(),f[v].m(e,r))}for(;v<f.length;v+=1)f[v].d(1);f.length=m.length}if(C&4){$=le(Object.keys(w[2].socialSkills).slice(3));let v;for(v=0;v<$.length;v+=1){const y=Ki(w,$,v);S[v]?S[v].p(y,C):(S[v]=xi(y),S[v].c(),S[v].m(e,null))}for(;v<S.length;v+=1)S[v].d(1);S.length=$.length}},d(w){w&&b(e),We(d,w),We(f,w),We(S,w)}}}function ja(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","sheet-block")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function Na(t){let e,l,n,i,s,o;return{c(){e=h("div"),l=h("h2"),l.textContent="Cannot Load Social Stats",n=k(),i=h("p"),s=T("Error: "),o=T(t[1]),p(e,"class","sheet-block")},m(r,a){g(r,e,a),c(e,l),c(e,n),c(e,i),c(i,s),c(i,o)},p(r,a){a&2&&z(o,r[1])},d(r){r&&b(e)}}}function Xi(t){let e,l,n=Ll(t[2].GetStat(t[10]))+"",i,s,o,r;return{c(){e=h("div"),l=h("button"),i=T(n),s=k(),o=h("p"),r=h("b"),r.textContent=`${t[10]}`,p(l,"class","passive-button svelte-1simppk"),Q(o,"text-align","center"),p(o,"class","svelte-1simppk"),p(e,"class","skill-cell svelte-1simppk")},m(a,u){g(a,e,u),c(e,l),c(l,i),c(e,s),c(e,o),c(o,r)},p(a,u){u&4&&n!==(n=Ll(a[2].GetStat(a[10]))+"")&&z(i,n)},d(a){a&&b(e)}}}function Zi(t){let e,l,n,i,s,o,r=Ll(t[2].GetSocialSkill(t[5]))+"",a,u,_,d=t[5]+"",m,f="+".repeat(t[2].socialSkills[t[5]].points)+"",$,S,w;function C(){t[3].call(i,t[5])}return{c(){e=h("div"),l=h("div"),n=h("label"),i=h("input"),s=k(),o=h("button"),a=T(r),u=k(),_=h("p"),m=T(d),$=T(f),p(i,"type","checkbox"),p(i,"class","svelte-1simppk"),p(n,"class","inspiration-check svelte-1simppk"),ie(n,"checked",t[2].socialSkills[t[5]].inspiration),p(o,"class","skill-button svelte-1simppk"),p(l,"class","skill-cell-row svelte-1simppk"),p(_,"class","svelte-1simppk"),p(e,"class","skill-cell svelte-1simppk")},m(v,y){g(v,e,y),c(e,l),c(l,n),c(n,i),i.checked=t[2].socialSkills[t[5]].inspiration,c(l,s),c(l,o),c(o,a),c(e,u),c(e,_),c(_,m),c(_,$),S||(w=V(i,"change",C),S=!0)},p(v,y){t=v,y&4&&(i.checked=t[2].socialSkills[t[5]].inspiration),y&4&&ie(n,"checked",t[2].socialSkills[t[5]].inspiration),y&4&&r!==(r=Ll(t[2].GetSocialSkill(t[5]))+"")&&z(a,r),y&4&&d!==(d=t[5]+"")&&z(m,d),y&4&&f!==(f="+".repeat(t[2].socialSkills[t[5]].points)+"")&&z($,f)},d(v){v&&b(e),S=!1,w()}}}function xi(t){let e,l,n,i,s,o,r=Ll(t[2].GetSocialSkill(t[5]))+"",a,u,_,d=t[5]+"",m,f="+".repeat(t[2].socialSkills[t[5]].points)+"",$,S,w,C;function v(){t[4].call(i,t[5])}return{c(){e=h("div"),l=h("div"),n=h("label"),i=h("input"),s=k(),o=h("button"),a=T(r),u=k(),_=h("p"),m=T(d),$=T(f),S=k(),p(i,"type","checkbox"),p(i,"class","svelte-1simppk"),p(n,"class","inspiration-check svelte-1simppk"),ie(n,"checked",t[2].socialSkills[t[5]].inspiration),p(o,"class","skill-button svelte-1simppk"),p(l,"class","skill-cell-row svelte-1simppk"),p(_,"class","svelte-1simppk"),p(e,"class","skill-cell svelte-1simppk")},m(y,L){g(y,e,L),c(e,l),c(l,n),c(n,i),i.checked=t[2].socialSkills[t[5]].inspiration,c(l,s),c(l,o),c(o,a),c(e,u),c(e,_),c(_,m),c(_,$),c(e,S),w||(C=V(i,"change",v),w=!0)},p(y,L){t=y,L&4&&(i.checked=t[2].socialSkills[t[5]].inspiration),L&4&&ie(n,"checked",t[2].socialSkills[t[5]].inspiration),L&4&&r!==(r=Ll(t[2].GetSocialSkill(t[5]))+"")&&z(a,r),L&4&&d!==(d=t[5]+"")&&z(m,d),L&4&&f!==(f="+".repeat(t[2].socialSkills[t[5]].points)+"")&&z($,f)},d(y){y&&b(e),w=!1,C()}}}function Oa(t){let e;function l(s,o){return s[1]?Na:!s[0]||s[2]==null?ja:Ra}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:I,o:I,d(s){s&&b(e),i.d(s)}}}function Ll(t){return t<-1?"--":(t<0?"":"+")+t}function Ea(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,_=>l(2,n=_)),r);t.$$.on_destroy.push(()=>i());let o,{character:r}=e;s(),Qt(async()=>{if(!r){l(1,o="Failed to load character");return}});function a(_){n.socialSkills[_].inspiration=this.checked,r.set(n)}function u(_){n.socialSkills[_].inspiration=this.checked,r.set(n)}return t.$$set=_=>{"character"in _&&s(l(0,r=_.character))},[r,o,n,a,u]}class Ia extends Le{constructor(e){super(),Ae(this,e,Ea,Oa,Se,{character:0})}}function Ha(t){let e,l,n,i;function s(r){t[4](r)}let o={};return t[0]!==void 0&&(o.character=t[0]),e=new Ia({props:o}),we.push(()=>Ze(e,"character",s)),{c(){J(e.$$.fragment),n=T(`

    Social Feat/Abilities Here.`)},m(r,a){q(e,r,a),g(r,n,a),i=!0},p(r,a){const u={};!l&&a&1&&(l=!0,u.character=r[0],Xe(()=>l=!1)),e.$set(u)},i(r){i||(N(e.$$.fragment,r),i=!0)},o(r){E(e.$$.fragment,r),i=!1},d(r){r&&b(n),Y(e,r)}}}function Fa(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","page")},m(l,n){g(l,e,n)},p:I,i:I,o:I,d(l){l&&b(e)}}}function Da(t){let e,l;return{c(){e=h("div"),l=T(t[1]),p(e,"class","sheet-block")},m(n,i){g(n,e,i),c(e,l)},p(n,i){i&2&&z(l,n[1])},i:I,o:I,d(n){n&&b(e)}}}function Wa(t){let e,l,n,i;const s=[Da,Fa,Ha],o=[];function r(a,u){return a[1]?0:!a[0]||a[2]==null?1:2}return e=r(t),l=o[e]=s[e](t),{c(){l.c(),n=he()},m(a,u){o[e].m(a,u),g(a,n,u),i=!0},p(a,[u]){let _=e;e=r(a),e===_?o[e].p(a,u):(st(),E(o[_],1,1,()=>{o[_]=null}),rt(),l=o[e],l?l.p(a,u):(l=o[e]=s[e](a),l.c()),N(l,1),l.m(n.parentNode,n))},i(a){i||(N(l),i=!0)},o(a){E(l),i=!1},d(a){a&&b(n),o[e].d(a)}}}function Ba(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,_=>l(2,n=_)),r);t.$$.on_destroy.push(()=>i());let{id:o}=e,{character:r}=e;s();let a;Qt(async()=>{l(1,a=r||n==null?void 0:"Failed to load character")});function u(_){r=_,s(l(0,r))}return t.$$set=_=>{"id"in _&&l(3,o=_.id),"character"in _&&s(l(0,r=_.character))},[r,a,n,o,u]}class Ua extends Le{constructor(e){super(),Ae(this,e,Ba,Wa,Se,{id:3,character:0})}}function es(t,e,l){const n=t.slice();return n[3]=e[l],n}function ts(t,e,l){const n=t.slice();return n[3]=e[l],n}function ls(t,e,l){const n=t.slice();return n[8]=e[l],n}function za(t){let e,l,n,i,s,o,r,a,u,_=le(xn),d=[];for(let w=0;w<_.length;w+=1)d[w]=ns(ls(t,_,w));let m=le(Object.keys(t[2].explorationSkills).slice(0,6)),f=[];for(let w=0;w<m.length;w+=1)f[w]=is(ts(t,m,w));let $=le(Object.keys(t[2].explorationSkills).slice(6)),S=[];for(let w=0;w<$.length;w+=1)S[w]=ss(es(t,$,w));return{c(){e=h("div"),l=h("h2"),l.textContent="Exploration Skills",n=k();for(let w=0;w<d.length;w+=1)d[w].c();i=k(),s=h("h4"),s.textContent="Major Skills",o=k();for(let w=0;w<f.length;w+=1)f[w].c();r=k(),a=h("h4"),a.textContent="Minor Skills",u=k();for(let w=0;w<S.length;w+=1)S[w].c();p(l,"class","svelte-hdjlid"),p(s,"class","svelte-hdjlid"),p(a,"class","svelte-hdjlid"),p(e,"class","skill-grid svelte-hdjlid")},m(w,C){g(w,e,C),c(e,l),c(e,n);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(e,null);c(e,i),c(e,s),c(e,o);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(e,null);c(e,r),c(e,a),c(e,u);for(let v=0;v<S.length;v+=1)S[v]&&S[v].m(e,null)},p(w,C){if(C&4){_=le(xn);let v;for(v=0;v<_.length;v+=1){const y=ls(w,_,v);d[v]?d[v].p(y,C):(d[v]=ns(y),d[v].c(),d[v].m(e,i))}for(;v<d.length;v+=1)d[v].d(1);d.length=_.length}if(C&4){m=le(Object.keys(w[2].explorationSkills).slice(0,6));let v;for(v=0;v<m.length;v+=1){const y=ts(w,m,v);f[v]?f[v].p(y,C):(f[v]=is(y),f[v].c(),f[v].m(e,r))}for(;v<f.length;v+=1)f[v].d(1);f.length=m.length}if(C&4){$=le(Object.keys(w[2].explorationSkills).slice(6));let v;for(v=0;v<$.length;v+=1){const y=es(w,$,v);S[v]?S[v].p(y,C):(S[v]=ss(y),S[v].c(),S[v].m(e,null))}for(;v<S.length;v+=1)S[v].d(1);S.length=$.length}},d(w){w&&b(e),We(d,w),We(f,w),We(S,w)}}}function qa(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","sheet-block")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function Ya(t){let e,l,n,i,s,o;return{c(){e=h("div"),l=h("h2"),l.textContent="Cannot Load Social Stats",n=k(),i=h("p"),s=T("Error: "),o=T(t[1]),p(e,"class","sheet-block")},m(r,a){g(r,e,a),c(e,l),c(e,n),c(e,i),c(i,s),c(i,o)},p(r,a){a&2&&z(o,r[1])},d(r){r&&b(e)}}}function ns(t){let e,l,n,i,s=t[2].GetStatString(t[8])+"",o;return{c(){e=h("div"),l=h("p"),l.textContent=`${t[8]}`,n=k(),i=h("button"),o=T(s),Q(l,"text-align","center"),p(l,"class","svelte-hdjlid"),p(i,"class","passive-button svelte-hdjlid"),p(e,"class","skill-cell svelte-hdjlid")},m(r,a){g(r,e,a),c(e,l),c(e,n),c(e,i),c(i,o)},p(r,a){a&4&&s!==(s=r[2].GetStatString(r[8])+"")&&z(o,s)},d(r){r&&b(e)}}}function is(t){let e,l,n=t[3]+"",i,s,o,r=t[2].GetExplorationSkillString(t[3])+"",a;return{c(){e=h("div"),l=h("p"),i=T(n),s=k(),o=h("button"),a=T(r),p(l,"class","svelte-hdjlid"),p(o,"class","skill-button svelte-hdjlid"),p(e,"class","skill-cell svelte-hdjlid")},m(u,_){g(u,e,_),c(e,l),c(l,i),c(e,s),c(e,o),c(o,a)},p(u,_){_&4&&n!==(n=u[3]+"")&&z(i,n),_&4&&r!==(r=u[2].GetExplorationSkillString(u[3])+"")&&z(a,r)},d(u){u&&b(e)}}}function ss(t){let e,l,n=t[3]+"",i,s,o,r=t[2].GetExplorationSkillString(t[3])+"",a,u;return{c(){e=h("div"),l=h("p"),i=T(n),s=k(),o=h("button"),a=T(r),u=k(),p(l,"class","svelte-hdjlid"),p(o,"class","skill-button svelte-hdjlid"),p(e,"class","skill-cell svelte-hdjlid")},m(_,d){g(_,e,d),c(e,l),c(l,i),c(e,s),c(e,o),c(o,a),c(e,u)},p(_,d){d&4&&n!==(n=_[3]+"")&&z(i,n),d&4&&r!==(r=_[2].GetExplorationSkillString(_[3])+"")&&z(a,r)},d(_){_&&b(e)}}}function Ja(t){let e;function l(s,o){return s[1]?Ya:!s[0]||s[2]==null?qa:za}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:I,o:I,d(s){s&&b(e),i.d(s)}}}function Ka(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,a=>l(2,n=a)),r);t.$$.on_destroy.push(()=>i());let o,{character:r}=e;return s(),Qt(async()=>{if(!r){l(1,o="Failed to load character");return}}),t.$$set=a=>{"character"in a&&s(l(0,r=a.character))},[r,o,n]}class Va extends Le{constructor(e){super(),Ae(this,e,Ka,Ja,Se,{character:0})}}function Qa(t){let e,l,n,i;function s(r){t[4](r)}let o={};return t[0]!==void 0&&(o.character=t[0]),e=new Va({props:o}),we.push(()=>Ze(e,"character",s)),{c(){J(e.$$.fragment),n=T(`

    Exploration Abilities Here.`)},m(r,a){q(e,r,a),g(r,n,a),i=!0},p(r,a){const u={};!l&&a&1&&(l=!0,u.character=r[0],Xe(()=>l=!1)),e.$set(u)},i(r){i||(N(e.$$.fragment,r),i=!0)},o(r){E(e.$$.fragment,r),i=!1},d(r){r&&b(n),Y(e,r)}}}function Xa(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","page")},m(l,n){g(l,e,n)},p:I,i:I,o:I,d(l){l&&b(e)}}}function Za(t){let e,l;return{c(){e=h("div"),l=T(t[1]),p(e,"class","sheet-block")},m(n,i){g(n,e,i),c(e,l)},p(n,i){i&2&&z(l,n[1])},i:I,o:I,d(n){n&&b(e)}}}function xa(t){let e,l,n,i;const s=[Za,Xa,Qa],o=[];function r(a,u){return a[1]?0:!a[0]||a[2]==null?1:2}return e=r(t),l=o[e]=s[e](t),{c(){l.c(),n=he()},m(a,u){o[e].m(a,u),g(a,n,u),i=!0},p(a,[u]){let _=e;e=r(a),e===_?o[e].p(a,u):(st(),E(o[_],1,1,()=>{o[_]=null}),rt(),l=o[e],l?l.p(a,u):(l=o[e]=s[e](a),l.c()),N(l,1),l.m(n.parentNode,n))},i(a){i||(N(l),i=!0)},o(a){E(l),i=!1},d(a){a&&b(n),o[e].d(a)}}}function ec(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,_=>l(2,n=_)),r);t.$$.on_destroy.push(()=>i());let{id:o}=e,{character:r}=e;s();let a;Qt(async()=>{l(1,a=r||n==null?void 0:"Failed to load character")});function u(_){r=_,s(l(0,r))}return t.$$set=_=>{"id"in _&&l(3,o=_.id),"character"in _&&s(l(0,r=_.character))},[r,a,n,o,u]}class tc extends Le{constructor(e){super(),Ae(this,e,ec,xa,Se,{id:3,character:0})}}function lc(t){let e;return{c(){e=T("Summary goes here")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function nc(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","page")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function ic(t){let e,l;return{c(){e=h("div"),l=T(t[1]),p(e,"class","sheet-block")},m(n,i){g(n,e,i),c(e,l)},p(n,i){i&2&&z(l,n[1])},d(n){n&&b(e)}}}function sc(t){let e;function l(s,o){return s[1]?ic:!s[0]||s[2]==null?nc:lc}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:I,o:I,d(s){s&&b(e),i.d(s)}}}function rc(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,u=>l(2,n=u)),r);t.$$.on_destroy.push(()=>i());let{id:o}=e,{character:r}=e;s();let a;return Qt(async()=>{l(1,a=r||n==null?void 0:"Failed to load character")}),t.$$set=u=>{"id"in u&&l(3,o=u.id),"character"in u&&s(l(0,r=u.character))},[r,a,n,o]}class oc extends Le{constructor(e){super(),Ae(this,e,rc,sc,Se,{id:3,character:0})}}function ac(t){let e,l,n,i=(t[3].name&&t[3].name.length>0?t[3].name:"Unnamed Character")+"",s,o,r,a,u,_;return u=new El({props:{$$slots:{default:[dc]},$$scope:{ctx:t}}}),{c(){e=h("div"),l=h("div"),n=h("p"),s=T(i),o=k(),r=h("div"),r.textContent="HP Display",a=k(),J(u.$$.fragment),p(n,"id","name-label"),Q(l,"display","flex"),Q(l,"flex-direction","column"),p(e,"class","sheet-block"),Q(e,"display","flex"),Q(e,"flex-direction","row"),Q(e,"flex-wrap","nowrap"),Q(e,"flex-grow","1")},m(d,m){g(d,e,m),c(e,l),c(l,n),c(n,s),c(e,o),c(e,r),g(d,a,m),q(u,d,m),_=!0},p(d,m){(!_||m&8)&&i!==(i=(d[3].name&&d[3].name.length>0?d[3].name:"Unnamed Character")+"")&&z(s,i);const f={};m&1027&&(f.$$scope={dirty:m,ctx:d}),u.$set(f)},i(d){_||(N(u.$$.fragment,d),_=!0)},o(d){E(u.$$.fragment,d),_=!1},d(d){d&&(b(e),b(a)),Y(u,d)}}}function cc(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",p(e,"class","page")},m(l,n){g(l,e,n)},p:I,i:I,o:I,d(l){l&&b(e)}}}function uc(t){let e,l;return{c(){e=h("div"),l=T(t[2]),p(e,"class","sheet-block")},m(n,i){g(n,e,i),c(e,l)},p(n,i){i&4&&z(l,n[2])},i:I,o:I,d(n){n&&b(e)}}}function fc(t){let e,l,n,i;function s(a){t[4](a)}function o(a){t[5](a)}let r={};return t[0]!==void 0&&(r.id=t[0]),t[1]!==void 0&&(r.character=t[1]),e=new oc({props:r}),we.push(()=>Ze(e,"id",s)),we.push(()=>Ze(e,"character",o)),{c(){J(e.$$.fragment)},m(a,u){q(e,a,u),i=!0},p(a,u){const _={};!l&&u&1&&(l=!0,_.id=a[0],Xe(()=>l=!1)),!n&&u&2&&(n=!0,_.character=a[1],Xe(()=>n=!1)),e.$set(_)},i(a){i||(N(e.$$.fragment,a),i=!0)},o(a){E(e.$$.fragment,a),i=!1},d(a){Y(e,a)}}}function _c(t){let e,l,n,i;function s(a){t[6](a)}function o(a){t[7](a)}let r={};return t[0]!==void 0&&(r.id=t[0]),t[1]!==void 0&&(r.character=t[1]),e=new Ua({props:r}),we.push(()=>Ze(e,"id",s)),we.push(()=>Ze(e,"character",o)),{c(){J(e.$$.fragment)},m(a,u){q(e,a,u),i=!0},p(a,u){const _={};!l&&u&1&&(l=!0,_.id=a[0],Xe(()=>l=!1)),!n&&u&2&&(n=!0,_.character=a[1],Xe(()=>n=!1)),e.$set(_)},i(a){i||(N(e.$$.fragment,a),i=!0)},o(a){E(e.$$.fragment,a),i=!1},d(a){Y(e,a)}}}function pc(t){let e,l,n,i;function s(a){t[8](a)}function o(a){t[9](a)}let r={};return t[0]!==void 0&&(r.id=t[0]),t[1]!==void 0&&(r.character=t[1]),e=new tc({props:r}),we.push(()=>Ze(e,"id",s)),we.push(()=>Ze(e,"character",o)),{c(){J(e.$$.fragment)},m(a,u){q(e,a,u),i=!0},p(a,u){const _={};!l&&u&1&&(l=!0,_.id=a[0],Xe(()=>l=!1)),!n&&u&2&&(n=!0,_.character=a[1],Xe(()=>n=!1)),e.$set(_)},i(a){i||(N(e.$$.fragment,a),i=!0)},o(a){E(e.$$.fragment,a),i=!1},d(a){Y(e,a)}}}function dc(t){let e,l,n,i,s,o;return e=new dt({props:{path:"/",$$slots:{default:[fc]},$$scope:{ctx:t}}}),n=new dt({props:{path:"/social",$$slots:{default:[_c]},$$scope:{ctx:t}}}),s=new dt({props:{path:"/exploration",$$slots:{default:[pc]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),l=k(),J(n.$$.fragment),i=k(),J(s.$$.fragment)},m(r,a){q(e,r,a),g(r,l,a),q(n,r,a),g(r,i,a),q(s,r,a),o=!0},p(r,a){const u={};a&1027&&(u.$$scope={dirty:a,ctx:r}),e.$set(u);const _={};a&1027&&(_.$$scope={dirty:a,ctx:r}),n.$set(_);const d={};a&1027&&(d.$$scope={dirty:a,ctx:r}),s.$set(d)},i(r){o||(N(e.$$.fragment,r),N(n.$$.fragment,r),N(s.$$.fragment,r),o=!0)},o(r){E(e.$$.fragment,r),E(n.$$.fragment,r),E(s.$$.fragment,r),o=!1},d(r){r&&(b(l),b(i)),Y(e,r),Y(n,r),Y(s,r)}}}function hc(t){let e,l,n,i;const s=[uc,cc,ac],o=[];function r(a,u){return a[2]?0:!a[1]||a[3]==null?1:2}return e=r(t),l=o[e]=s[e](t),{c(){l.c(),n=he()},m(a,u){o[e].m(a,u),g(a,n,u),i=!0},p(a,[u]){let _=e;e=r(a),e===_?o[e].p(a,u):(st(),E(o[_],1,1,()=>{o[_]=null}),rt(),l=o[e],l?l.p(a,u):(l=o[e]=s[e](a),l.c()),N(l,1),l.m(n.parentNode,n))},i(a){i||(N(l),i=!0)},o(a){E(l),i=!1},d(a){a&&b(n),o[e].d(a)}}}function mc(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,S=>l(3,n=S)),r);t.$$.on_destroy.push(()=>i());let{id:o}=e,{character:r}=e;s();let a;Qt(async()=>{l(2,a=r||n==null?void 0:"Failed to load character")});function u(S){o=S,l(0,o)}function _(S){r=S,s(l(1,r))}function d(S){o=S,l(0,o)}function m(S){r=S,s(l(1,r))}function f(S){o=S,l(0,o)}function $(S){r=S,s(l(1,r))}return t.$$set=S=>{"id"in S&&l(0,o=S.id),"character"in S&&s(l(1,r=S.character))},[o,r,a,n,u,_,d,m,f,$]}class bc extends Le{constructor(e){super(),Ae(this,e,mc,hc,Se,{id:0,character:1})}}function gc(t){let e,l;return e=new El({props:{$$slots:{default:[wc]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(n,i){q(e,n,i),l=!0},p(n,i){const s={};i&259&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function vc(t){let e;return{c(){e=h("h2"),e.textContent="Loading...",p(e,"class","svelte-lbrrso")},m(l,n){g(l,e,n)},p:I,i:I,o:I,d(l){l&&b(e)}}}function kc(t){let e,l,n,i;function s(a){t[4](a)}function o(a){t[5](a)}let r={};return t[0]!==void 0&&(r.id=t[0]),t[1]!==void 0&&(r.character=t[1]),e=new da({props:r}),we.push(()=>Ze(e,"id",s)),we.push(()=>Ze(e,"character",o)),{c(){J(e.$$.fragment)},m(a,u){q(e,a,u),i=!0},p(a,u){const _={};!l&&u&1&&(l=!0,_.id=a[0],Xe(()=>l=!1)),!n&&u&2&&(n=!0,_.character=a[1],Xe(()=>n=!1)),e.$set(_)},i(a){i||(N(e.$$.fragment,a),i=!0)},o(a){E(e.$$.fragment,a),i=!1},d(a){Y(e,a)}}}function $c(t){let e,l,n,i;function s(a){t[6](a)}function o(a){t[7](a)}let r={};return t[0]!==void 0&&(r.id=t[0]),t[1]!==void 0&&(r.character=t[1]),e=new bc({props:r}),we.push(()=>Ze(e,"id",s)),we.push(()=>Ze(e,"character",o)),{c(){J(e.$$.fragment)},m(a,u){q(e,a,u),i=!0},p(a,u){const _={};!l&&u&1&&(l=!0,_.id=a[0],Xe(()=>l=!1)),!n&&u&2&&(n=!0,_.character=a[1],Xe(()=>n=!1)),e.$set(_)},i(a){i||(N(e.$$.fragment,a),i=!0)},o(a){E(e.$$.fragment,a),i=!1},d(a){Y(e,a)}}}function wc(t){let e,l,n,i;return e=new dt({props:{path:"/build/*",$$slots:{default:[kc]},$$scope:{ctx:t}}}),n=new dt({props:{path:"/play/*",$$slots:{default:[$c]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),l=k(),J(n.$$.fragment)},m(s,o){q(e,s,o),g(s,l,o),q(n,s,o),i=!0},p(s,o){const r={};o&259&&(r.$$scope={dirty:o,ctx:s}),e.$set(r);const a={};o&259&&(a.$$scope={dirty:o,ctx:s}),n.$set(a)},i(s){i||(N(e.$$.fragment,s),N(n.$$.fragment,s),i=!0)},o(s){E(e.$$.fragment,s),E(n.$$.fragment,s),i=!1},d(s){s&&b(l),Y(e,s),Y(n,s)}}}function Sc(t){let e,l,n,i,s,o,r,a;function u($){t[3]($)}let _={};t[0]!==void 0&&(_.id=t[0]),l=new Ta({props:_}),we.push(()=>Ze(l,"id",u));const d=[vc,gc],m=[];function f($,S){return!$[1]||$[2]==null?0:1}return o=f(t),r=m[o]=d[o](t),{c(){e=h("div"),J(l.$$.fragment),i=k(),s=h("div"),r.c(),p(s,"id","character-page-content"),p(s,"class","svelte-lbrrso"),p(e,"id","character-page"),p(e,"class","svelte-lbrrso")},m($,S){g($,e,S),q(l,e,null),c(e,i),c(e,s),m[o].m(s,null),a=!0},p($,[S]){const w={};!n&&S&1&&(n=!0,w.id=$[0],Xe(()=>n=!1)),l.$set(w);let C=o;o=f($),o===C?m[o].p($,S):(st(),E(m[C],1,1,()=>{m[C]=null}),rt(),r=m[o],r?r.p($,S):(r=m[o]=d[o]($),r.c()),N(r,1),r.m(s,null))},i($){a||(N(l.$$.fragment,$),N(r),a=!0)},o($){E(l.$$.fragment,$),E(r),a=!1},d($){$&&b(e),Y(l),m[o].d()}}}function yc(t,e,l){let n,i=I,s=()=>(i(),i=Ft(r,f=>l(2,n=f)),r);t.$$.on_destroy.push(()=>i());let{id:o=rn}=e,r;Qt(async()=>{if(window.location.pathname.endsWith(`/character/${o}`)||window.location.pathname.endsWith(`/character/${o}/`)){console.log("redirecting to play view"),Nl(`/character/${o}/play`,{replace:!0});return}if(o!=="local"&&!sn(o)){console.error("Failed to load character with id '"+o+"'"),Nl("/characters");return}});function a(f){o=f,l(0,o)}function u(f){o=f,l(0,o)}function _(f){r=f,s(l(1,r))}function d(f){o=f,l(0,o)}function m(f){r=f,s(l(1,r))}return t.$$set=f=>{"id"in f&&l(0,o=f.id)},t.$$.update=()=>{t.$$.dirty&1&&console.log("id = '"+o+"'"),t.$$.dirty&1&&s(l(1,r=o=="local"?Gs:Ts(o)))},[o,r,n,a,u,_,d,m]}class Cc extends Le{constructor(e){super(),Ae(this,e,yc,Sc,Se,{id:0})}}function rs(t,e,l){const n=t.slice();return n[4]=e[l][0],n[5]=e[l][1],n[7]=l,n}function os(t){let e,l,n,i,s,o,r,a,u,_,d,m;return{c(){e=h("div"),l=h("h1"),l.textContent="Characters",n=k(),i=h("p"),i.textContent="You are not logged into an account.",s=k(),o=h("p"),o.innerHTML=`You can try Hammer and Steel&#39;s character sheet without an account.<br/>
            Creating a character sheet without an account means it is <b>not</b> stored on our servers.
            You will only be able to access it on this device and it will not be backed up or secured.<br/>
            To store a character on our server, to be accessed from anywhere, you&#39;ll need to create an account and save the character to your account.`,r=k(),a=h("br"),u=k(),_=h("a"),_.textContent="Try the Character Forge",Q(o,"text-align","left"),p(_,"class","button"),p(_,"href","/character/local"),p(e,"class","page")},m(f,$){g(f,e,$),c(e,l),c(e,n),c(e,i),c(e,s),c(e,o),c(e,r),c(e,a),c(e,u),c(e,_),d||(m=ul(_l.call(null,_)),d=!0)},d(f){f&&b(e),d=!1,m()}}}function Mc(t){let e,l=le(Object.entries(t[1])),n=[];for(let i=0;i<l.length;i+=1)n[i]=as(rs(t,l,i));return{c(){e=h("div");for(let i=0;i<n.length;i+=1)n[i].c();p(e,"class","char-list svelte-122uifz")},m(i,s){g(i,e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(i,s){if(s&2){l=le(Object.entries(i[1]));let o;for(o=0;o<l.length;o+=1){const r=rs(i,l,o);n[o]?n[o].p(r,s):(n[o]=as(r),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&b(e),We(n,i)}}}function Pc(t){let e;return{c(){e=T("No characters exist yet.")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function as(t){let e,l=t[5].name+"",n,i,s;return{c(){e=h("a"),n=T(l),p(e,"href","/character/"+t[4]),p(e,"class","button-outlined char-button svelte-122uifz")},m(o,r){g(o,e,r),c(e,n),i||(s=ul(_l.call(null,e)),i=!0)},p:I,d(o){o&&b(e),i=!1,s()}}}function Ac(t){let e,l,n,i,s,o,r,a,u,_,d,m,f=t[0]===null&&os();function $(C,v){return Object.keys(C[1]).length==0?Pc:Mc}let w=$(t)(t);return{c(){f&&f.c(),e=k(),l=h("div"),n=h("h1"),n.textContent="Characters:",i=k(),w.c(),s=k(),o=h("br"),r=k(),a=h("button"),a.textContent="+",u=k(),_=h("br"),p(a,"class","button"),p(l,"class","page")},m(C,v){f&&f.m(C,v),g(C,e,v),g(C,l,v),c(l,n),c(l,i),w.m(l,null),c(l,s),c(l,o),c(l,r),c(l,a),c(l,u),c(l,_),d||(m=V(a,"click",t[2]),d=!0)},p(C,[v]){C[0]===null?f||(f=os(),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null),w.p(C,v)},i:I,o:I,d(C){C&&(b(e),b(l)),f&&f.d(C),w.d(),d=!1,m()}}}function Lc(t,e,l){let n,i;Gt(t,kn,r=>l(3,n=r)),Gt(t,Ht,r=>l(0,i=r));let s=n;function o(){kn.create(r=>{console.log("Navigating to '/character/"+r+"'"),Nl("/character/"+r)})}return[i,s,o]}class Gc extends Le{constructor(e){super(),Ae(this,e,Lc,Ac,Se,{})}}function cs(t,e,l){const n=t.slice();return n[16]=e[l],n[17]=e,n[18]=l,n}function us(t,e,l){const n=t.slice();return n[19]=e[l],n}function Tc(t){let e=t[2][t[19]]+"",l,n,i;return{c(){l=T(e),n=T("d"),i=T(t[19])},m(s,o){g(s,l,o),g(s,n,o),g(s,i,o)},p(s,o){o&4&&e!==(e=s[2][s[19]]+"")&&z(l,e)},d(s){s&&(b(l),b(n),b(i))}}}function Rc(t){let e=t[2][t[19]]+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&4&&e!==(e=n[2][n[19]]+"")&&z(l,e)},d(n){n&&b(l)}}}function jc(t){let e,l;return{c(){e=T("d"),l=T(t[19])},m(n,i){g(n,e,i),g(n,l,i)},p:I,d(n){n&&(b(e),b(l))}}}function fs(t){let e,l,n;function i(a,u){return(a[2][a[19]]??0)==0?jc:a[2][a[19]]>9?Rc:Tc}let s=i(t),o=s(t);function r(){return t[8](t[19])}return{c(){e=h("button"),o.c(),p(e,"type","button"),p(e,"class","die-button svelte-90mbn5"),Q(e,"background-image","url('/img/dice/d"+t[19]+"-inverted.svg')")},m(a,u){g(a,e,u),o.m(e,null),l||(n=V(e,"click",r),l=!0)},p(a,u){t=a,s===(s=i(t))&&o?o.p(t,u):(o.d(1),o=s(t),o&&(o.c(),o.m(e,null)))},d(a){a&&b(e),o.d(),l=!1,n()}}}function Nc(t){let e=t[2][-1]+"",l,n;return{c(){l=T(e),n=T("dF")},m(i,s){g(i,l,s),g(i,n,s)},p(i,s){s&4&&e!==(e=i[2][-1]+"")&&z(l,e)},d(i){i&&(b(l),b(n))}}}function Oc(t){let e=t[2][-1]+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&4&&e!==(e=n[2][-1]+"")&&z(l,e)},d(n){n&&b(l)}}}function Ec(t){let e;return{c(){e=T("dF")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function _s(t,e){let l,n,i=e[18],s,o,r;const a=()=>e[10](n,i),u=()=>e[10](null,i);function _(f){e[11](f,e[16])}function d(f){e[12](f,e[16])}let m={faces:e[16].faces};return e[16].result!==void 0&&(m.result=e[16].result),e[16].active!==void 0&&(m.active=e[16].active),n=new At({props:m}),a(),we.push(()=>Ze(n,"result",_)),we.push(()=>Ze(n,"active",d)),{key:t,first:null,c(){l=he(),J(n.$$.fragment),this.first=l},m(f,$){g(f,l,$),q(n,f,$),r=!0},p(f,$){e=f,i!==e[18]&&(u(),i=e[18],a());const S={};$&1&&(S.faces=e[16].faces),!s&&$&1&&(s=!0,S.result=e[16].result,Xe(()=>s=!1)),!o&&$&1&&(o=!0,S.active=e[16].active,Xe(()=>o=!1)),n.$set(S)},i(f){r||(N(n.$$.fragment,f),r=!0)},o(f){E(n.$$.fragment,f),r=!1},d(f){f&&b(l),u(),Y(n,f)}}}function Ic(t){let e;return{c(){e=T("SELECTION SUMMARY")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Hc(t){let e;return{c(){e=T("SUMMARY")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Fc(t){let e=t[2].activeSum+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&4&&e!==(e=n[2].activeSum+"")&&z(l,e)},d(n){n&&b(l)}}}function Dc(t){let e=t[2].sum+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&4&&e!==(e=n[2].sum+"")&&z(l,e)},d(n){n&&b(l)}}}function Wc(t){let e;return{c(){e=T("0")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function Bc(t){let e;function l(s,o){return s[2].active==0?zc:Uc}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&b(e),i.d(s)}}}function Uc(t){let e=t[2].activeLow+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&4&&e!==(e=n[2].activeLow+"")&&z(l,e)},d(n){n&&b(l)}}}function zc(t){let e=t[2].low+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&4&&e!==(e=n[2].low+"")&&z(l,e)},d(n){n&&b(l)}}}function qc(t){let e;return{c(){e=T("0")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function Yc(t){let e;function l(s,o){return s[2].active==0?Kc:Jc}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&b(e),i.d(s)}}}function Jc(t){let e=t[2].activeHigh+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&4&&e!==(e=n[2].activeHigh+"")&&z(l,e)},d(n){n&&b(l)}}}function Kc(t){let e=t[2].high+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&4&&e!==(e=n[2].high+"")&&z(l,e)},d(n){n&&b(l)}}}function Vc(t){let e=t[2].activeSum+t[3]+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&12&&e!==(e=n[2].activeSum+n[3]+"")&&z(l,e)},d(n){n&&b(l)}}}function Qc(t){let e=t[2].sum+t[3]+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&12&&e!==(e=n[2].sum+n[3]+"")&&z(l,e)},d(n){n&&b(l)}}}function Xc(t){let e;return{c(){e=T(t[3])},m(l,n){g(l,e,n)},p(l,n){n&8&&z(e,l[3])},d(l){l&&b(e)}}}function Zc(t){let e;function l(s,o){return s[2].active==0?eu:xc}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&b(e),i.d(s)}}}function xc(t){let e=t[2].activeLow+t[3]+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&12&&e!==(e=n[2].activeLow+n[3]+"")&&z(l,e)},d(n){n&&b(l)}}}function eu(t){let e=t[2].low+t[3]+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&12&&e!==(e=n[2].low+n[3]+"")&&z(l,e)},d(n){n&&b(l)}}}function tu(t){let e;return{c(){e=T(t[3])},m(l,n){g(l,e,n)},p(l,n){n&8&&z(e,l[3])},d(l){l&&b(e)}}}function lu(t){let e;function l(s,o){return s[2].active==0?iu:nu}let n=l(t),i=n(t);return{c(){i.c(),e=he()},m(s,o){i.m(s,o),g(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&b(e),i.d(s)}}}function nu(t){let e=t[2].activeHigh+t[3]+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&12&&e!==(e=n[2].activeHigh+n[3]+"")&&z(l,e)},d(n){n&&b(l)}}}function iu(t){let e=t[2].high+t[3]+"",l;return{c(){l=T(e)},m(n,i){g(n,l,i)},p(n,i){i&12&&e!==(e=n[2].high+n[3]+"")&&z(l,e)},d(n){n&&b(l)}}}function su(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S=t[1].length+"",w,C,v,y,L=t[2].active+"",j,D,H,O,R=t[2].active==0?"Clear All":"Clear "+String(t[2].active),W,M,G,K,de=t[2].active==t[0].length?"Select None":"Select All",Z,Re,Ee,_e,F=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),ee,x,Pe,ne,Ge=[],ft=new Map,$t,xe,Fe,Qe,ot,ye,at,je,wt,me,ht,ke,Be,Ye,Tt,$e,et,se,fe,ct,tt,ce,St,Ce,Ne,pe,ge,Je,Dt,yt,Wt,Bt,Rt,mt,nl,Ie,Ut,bt,Mt,_t,zt,Nt,qt,Yt,Pt,Jt,pt,ve,jt,lt,It=le([2,4,6,8,10,12,20]),Me=[];for(let U=0;U<7;U+=1)Me[U]=fs(us(t,It,U));function nt(U,ue){return(U[2][-1]??0)==0?Ec:U[2][-1]>9?Oc:Nc}let Ke=nt(t),ut=Ke(t),Ve=le(t[0]);const Ot=U=>U[16].id;for(let U=0;U<Ve.length;U+=1){let ue=cs(t,Ve,U),ze=Ot(ue);ft.set(ze,Ge[U]=_s(ze,ue))}function Te(U,ue){return U[2].active==0?Hc:Ic}let Ct=Te(t),He=Ct(t);function X(U,ue){return U[2].active==0?Dc:Fc}let ae=X(t),Ue=ae(t);function gt(U,ue){return U[2].low!=1/0?Bc:Wc}let Vt=gt(t),De=Vt(t);function A(U,ue){return U[2].low!=1/0?Yc:qc}let te=A(t),P=te(t);function re(U,ue){return U[2].active==0?Qc:Vc}let Il=re(t),Xt=Il(t);function An(U,ue){return U[2].low!=1/0?Zc:Xc}let Hl=An(t),Zt=Hl(t);function Ln(U,ue){return U[2].low!=1/0?lu:tu}let Fl=Ln(t),xt=Fl(t);return{c(){e=h("div"),l=h("h1"),l.textContent="Dice Roller",n=k(),i=h("h3"),i.textContent="ADD DICE",s=k(),o=h("hr"),r=k(),a=h("div");for(let U=0;U<7;U+=1)Me[U].c();u=k(),_=h("button"),ut.c(),d=k(),m=h("div"),f=h("span"),$=T("Total: "),w=T(S),C=k(),v=h("span"),y=T("Selected: "),j=T(L),D=k(),H=h("div"),O=h("button"),W=T(R),G=k(),K=h("button"),Z=T(de),Ee=k(),_e=h("button"),ee=T(F),Pe=k(),ne=h("div");for(let U=0;U<Ge.length;U+=1)Ge[U].c();$t=k(),xe=h("h3"),He.c(),Fe=k(),Qe=h("hr"),ot=k(),ye=h("div"),at=h("div"),je=h("h4"),je.textContent="SUM",wt=k(),me=h("h3"),Ue.c(),ht=k(),ke=h("div"),Be=h("div"),Ye=h("h4"),Ye.textContent="LOW",Tt=k(),$e=h("h3"),De.c(),et=k(),se=h("div"),fe=h("h4"),fe.textContent="HIGH",ct=k(),tt=h("h3"),P.c(),ce=k(),St=h("h3"),St.textContent="MODIFIER",Ce=k(),Ne=h("hr"),pe=k(),ge=h("div"),Je=h("input"),Dt=k(),yt=h("input"),Wt=k(),Bt=h("div"),Rt=h("div"),mt=h("h4"),mt.textContent="SUM",nl=k(),Ie=h("h3"),Xt.c(),Ut=k(),bt=h("div"),Mt=h("div"),_t=h("h4"),_t.textContent="LOW",zt=k(),Nt=h("h3"),Zt.c(),qt=k(),Yt=h("div"),Pt=h("h4"),Pt.textContent="HIGH",Jt=k(),pt=h("h3"),xt.c(),Q(i,"margin-bottom","0"),p(o,"class","underule svelte-90mbn5"),p(_,"type","button"),p(_,"class","die-button svelte-90mbn5"),Q(_,"background-image","url('/img/dice/dF-inverted.svg')"),p(a,"class","dice-button-box svelte-90mbn5"),p(f,"class","svelte-90mbn5"),p(v,"class","svelte-90mbn5"),p(m,"class","total-readout svelte-90mbn5"),p(O,"class","button-outlined"),O.disabled=M=t[0].length<=0,p(K,"class","button-outlined"),K.disabled=Re=t[0].length<=0,p(_e,"class","button-outlined"),_e.disabled=x=t[0].length<=0,p(H,"class","operation-button-box svelte-90mbn5"),p(ne,"class","dice-box svelte-90mbn5"),Q(xe,"margin-bottom","0"),p(Qe,"class","underule svelte-90mbn5"),p(je,"class","text-center"),Q(je,"margin","0"),p(me,"class","result svelte-90mbn5"),Q(me,"width","120px"),Q(me,"margin","0 auto 0 auto"),p(at,"class","svelte-90mbn5"),p(Ye,"class","text-center"),Q(Ye,"margin","0"),p($e,"class","result svelte-90mbn5"),Q($e,"width","120px"),Q($e,"margin","0 auto 0 auto"),p(Be,"class","svelte-90mbn5"),p(fe,"class","text-center"),Q(fe,"margin","0"),p(tt,"class","result svelte-90mbn5"),Q(tt,"width","120px"),Q(tt,"margin","0 auto 0 auto"),p(se,"class","svelte-90mbn5"),p(ke,"class","result-summary svelte-90mbn5"),p(ye,"class","result-summary svelte-90mbn5"),Q(St,"margin-top","48px"),Q(St,"margin-bottom","0"),p(Ne,"class","underule svelte-90mbn5"),p(Je,"class","modifier-input svelte-90mbn5"),p(Je,"type","number"),p(yt,"class","modifier-range svelte-90mbn5"),p(yt,"type","range"),p(yt,"min","-15"),p(yt,"max","15"),p(ge,"class","result-modifier svelte-90mbn5"),p(mt,"class","text-center"),Q(mt,"margin","0"),p(Ie,"class","result svelte-90mbn5"),Q(Ie,"width","120px"),Q(Ie,"margin","0 auto 0 auto"),p(Rt,"class","svelte-90mbn5"),p(_t,"class","text-center"),Q(_t,"margin","0"),p(Nt,"class","result svelte-90mbn5"),Q(Nt,"width","120px"),Q(Nt,"margin","0 auto 0 auto"),p(Mt,"class","svelte-90mbn5"),p(Pt,"class","text-center"),Q(Pt,"margin","0"),p(pt,"class","result svelte-90mbn5"),Q(pt,"width","120px"),Q(pt,"margin","0 auto 0 auto"),p(Yt,"class","svelte-90mbn5"),p(bt,"class","result-summary svelte-90mbn5"),p(Bt,"class","result-summary svelte-90mbn5"),p(e,"class","page")},m(U,ue){g(U,e,ue),c(e,l),c(e,n),c(e,i),c(e,s),c(e,o),c(e,r),c(e,a);for(let ze=0;ze<7;ze+=1)Me[ze]&&Me[ze].m(a,null);c(a,u),c(a,_),ut.m(_,null),c(e,d),c(e,m),c(m,f),c(f,$),c(f,w),c(m,C),c(m,v),c(v,y),c(v,j),c(e,D),c(e,H),c(H,O),c(O,W),c(H,G),c(H,K),c(K,Z),c(H,Ee),c(H,_e),c(_e,ee),c(e,Pe),c(e,ne);for(let ze=0;ze<Ge.length;ze+=1)Ge[ze]&&Ge[ze].m(ne,null);c(e,$t),c(e,xe),He.m(xe,null),c(e,Fe),c(e,Qe),c(e,ot),c(e,ye),c(ye,at),c(at,je),c(at,wt),c(at,me),Ue.m(me,null),c(ye,ht),c(ye,ke),c(ke,Be),c(Be,Ye),c(Be,Tt),c(Be,$e),De.m($e,null),c(ke,et),c(ke,se),c(se,fe),c(se,ct),c(se,tt),P.m(tt,null),c(e,ce),c(e,St),c(e,Ce),c(e,Ne),c(e,pe),c(e,ge),c(ge,Je),oe(Je,t[3]),c(ge,Dt),c(ge,yt),oe(yt,t[3]),c(e,Wt),c(e,Bt),c(Bt,Rt),c(Rt,mt),c(Rt,nl),c(Rt,Ie),Xt.m(Ie,null),c(Bt,Ut),c(Bt,bt),c(bt,Mt),c(Mt,_t),c(Mt,zt),c(Mt,Nt),Zt.m(Nt,null),c(bt,qt),c(bt,Yt),c(Yt,Pt),c(Yt,Jt),c(Yt,pt),xt.m(pt,null),ve=!0,jt||(lt=[V(_,"click",t[9]),V(O,"click",t[7]),V(K,"click",t[5]),V(_e,"click",t[6]),V(Je,"input",t[13]),V(yt,"change",t[14]),V(yt,"input",t[14])],jt=!0)},p(U,[ue]){if(ue&20){It=le([2,4,6,8,10,12,20]);let ze;for(ze=0;ze<7;ze+=1){const Gn=us(U,It,ze);Me[ze]?Me[ze].p(Gn,ue):(Me[ze]=fs(Gn),Me[ze].c(),Me[ze].m(a,u))}for(;ze<7;ze+=1)Me[ze].d(1)}Ke===(Ke=nt(U))&&ut?ut.p(U,ue):(ut.d(1),ut=Ke(U),ut&&(ut.c(),ut.m(_,null))),(!ve||ue&2)&&S!==(S=U[1].length+"")&&z(w,S),(!ve||ue&4)&&L!==(L=U[2].active+"")&&z(j,L),(!ve||ue&4)&&R!==(R=U[2].active==0?"Clear All":"Clear "+String(U[2].active))&&z(W,R),(!ve||ue&1&&M!==(M=U[0].length<=0))&&(O.disabled=M),(!ve||ue&5)&&de!==(de=U[2].active==U[0].length?"Select None":"Select All")&&z(Z,de),(!ve||ue&1&&Re!==(Re=U[0].length<=0))&&(K.disabled=Re),(!ve||ue&4)&&F!==(F=U[2].active==0?"Reroll All":"Reroll "+String(U[2].active))&&z(ee,F),(!ve||ue&1&&x!==(x=U[0].length<=0))&&(_e.disabled=x),ue&3&&(Ve=le(U[0]),st(),Ge=nn(Ge,ue,Ot,1,U,Ve,ft,ne,ln,_s,null,cs),rt()),Ct!==(Ct=Te(U))&&(He.d(1),He=Ct(U),He&&(He.c(),He.m(xe,null))),ae===(ae=X(U))&&Ue?Ue.p(U,ue):(Ue.d(1),Ue=ae(U),Ue&&(Ue.c(),Ue.m(me,null))),Vt===(Vt=gt(U))&&De?De.p(U,ue):(De.d(1),De=Vt(U),De&&(De.c(),De.m($e,null))),te===(te=A(U))&&P?P.p(U,ue):(P.d(1),P=te(U),P&&(P.c(),P.m(tt,null))),ue&8&&vt(Je.value)!==U[3]&&oe(Je,U[3]),ue&8&&oe(yt,U[3]),Il===(Il=re(U))&&Xt?Xt.p(U,ue):(Xt.d(1),Xt=Il(U),Xt&&(Xt.c(),Xt.m(Ie,null))),Hl===(Hl=An(U))&&Zt?Zt.p(U,ue):(Zt.d(1),Zt=Hl(U),Zt&&(Zt.c(),Zt.m(Nt,null))),Fl===(Fl=Ln(U))&&xt?xt.p(U,ue):(xt.d(1),xt=Fl(U),xt&&(xt.c(),xt.m(pt,null)))},i(U){if(!ve){for(let ue=0;ue<Ve.length;ue+=1)N(Ge[ue]);ve=!0}},o(U){for(let ue=0;ue<Ge.length;ue+=1)E(Ge[ue]);ve=!1},d(U){U&&b(e),We(Me,U),ut.d();for(let ue=0;ue<Ge.length;ue+=1)Ge[ue].d();He.d(),Ue.d(),De.d(),P.d(),Xt.d(),Zt.d(),xt.d(),jt=!1,Oe(lt)}}}function ru(t,e,l){let n=0,i=[],s=[];function o(y){l(0,i=i.concat({id:n++,faces:y,result:0,active:!1}))}let r={active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0};function a(){r.active==i.length?i.forEach(y=>y.active=!1):i.forEach(y=>y.active=!0),l(0,i)}function u(){r.active==0?s.filter(y=>y).forEach(y=>y.roll()):s.filter(y=>y).forEach(y=>y.rollIfActive())}function _(){r.active==0?l(0,i=[]):l(0,i=i.filter(y=>!y.active))}let d=1;const m=y=>o(y),f=()=>o(-1);function $(y,L){we[y?"unshift":"push"](()=>{s[L]=y,l(1,s)})}function S(y,L){t.$$.not_equal(L.result,y)&&(L.result=y,l(0,i))}function w(y,L){t.$$.not_equal(L.active,y)&&(L.active=y,l(0,i))}function C(){d=vt(this.value),l(3,d)}function v(){d=vt(this.value),l(3,d)}return t.$$.update=()=>{t.$$.dirty&2&&l(1,s=s.filter(y=>y)),t.$$.dirty&1&&l(2,r=i.reduce((y,L)=>(y.hasOwnProperty(L.faces)?y[L.faces]=y[L.faces]+1:y[L.faces]=1,y.sum+=L.result,L.result<y.low&&(y.low=L.result),L.result>y.high&&(y.high=L.result),L.active&&(y.active=y.active+1,y.activeSum+=L.result,L.result<y.activeLow&&(y.activeLow=L.result),L.result>y.activeHigh&&(y.activeHigh=L.result)),y),{active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0}))},[i,s,r,d,o,a,u,_,m,f,$,S,w,C,v]}class ou extends Le{constructor(e){super(),Ae(this,e,ru,su,Se,{})}}function ps(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function au(t){let e,l=t[0].length+"",n,i;return{c(){e=T("Add to "),n=T(l),i=T("dE")},m(s,o){g(s,e,o),g(s,n,o),g(s,i,o)},p(s,o){o&1&&l!==(l=s[0].length+"")&&z(n,l)},d(s){s&&(b(e),b(n),b(i))}}}function cu(t){let e;return{c(){e=T("Add 1dE")},m(l,n){g(l,e,n)},p:I,d(l){l&&b(e)}}}function ds(t,e){let l,n,i=e[15],s,o,r;const a=()=>e[9](n,i),u=()=>e[9](null,i);function _(f){e[10](f,e[13])}function d(f){e[11](f,e[13])}let m={faces:-2};return e[13].result!==void 0&&(m.result=e[13].result),e[13].active!==void 0&&(m.active=e[13].active),n=new At({props:m}),a(),we.push(()=>Ze(n,"result",_)),we.push(()=>Ze(n,"active",d)),{key:t,first:null,c(){l=he(),J(n.$$.fragment),this.first=l},m(f,$){g(f,l,$),q(n,f,$),r=!0},p(f,$){e=f,i!==e[15]&&(u(),i=e[15],a());const S={};!s&&$&1&&(s=!0,S.result=e[13].result,Xe(()=>s=!1)),!o&&$&1&&(o=!0,S.active=e[13].active,Xe(()=>o=!1)),n.$set(S)},i(f){r||(N(n.$$.fragment,f),r=!0)},o(f){E(n.$$.fragment,f),r=!1},d(f){f&&b(l),u(),Y(n,f)}}}function uu(t){let e,l,n,i,s,o,r,a,u=t[2].active==0?"Clear All":"Remove "+String(t[2].active),_,d,m,f,$=t[2].active==t[0].length?"Select None":"Select All",S,w,C,v,y=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),L,j,D,H,O=[],R=new Map,W,M,G,K,de,Z,Re,Ee,_e,F,ee,x,Pe,ne,Ge,ft,$t,xe,Fe,Qe,ot,ye,at,je,wt,me,ht,ke,Be,Ye,Tt,$e,et,se,fe,ct,tt,ce,St,Ce,Ne,pe,ge,Je,Dt,yt,Wt,Bt,Rt,mt,nl,Ie,Ut,bt,Mt,_t,zt,Nt,qt,Yt,Pt,Jt,pt,ve,jt,lt,It,Me,nt,Ke,ut;function Ve(X,ae){return X[0].length==0?cu:au}let Ot=Ve(t),Te=Ot(t),Ct=le(t[0]);const He=X=>X[13].id;for(let X=0;X<Ct.length;X+=1){let ae=ps(t,Ct,X),Ue=He(ae);R.set(Ue,O[X]=ds(Ue,ae))}return ne=new At({props:{faces:-2,result:2,active:!1,enabled:!1}}),Qe=new At({props:{faces:-2,result:3,active:!1,enabled:!1}}),ye=new At({props:{faces:-2,result:1,active:!1,enabled:!1}}),je=new At({props:{faces:-2,result:3,active:!1,enabled:!1}}),me=new At({props:{faces:-2,result:3,active:!1,enabled:!1}}),Ye=new At({props:{faces:-2,result:2,active:!1,enabled:!1}}),Ce=new At({props:{faces:-2,result:1,active:!1,enabled:!1}}),Dt=new At({props:{faces:-2,result:2,active:!1,enabled:!1}}),mt=new At({props:{faces:-2,result:3,active:!1,enabled:!1}}),Mt=new At({props:{faces:-2,result:1,active:!1,enabled:!1}}),zt=new At({props:{faces:-2,result:3,active:!1,enabled:!1}}),Jt=new At({props:{faces:-2,result:2,active:!1,enabled:!1}}),ve=new At({props:{faces:-2,result:3,active:!1,enabled:!1}}),{c(){e=h("div"),l=h("div"),n=h("h1"),n.textContent="Eye Roller",i=k(),s=h("button"),Te.c(),o=k(),r=h("div"),a=h("button"),_=T(u),m=k(),f=h("button"),S=T($),C=k(),v=h("button"),L=T(y),D=k(),H=h("div");for(let X=0;X<O.length;X+=1)O[X].c();W=k(),M=h("div"),G=T(t[3]),K=k(),de=h("div"),Z=h("div"),Re=h("h2"),Re.textContent="What are Eye Dice?",Ee=k(),_e=h("p"),_e.textContent="Eye dice are 6-sided dice that have one circle side, two pip sides, and three pip-in-circle sides.",F=k(),ee=h("div"),x=h("div"),Pe=k(),J(ne.$$.fragment),Ge=k(),ft=h("div"),$t=k(),xe=h("div"),Fe=k(),J(Qe.$$.fragment),ot=k(),J(ye.$$.fragment),at=k(),J(je.$$.fragment),wt=k(),J(me.$$.fragment),ht=k(),ke=h("div"),Be=k(),J(Ye.$$.fragment),Tt=k(),$e=h("div"),et=k(),se=h("div"),fe=k(),ct=h("p"),ct.innerHTML=`Each side type can be referred to individually or in groups, which each have their own, unique chances of occurring.<br/><br/>
        The chances of each are:`,tt=k(),ce=h("div"),St=h("div"),J(Ce.$$.fragment),Ne=k(),pe=h("div"),pe.textContent="⅙ Snake",ge=k(),Je=h("div"),J(Dt.$$.fragment),yt=k(),Wt=h("div"),Wt.textContent="⅓ Bat",Bt=k(),Rt=h("div"),J(mt.$$.fragment),nl=k(),Ie=h("div"),Ie.textContent="½ Fish",Ut=k(),bt=h("div"),J(Mt.$$.fragment),_t=k(),J(zt.$$.fragment),Nt=k(),qt=h("div"),qt.textContent="⅔ Pips",Yt=k(),Pt=h("div"),J(Jt.$$.fragment),pt=k(),J(ve.$$.fragment),jt=k(),lt=h("div"),lt.textContent="⅚ Rings",It=k(),Me=h("p"),Me.textContent="Rolling multiple eye dice for the same thing multiplies that fraction by itself number-of-dice times. For example, rolling 2dE for fish gives you a 50% * 50% = 25% chance of rolling all fish.",p(s,"class","button-outlined"),p(a,"class","button-outlined"),a.disabled=d=t[0].length<=0,p(f,"class","button-outlined"),f.disabled=w=t[0].length<=0,p(v,"class","button-outlined"),v.disabled=j=t[0].length<=0,Q(r,"display","grid"),Q(r,"grid-template-columns","32% 32% 32%"),Q(r,"justify-content","center"),p(H,"class","dice-box"),p(M,"class","text-center"),Q(M,"font-size","small"),Q(M,"white-space","pre"),p(M,"id","result-view"),p(l,"class","content-box"),p(e,"class","page"),p(x,"class","svelte-15n9wmj"),p(ft,"class","svelte-15n9wmj"),p(xe,"class","svelte-15n9wmj"),p(ke,"class","svelte-15n9wmj"),p($e,"class","svelte-15n9wmj"),p(se,"class","svelte-15n9wmj"),p(ee,"class","die-diagram svelte-15n9wmj"),p(St,"class","svelte-15n9wmj"),p(pe,"class","svelte-15n9wmj"),p(Je,"class","svelte-15n9wmj"),p(Wt,"class","svelte-15n9wmj"),p(Rt,"class","svelte-15n9wmj"),p(Ie,"class","svelte-15n9wmj"),p(bt,"class","svelte-15n9wmj"),p(qt,"class","svelte-15n9wmj"),p(Pt,"class","svelte-15n9wmj"),p(lt,"class","svelte-15n9wmj"),p(ce,"class","die-list svelte-15n9wmj"),p(Z,"class","content-box"),p(de,"class","page")},m(X,ae){g(X,e,ae),c(e,l),c(l,n),c(l,i),c(l,s),Te.m(s,null),c(l,o),c(l,r),c(r,a),c(a,_),c(r,m),c(r,f),c(f,S),c(r,C),c(r,v),c(v,L),c(l,D),c(l,H);for(let Ue=0;Ue<O.length;Ue+=1)O[Ue]&&O[Ue].m(H,null);c(l,W),c(l,M),c(M,G),g(X,K,ae),g(X,de,ae),c(de,Z),c(Z,Re),c(Z,Ee),c(Z,_e),c(Z,F),c(Z,ee),c(ee,x),c(ee,Pe),q(ne,ee,null),c(ee,Ge),c(ee,ft),c(ee,$t),c(ee,xe),c(ee,Fe),q(Qe,ee,null),c(ee,ot),q(ye,ee,null),c(ee,at),q(je,ee,null),c(ee,wt),q(me,ee,null),c(ee,ht),c(ee,ke),c(ee,Be),q(Ye,ee,null),c(ee,Tt),c(ee,$e),c(ee,et),c(ee,se),c(Z,fe),c(Z,ct),c(Z,tt),c(Z,ce),c(ce,St),q(Ce,St,null),c(ce,Ne),c(ce,pe),c(ce,ge),c(ce,Je),q(Dt,Je,null),c(ce,yt),c(ce,Wt),c(ce,Bt),c(ce,Rt),q(mt,Rt,null),c(ce,nl),c(ce,Ie),c(ce,Ut),c(ce,bt),q(Mt,bt,null),c(bt,_t),q(zt,bt,null),c(ce,Nt),c(ce,qt),c(ce,Yt),c(ce,Pt),q(Jt,Pt,null),c(Pt,pt),q(ve,Pt,null),c(ce,jt),c(ce,lt),c(Z,It),c(Z,Me),nt=!0,Ke||(ut=[V(s,"click",t[8]),V(a,"click",t[7]),V(f,"click",t[5]),V(v,"click",t[6])],Ke=!0)},p(X,[ae]){Ot===(Ot=Ve(X))&&Te?Te.p(X,ae):(Te.d(1),Te=Ot(X),Te&&(Te.c(),Te.m(s,null))),(!nt||ae&4)&&u!==(u=X[2].active==0?"Clear All":"Remove "+String(X[2].active))&&z(_,u),(!nt||ae&1&&d!==(d=X[0].length<=0))&&(a.disabled=d),(!nt||ae&5)&&$!==($=X[2].active==X[0].length?"Select None":"Select All")&&z(S,$),(!nt||ae&1&&w!==(w=X[0].length<=0))&&(f.disabled=w),(!nt||ae&4)&&y!==(y=X[2].active==0?"Reroll All":"Reroll "+String(X[2].active))&&z(L,y),(!nt||ae&1&&j!==(j=X[0].length<=0))&&(v.disabled=j),ae&3&&(Ct=le(X[0]),st(),O=nn(O,ae,He,1,X,Ct,R,H,ln,ds,null,ps),rt()),(!nt||ae&8)&&z(G,X[3])},i(X){if(!nt){for(let ae=0;ae<Ct.length;ae+=1)N(O[ae]);N(ne.$$.fragment,X),N(Qe.$$.fragment,X),N(ye.$$.fragment,X),N(je.$$.fragment,X),N(me.$$.fragment,X),N(Ye.$$.fragment,X),N(Ce.$$.fragment,X),N(Dt.$$.fragment,X),N(mt.$$.fragment,X),N(Mt.$$.fragment,X),N(zt.$$.fragment,X),N(Jt.$$.fragment,X),N(ve.$$.fragment,X),nt=!0}},o(X){for(let ae=0;ae<O.length;ae+=1)E(O[ae]);E(ne.$$.fragment,X),E(Qe.$$.fragment,X),E(ye.$$.fragment,X),E(je.$$.fragment,X),E(me.$$.fragment,X),E(Ye.$$.fragment,X),E(Ce.$$.fragment,X),E(Dt.$$.fragment,X),E(mt.$$.fragment,X),E(Mt.$$.fragment,X),E(zt.$$.fragment,X),E(Jt.$$.fragment,X),E(ve.$$.fragment,X),nt=!1},d(X){X&&(b(e),b(K),b(de)),Te.d();for(let ae=0;ae<O.length;ae+=1)O[ae].d();Y(ne),Y(Qe),Y(ye),Y(je),Y(me),Y(Ye),Y(Ce),Y(Dt),Y(mt),Y(Mt),Y(zt),Y(Jt),Y(ve),Ke=!1,Oe(ut)}}}function fu(t){var e=[];e.push(`${t.snakes} snake${t.snakes==1?"":"s"}`),e.push(`${t.bats} bat${t.bats==1?"":"s"}`),e.push(`${t.fish} fish`);var l=[e.join("  ")];return e=[],e.push(`${t.pips} pip${t.pips==1?"":"s"}`),e.push(`${t.rings} ring${t.rings==1?"":"s"}`),l.push(e.join("  ")),l.join(`\r
`)}function _u(t,e,l){let n=0,i=[],s=[];function o(){l(0,i=i.concat({id:n++,result:0,active:!1}))}let r={active:0,snakes:0,bats:0,fish:0,rings:0,pips:0};function a(){r.active==i.length?i.forEach(w=>w.active=!1):i.forEach(w=>w.active=!0),l(0,i)}function u(){r.active==0?s.filter(w=>w).forEach(w=>w.roll()):s.filter(w=>w).forEach(w=>w.rollIfActive())}function _(){r.active==0?l(0,i=[]):l(0,i=i.filter(w=>!w.active))}let d="";const m=()=>o();function f(w,C){we[w?"unshift":"push"](()=>{s[C]=w,l(1,s)})}function $(w,C){t.$$.not_equal(C.result,w)&&(C.result=w,l(0,i))}function S(w,C){t.$$.not_equal(C.active,w)&&(C.active=w,l(0,i))}return t.$$.update=()=>{t.$$.dirty&2&&l(1,s=s.filter(w=>w)),t.$$.dirty&1&&l(2,r=i.reduce((w,C)=>(C.active&&(w.active+=1),C.result==1?(w.snakes+=1,w.pips+=1):C.result==2?(w.bats+=1,w.rings+=1):C.result==3&&(w.fish+=1,w.pips+=1,w.rings+=1),w),{active:0,snakes:0,bats:0,fish:0,rings:0,pips:0})),t.$$.dirty&4&&l(3,d=fu(r))},[i,s,r,d,o,a,u,_,m,f,$,S]}class pu extends Le{constructor(e){super(),Ae(this,e,_u,uu,Se,{})}}function du(t){let e;return{c(){e=h("div"),e.innerHTML='© 2024 <a href="http://corybeutler.com" class="svelte-x3udvl">Cory Beutler</a><br/> <span style="margin: 0pt 10pt">Report a problem:</span> <a href="https://github.com/cgbeutler/hns-site" class="svelte-x3udvl"><img src="/img/github_logo.png" alt="github.com/cgbeutler/hns-site" class="svelte-x3udvl"/></a>',p(e,"class","ext-nav svelte-x3udvl")},m(l,n){g(l,e,n)},p:I,i:I,o:I,d(l){l&&b(e)}}}class hu extends Le{constructor(e){super(),Ae(this,e,null,du,Se,{})}}function hs(t){let e,l,n=t[1]?"":"█",i,s,o,r,a,u,_,d,m,f,$;return{c(){e=h("pre"),l=T(t[0]),i=T(n),s=k(),o=h("div"),r=h("div"),a=h("a"),a.textContent="Login",u=h("a"),u.textContent="Create Account",_=h("br"),d=k(),m=h("a"),m.textContent="Try the Character Builder",Q(e,"height","25lh"),p(e,"class","svelte-1p1vb5e"),p(a,"href","/login"),p(a,"class","button"),p(u,"href","/account"),p(u,"class","button"),p(r,"class","h-button-box svelte-1p1vb5e"),p(m,"href","/character/local/build"),p(m,"class","button"),p(o,"class","v-button-box svelte-1p1vb5e")},m(S,w){g(S,e,w),c(e,l),c(e,i),g(S,s,w),g(S,o,w),c(o,r),c(r,a),c(r,u),c(r,_),c(o,d),c(o,m),f||($=[ul(_l.call(null,a)),ul(_l.call(null,u)),ul(_l.call(null,m))],f=!0)},p(S,w){w&1&&z(l,S[0]),w&2&&n!==(n=S[1]?"":"█")&&z(i,n)},d(S){S&&(b(e),b(s),b(o)),f=!1,Oe($)}}}function mu(t){let e,l,n,i,s,o,r,a=!t[2]&&hs(t);return o=new hu({}),{c(){e=h("div"),l=h("h1"),l.textContent="The Kleptonomicon",n=k(),a&&a.c(),i=k(),s=h("div"),J(o.$$.fragment),p(e,"id","home-page"),p(e,"class","svelte-1p1vb5e"),p(s,"id","end-matter"),p(s,"class","svelte-1p1vb5e")},m(u,_){g(u,e,_),c(e,l),c(e,n),a&&a.m(e,null),g(u,i,_),g(u,s,_),q(o,s,null),r=!0},p(u,[_]){u[2]?a&&(a.d(1),a=null):a?a.p(u,_):(a=hs(u),a.c(),a.m(e,null))},i(u){r||(N(o.$$.fragment,u),r=!0)},o(u){E(o.$$.fragment,u),r=!1},d(u){u&&(b(e),b(i),b(s)),a&&a.d(),Y(o)}}}function bu(t,e,l){let n;Gt(t,Ht,d=>l(2,n=d));let{location:i="/"}=e,s=`                              

You pick up the Kleptonomicon.
  |\\'""""""""""""""""""".
  | \\ __________________\\
  | |":      ______      |
  | | :    ."      ".    |
  |\\| :   /__________\\   |
  | |-:--""___    ___""--|
  |\\|_:_  (_O_)__(_O_)  _|
  | | : '-____(..)____-' |
  |\\| :  |   .====.   |  |
  |\\|-------|| () ||-----|
  | |-------|| || ||-----|
  | | :    \\ '====' /    |
  \\ | :   Kleptonomicon  |
   \\|,:__________________/

 The masked face on the cover
   stares at you lifelessly.
 A large lock binds the book.
You can tell the book contains
 a Tabletop Roleplaying Game.

        What do you do?`,o="",r=0,a=4,u=!1,_=setInterval(()=>{if(r>=s.length){l(1,u=!0),clearInterval(_);return}l(0,o+=s.slice(r,Math.min(r+a,s.length))),r+=a,r>60&&r<460?a=10:r>=460&&r<590?a=4:r>=590&&(a=1)},2);return t.$$set=d=>{"location"in d&&l(3,i=d.location)},t.$$.update=()=>{t.$$.dirty&8&&console.log(i)},[o,u,n,i]}class gu extends Le{constructor(e){super(),Ae(this,e,bu,mu,Se,{location:3})}}function vu(t){let e,l,n,i,s,o;return{c(){e=h("div"),l=h("h1"),l.textContent="Page Not Found",n=k(),i=h("a"),i.textContent="Return To Homepage",p(i,"href","/"),p(i,"class","button-outlined"),p(e,"class","page")},m(r,a){g(r,e,a),c(e,l),c(e,n),c(e,i),s||(o=ul(_l.call(null,i)),s=!0)},p:I,i:I,o:I,d(r){r&&b(e),s=!1,o()}}}class ku extends Le{constructor(e){super(),Ae(this,e,null,vu,Se,{})}}class $u extends Le{constructor(e){super(),Ae(this,e,null,null,Se,{})}}function wu(t){let e,l,n,i,s;return i=new Rs({}),{c(){e=h("div"),l=h("h1"),l.textContent="Login",n=k(),J(i.$$.fragment),p(e,"id","login-page"),p(e,"class","svelte-1u4l0nb")},m(o,r){g(o,e,r),c(e,l),c(e,n),q(i,e,null),s=!0},p:I,i(o){s||(N(i.$$.fragment,o),s=!0)},o(o){E(i.$$.fragment,o),s=!1},d(o){o&&b(e),Y(i)}}}class Su extends Le{constructor(e){super(),Ae(this,e,null,wu,Se,{})}}function yu(t){let e,l,n,i,s;return{c(){e=h("div"),p(e,"slot","backdrop"),p(e,"class","backdrop svelte-bpnpmw"),p(e,"role","none")},m(o,r){g(o,e,r),n=!0,i||(s=[V(e,"click",Ls),V(e,"keypress",t[1])],i=!0)},p:I,i(o){n||(o&&ll(()=>{n&&(l||(l=Zl(e,En,{},!0)),l.run(1))}),n=!0)},o(o){o&&(l||(l=Zl(e,En,{},!1)),l.run(0)),n=!1},d(o){o&&b(e),o&&l&&l.end(),i=!1,Oe(s)}}}function Cu(t){let e,l,n,i,s,o,r,a,u,_,d,m,f,$,S,w,C,v,y,L,j,D,H,O,R,W;return e=new zr({props:{$$slots:{backdrop:[yu]},$$scope:{ctx:t}}}),s=new dt({props:{component:ku}}),r=new dt({props:{path:"/",component:gu}}),u=new dt({props:{path:"/character",component:Gc}}),d=new dt({props:{path:"/character/:id/*",component:Cc}}),f=new dt({props:{path:"/dice",component:ou}}),S=new dt({props:{path:"/dice/ageroller",component:Fo}}),C=new dt({props:{path:"/dice/eyeroller",component:pu}}),y=new dt({props:{path:"/srd",component:$u}}),j=new dt({props:{path:"/account",component:Ro}}),H=new dt({props:{path:"/login",component:Su}}),{c(){J(e.$$.fragment),l=k(),n=h("button"),n.innerHTML='<img src="/img/HnsSmall.svg" alt="H&amp;S"/>',i=k(),J(s.$$.fragment),o=k(),J(r.$$.fragment),a=k(),J(u.$$.fragment),_=k(),J(d.$$.fragment),m=k(),J(f.$$.fragment),$=k(),J(S.$$.fragment),w=k(),J(C.$$.fragment),v=k(),J(y.$$.fragment),L=k(),J(j.$$.fragment),D=k(),J(H.$$.fragment),p(n,"id","nav-button"),p(n,"class","svelte-bpnpmw")},m(M,G){q(e,M,G),g(M,l,G),g(M,n,G),g(M,i,G),q(s,M,G),g(M,o,G),q(r,M,G),g(M,a,G),q(u,M,G),g(M,_,G),q(d,M,G),g(M,m,G),q(f,M,G),g(M,$,G),q(S,M,G),g(M,w,G),q(C,M,G),g(M,v,G),q(y,M,G),g(M,L,G),q(j,M,G),g(M,D,G),q(H,M,G),O=!0,R||(W=V(n,"click",t[3]),R=!0)},p(M,G){const K={};G&16&&(K.$$scope={dirty:G,ctx:M}),e.$set(K)},i(M){O||(N(e.$$.fragment,M),N(s.$$.fragment,M),N(r.$$.fragment,M),N(u.$$.fragment,M),N(d.$$.fragment,M),N(f.$$.fragment,M),N(S.$$.fragment,M),N(C.$$.fragment,M),N(y.$$.fragment,M),N(j.$$.fragment,M),N(H.$$.fragment,M),O=!0)},o(M){E(e.$$.fragment,M),E(s.$$.fragment,M),E(r.$$.fragment,M),E(u.$$.fragment,M),E(d.$$.fragment,M),E(f.$$.fragment,M),E(S.$$.fragment,M),E(C.$$.fragment,M),E(y.$$.fragment,M),E(j.$$.fragment,M),E(H.$$.fragment,M),O=!1},d(M){M&&(b(l),b(n),b(i),b(o),b(a),b(_),b(m),b($),b(w),b(v),b(L),b(D)),Y(e,M),Y(s,M),Y(r,M),Y(u,M),Y(d,M),Y(f,M),Y(S,M),Y(C,M),Y(y,M),Y(j,M),Y(H,M),R=!1,W()}}}function Mu(t){let e,l,n,i;return ll(t[2]),e=new El({props:{$$slots:{default:[Cu]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(s,o){q(e,s,o),l=!0,n||(i=V(window,"resize",t[2]),n=!0)},p(s,[o]){const r={};o&16&&(r.$$scope={dirty:o,ctx:s}),e.$set(r)},i(s){l||(N(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){Y(e,s),n=!1,i()}}}function Pu(t,e,l){let n=0;function i(r){r.repeat||r.key==="Escape"&&(Ls(),r.preventDefault())}function s(){l(0,n=window.innerWidth)}return[n,i,s,()=>Tr($o)]}class Au extends Le{constructor(e){super(),Ae(this,e,Pu,Mu,Se,{})}}const Lu=Et(window.location.pathname);new Au({target:document.getElementById("app")});const Gu=()=>{let t=window.location.pathname;const e=document.querySelector("body");new MutationObserver(n=>{n.forEach(()=>{t!==document.location.pathname&&(t=document.location.pathname,Lu.set(t))})}).observe(e,{childList:!0,subtree:!0})};window.onload=Gu;
