var Ho=Object.defineProperty;var zo=(t,e,n)=>e in t?Ho(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ye=(t,e,n)=>(zo(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function N(){}const ri=t=>t;function Al(t,e){for(const n in e)t[n]=e[n];return t}function Do(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function ao(t){return t()}function Oi(){return Object.create(null)}function Ye(t){t.forEach(ao)}function Wl(t){return typeof t=="function"}function Pe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Yn;function gl(t,e){return t===e?!0:(Yn||(Yn=document.createElement("a")),Yn.href=e,t===Yn.href)}function Fo(t){return Object.keys(t).length===0}function Sl(t,...e){if(t==null){for(const l of e)l(void 0);return N}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function sl(t){let e;return Sl(t,n=>e=n)(),e}function rl(t,e,n){t.$$.on_destroy.push(Sl(e,n))}function Ul(t,e,n,l){if(t){const i=co(t,e,n,l);return t[0](i)}}function co(t,e,n,l){return t[1]&&l?Al(n.ctx.slice(),t[1](l(e))):n.ctx}function Yl(t,e,n,l){if(t[2]&&l){const i=t[2](l(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],r=Math.max(e.dirty.length,i.length);for(let o=0;o<r;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function Vl(t,e,n,l,i,s){if(i){const r=co(e,n,l,s);t.p(r,i)}}function Jl(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function ki(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Ni(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}function qo(t){const e={};for(const n in t)e[n]=!0;return e}function Pt(t,e,n){return t.set(n),e}function hn(t){return t&&Wl(t.destroy)?t.destroy:N}function Ei(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const uo=typeof window<"u";let yi=uo?()=>window.performance.now():()=>Date.now(),Mi=uo?t=>requestAnimationFrame(t):N;const yn=new Set;function fo(t){yn.forEach(e=>{e.c(t)||(yn.delete(e),e.f())}),yn.size!==0&&Mi(fo)}function Ai(t){let e;return yn.size===0&&Mi(fo),{promise:new Promise(n=>{yn.add(e={c:t,f:n})}),abort(){yn.delete(e)}}}function u(t,e){t.appendChild(e)}function _o(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Bo(t){const e=h("style");return e.textContent="/* empty */",Wo(_o(t),e),e.sheet}function Wo(t,e){return u(t.head||t,e),e.sheet}function $(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function he(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function R(t){return document.createTextNode(t)}function v(){return R(" ")}function Ce(){return R("")}function x(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Nl(t){return function(e){return e.preventDefault(),t.call(this,e)}}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Uo=["width","height"];function Hi(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const l in e)e[l]==null?t.removeAttribute(l):l==="style"?t.style.cssText=e[l]:l==="__value"?t.value=t[l]=e[l]:n[l]&&n[l].set&&Uo.indexOf(l)===-1?t[l]=e[l]:d(t,l,e[l])}function jn(t){return t===""?null:+t}function Yo(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.data!==e&&(t.data=e)}function de(t,e){t.value=e??""}function Z(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Q(t,e,n){t.classList.toggle(e,!!n)}function po(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}function Ln(t,e){return new t(e)}const xn=new Map;let ei=0;function Vo(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Jo(t,e){const n={stylesheet:Bo(e),rules:{}};return xn.set(t,n),n}function ti(t,e,n,l,i,s,r,o=0){const a=16.666/l;let c=`{
`;for(let b=0;b<=1;b+=a){const G=e+(n-e)*s(b);c+=b*100+`%{${r(G,1-G)}}
`}const f=c+`100% {${r(n,1-n)}}
}`,p=`__svelte_${Vo(f)}_${o}`,m=_o(t),{stylesheet:_,rules:g}=xn.get(m)||Jo(m,t);g[p]||(g[p]=!0,_.insertRule(`@keyframes ${p} ${f}`,_.cssRules.length));const P=t.style.animation||"";return t.style.animation=`${P?`${P}, `:""}${p} ${l}ms linear ${i}ms 1 both`,ei+=1,p}function li(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-l.length;i&&(t.style.animation=l.join(", "),ei-=i,ei||Ko())}function Ko(){Mi(()=>{ei||(xn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),xn.clear())})}let Fn;function ql(t){Fn=t}function Nn(){if(!Fn)throw new Error("Function called outside component initialization");return Fn}function En(t){Nn().$$.on_mount.push(t)}function Qo(t){Nn().$$.on_destroy.push(t)}function Xo(){const t=Nn();return(e,n,{cancelable:l=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=po(e,n,{cancelable:l});return i.slice().forEach(r=>{r.call(t,s)}),!s.defaultPrevented}return!0}}function pi(t,e){return Nn().$$.context.set(t,e),e}function Mn(t){return Nn().$$.context.get(t)}function zi(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const Pn=[],me=[];let An=[];const $i=[],Zo=Promise.resolve();let wi=!1;function xo(){wi||(wi=!0,Zo.then(ji))}function El(t){An.push(t)}function Me(t){$i.push(t)}const hi=new Set;let wn=0;function ji(){if(wn!==0)return;const t=Fn;do{try{for(;wn<Pn.length;){const e=Pn[wn];wn++,ql(e),ea(e.$$)}}catch(e){throw Pn.length=0,wn=0,e}for(ql(null),Pn.length=0,wn=0;me.length;)me.pop()();for(let e=0;e<An.length;e+=1){const n=An[e];hi.has(n)||(hi.add(n),n())}An.length=0}while(Pn.length);for(;$i.length;)$i.pop()();wi=!1,hi.clear(),ql(t)}function ea(t){if(t.fragment!==null){t.update(),Ye(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(El)}}function ta(t){const e=[],n=[];An.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),An=e}let zn;function Li(){return zn||(zn=Promise.resolve(),zn.then(()=>{zn=null})),zn}function dn(t,e,n){t.dispatchEvent(po(`${e?"intro":"outro"}${n}`))}const Xn=new Set;let Ol;function $e(){Ol={r:0,c:[],p:Ol}}function we(){Ol.r||Ye(Ol.c),Ol=Ol.p}function M(t,e){t&&t.i&&(Xn.delete(t),t.i(e))}function j(t,e,n,l){if(t&&t.o){if(Xn.has(t))return;Xn.add(t),Ol.c.push(()=>{Xn.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const Gi={duration:0};function la(t,e,n){const l={direction:"in"};let i=e(t,n,l),s=!1,r,o,a=0;function c(){r&&li(t,r)}function f(){const{delay:m=0,duration:_=300,easing:g=ri,tick:P=N,css:b}=i||Gi;b&&(r=ti(t,0,1,_,m,g,b,a++)),P(0,1);const G=yi()+m,w=G+_;o&&o.abort(),s=!0,El(()=>dn(t,!0,"start")),o=Ai(y=>{if(s){if(y>=w)return P(1,0),dn(t,!0,"end"),c(),s=!1;if(y>=G){const T=g((y-G)/_);P(T,1-T)}}return s})}let p=!1;return{start(){p||(p=!0,li(t),Wl(i)?(i=i(l),Li().then(f)):f())},invalidate(){p=!1},end(){s&&(c(),s=!1)}}}function na(t,e,n){const l={direction:"out"};let i=e(t,n,l),s=!0,r;const o=Ol;o.r+=1;let a;function c(){const{delay:f=0,duration:p=300,easing:m=ri,tick:_=N,css:g}=i||Gi;g&&(r=ti(t,1,0,p,f,m,g));const P=yi()+f,b=P+p;El(()=>dn(t,!1,"start")),"inert"in t&&(a=t.inert,t.inert=!0),Ai(G=>{if(s){if(G>=b)return _(0,1),dn(t,!1,"end"),--o.r||Ye(o.c),!1;if(G>=P){const w=m((G-P)/p);_(1-w,w)}}return s})}return Wl(i)?Li().then(()=>{i=i(l),c()}):c(),{end(f){f&&"inert"in t&&(t.inert=a),f&&i.tick&&i.tick(1,0),s&&(r&&li(t,r),s=!1)}}}function ni(t,e,n,l){let s=e(t,n,{direction:"both"}),r=l?0:1,o=null,a=null,c=null,f;function p(){c&&li(t,c)}function m(g,P){const b=g.b-r;return P*=Math.abs(b),{a:r,b:g.b,d:b,duration:P,start:g.start,end:g.start+P,group:g.group}}function _(g){const{delay:P=0,duration:b=300,easing:G=ri,tick:w=N,css:y}=s||Gi,T={start:yi()+P,b:g};g||(T.group=Ol,Ol.r+=1),"inert"in t&&(g?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),o||a?a=T:(y&&(p(),c=ti(t,r,g,b,P,G,y)),g&&w(0,1),o=m(T,b),El(()=>dn(t,g,"start")),Ai(J=>{if(a&&J>a.start&&(o=m(a,b),a=null,dn(t,o.b,"start"),y&&(p(),c=ti(t,r,o.b,o.duration,0,G,s.css))),o){if(J>=o.end)w(r=o.b,1-r),dn(t,o.b,"end"),a||(o.b?p():--o.group.r||Ye(o.group.c)),o=null;else if(J>=o.start){const ie=J-o.start;r=o.a+o.d*G(ie/o.duration),w(r,1-r)}}return!!(o||a)}))}return{run(g){Wl(s)?Li().then(()=>{s=s({direction:g?"in":"out"}),_(g)}):_(g)},end(){p(),o=a=null}}}function ii(t,e){const n=e.token={};function l(i,s,r,o){if(e.token!==n)return;e.resolved=o;let a=e.ctx;r!==void 0&&(a=a.slice(),a[r]=o);const c=i&&(e.current=i)(a);let f=!1;e.block&&(e.blocks?e.blocks.forEach((p,m)=>{m!==s&&p&&($e(),j(p,1,1,()=>{e.blocks[m]===p&&(e.blocks[m]=null)}),we())}):e.block.d(1),c.c(),M(c,1),c.m(e.mount(),e.anchor),f=!0),e.block=c,e.blocks&&(e.blocks[s]=c),f&&ji()}if(Do(t)){const i=Nn();if(t.then(s=>{ql(i),l(e.then,1,e.value,s),ql(null)},s=>{if(ql(i),l(e.catch,2,e.error,s),ql(null),!e.hasCatch)throw s}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}}function ho(t,e,n){const l=e.slice(),{resolved:i}=t;t.current===t.then&&(l[t.value]=i),t.current===t.catch&&(l[t.error]=i),t.block.p(l,n)}function V(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function oi(t,e){j(t,1,1,()=>{e.delete(t.key)})}function ai(t,e,n,l,i,s,r,o,a,c,f,p){let m=t.length,_=s.length,g=m;const P={};for(;g--;)P[t[g].key]=g;const b=[],G=new Map,w=new Map,y=[];for(g=_;g--;){const Y=p(i,s,g),U=n(Y);let E=r.get(U);E?y.push(()=>E.p(Y,e)):(E=c(U,Y),E.c()),G.set(U,b[g]=E),U in P&&w.set(U,Math.abs(g-P[U]))}const T=new Set,J=new Set;function ie(Y){M(Y,1),Y.m(o,f),r.set(Y.key,Y),f=Y.first,_--}for(;m&&_;){const Y=b[_-1],U=t[m-1],E=Y.key,ee=U.key;Y===U?(f=Y.first,m--,_--):G.has(ee)?!r.has(E)||T.has(E)?ie(Y):J.has(ee)?m--:w.get(E)>w.get(ee)?(J.add(E),ie(Y)):(T.add(ee),m--):(a(U,r),m--)}for(;m--;){const Y=t[m];G.has(Y.key)||a(Y,r)}for(;_;)ie(b[_-1]);return Ye(y),b}function vn(t,e){const n={},l={},i={$$scope:1};let s=t.length;for(;s--;){const r=t[s],o=e[s];if(o){for(const a in r)a in o||(l[a]=1);for(const a in o)i[a]||(n[a]=o[a],i[a]=1);t[s]=o}else for(const a in r)i[a]=1}for(const r in l)r in n||(n[r]=void 0);return n}function Ql(t){return typeof t=="object"&&t!==null?t:{}}function Ae(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function q(t){t&&t.c()}function D(t,e,n){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),El(()=>{const s=t.$$.on_mount.map(ao).filter(Wl);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ye(s),t.$$.on_mount=[]}),i.forEach(El)}function F(t,e){const n=t.$$;n.fragment!==null&&(ta(n.after_update),Ye(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ia(t,e){t.$$.dirty[0]===-1&&(Pn.push(t),xo(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function je(t,e,n,l,i,s,r=null,o=[-1]){const a=Fn;ql(t);const c=t.$$={fragment:null,ctx:[],props:s,update:N,not_equal:i,bound:Oi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Oi(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(p,m,..._)=>{const g=_.length?_[0]:m;return c.ctx&&i(c.ctx[p],c.ctx[p]=g)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](g),f&&ia(t,p)),m}):[],c.update(),f=!0,Ye(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const p=Yo(e.target);c.fragment&&c.fragment.l(p),p.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&M(t.$$.fragment),D(t,e.target,e.anchor),ji()}ql(a)}class Le{constructor(){ye(this,"$$");ye(this,"$$set")}$destroy(){F(this,1),this.$destroy=N}$on(e,n){if(!Wl(n))return N;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!Fo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const sa="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(sa);function ra(t){const e=t-1;return e*e*e+1}function Di(t,{delay:e=0,duration:n=400,easing:l=ri}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:s=>`opacity: ${s*i}`}}function Fi(t,{delay:e=0,duration:n=400,easing:l=ra,x:i=0,y:s=0,opacity:r=0}={}){const o=getComputedStyle(t),a=+o.opacity,c=o.transform==="none"?"":o.transform,f=a*(1-r),[p,m]=Ei(i),[_,g]=Ei(s);return{delay:e,duration:n,easing:l,css:(P,b)=>`
			transform: ${c} translate(${(1-P)*p}${m}, ${(1-P)*_}${g});
			opacity: ${a-f*b}`}}const Si={},si={},mo={},go=/^:(.+)/,qi=4,oa=3,aa=2,ca=1,ua=1,qn=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),di=t=>t.replace(/(^\/+|\/+$)/g,""),fa=(t,e)=>{const n=t.default?0:qn(t.path).reduce((l,i)=>(l+=qi,i===""?l+=ua:go.test(i)?l+=aa:i[0]==="*"?l-=qi+ca:l+=oa,l),0);return{route:t,score:n,index:e}},_a=t=>t.map(fa).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),Bi=(t,e)=>{let n,l;const[i]=e.split("?"),s=qn(i),r=s[0]==="",o=_a(t);for(let a=0,c=o.length;a<c;a++){const f=o[a].route;let p=!1;if(f.default){l={route:f,params:{},uri:e};continue}const m=qn(f.path),_={},g=Math.max(s.length,m.length);let P=0;for(;P<g;P++){const b=m[P],G=s[P];if(b&&b[0]==="*"){const y=b==="*"?"*":b.slice(1);_[y]=s.slice(P).map(decodeURIComponent).join("/");break}if(typeof G>"u"){p=!0;break}const w=go.exec(b);if(w&&!r){const y=decodeURIComponent(G);_[w[1]]=y}else if(b!==G){p=!0;break}}if(!p){n={route:f,params:_,uri:"/"+s.slice(0,P).join("/")};break}}return n||l||null},mi=(t,e)=>t+(e?`?${e}`:""),pa=(t,e)=>{if(t.startsWith("/"))return t;const[n,l]=t.split("?"),[i]=e.split("?"),s=qn(n),r=qn(i);if(s[0]==="")return mi(i,l);if(!s[0].startsWith(".")){const c=r.concat(s).join("/");return mi((i==="/"?"":"/")+c,l)}const o=r.concat(s),a=[];return o.forEach(c=>{c===".."?a.pop():c!=="."&&a.push(c)}),mi("/"+a.join("/"),l)},Wi=(t,e)=>`${di(e==="/"?t:`${di(t)}/${di(e)}`)}/`,bo=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),ha=t=>{const e=location.host;return t.host===e||t.href.indexOf(`https://${e}`)===0||t.href.indexOf(`http://${e}`)===0},vo=()=>typeof window<"u"&&"document"in window&&"location"in window,da=t=>({active:t&4}),Ui=t=>({active:!!t[2]});function ma(t){let e,n,l,i;const s=t[17].default,r=Ul(s,t,t[16],Ui);let o=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],a={};for(let c=0;c<o.length;c+=1)a=Al(a,o[c]);return{c(){e=h("a"),r&&r.c(),Hi(e,a)},m(c,f){$(c,e,f),r&&r.m(e,null),n=!0,l||(i=x(e,"click",t[5]),l=!0)},p(c,[f]){r&&r.p&&(!n||f&65540)&&Vl(r,s,c,c[16],n?Yl(s,c[16],f,da):Jl(c[16]),Ui),Hi(e,a=vn(o,[(!n||f&1)&&{href:c[0]},(!n||f&4)&&{"aria-current":c[2]},f&2&&c[1],f&64&&c[6]]))},i(c){n||(M(r,c),n=!0)},o(c){j(r,c),n=!1},d(c){c&&k(e),r&&r.d(c),l=!1,i()}}}function ga(t,e,n){let l;const i=["to","replace","state","getProps","preserveScroll"];let s=Ni(e,i),r,o,{$$slots:a={},$$scope:c}=e,{to:f="#"}=e,{replace:p=!1}=e,{state:m={}}=e,{getProps:_=()=>({})}=e,{preserveScroll:g=!1}=e;const P=Mn(Si);rl(t,P,U=>n(14,r=U));const{base:b}=Mn(si);rl(t,b,U=>n(15,o=U));const{navigate:G}=Mn(mo),w=Xo();let y,T,J,ie;const Y=U=>{if(w("click",U),bo(U)){U.preventDefault();const E=r.pathname===y||p;G(y,{state:m,replace:E,preserveScroll:g})}};return t.$$set=U=>{e=Al(Al({},e),ki(U)),n(6,s=Ni(e,i)),"to"in U&&n(7,f=U.to),"replace"in U&&n(8,p=U.replace),"state"in U&&n(9,m=U.state),"getProps"in U&&n(10,_=U.getProps),"preserveScroll"in U&&n(11,g=U.preserveScroll),"$$scope"in U&&n(16,c=U.$$scope)},t.$$.update=()=>{t.$$.dirty&32896&&n(0,y=pa(f,o.uri)),t.$$.dirty&16385&&n(12,T=r.pathname.startsWith(y)),t.$$.dirty&16385&&n(13,J=y===r.pathname),t.$$.dirty&8192&&n(2,l=J?"page":void 0),n(1,ie=_({location:r,href:y,isPartiallyCurrent:T,isCurrent:J,existingProps:s}))},[y,ie,l,P,b,Y,s,f,p,m,_,g,T,J,r,o,c,a]}class Ht extends Le{constructor(e){super(),je(this,e,ga,ma,Pe,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const ba=t=>({params:t&4}),Yi=t=>({params:t[2]});function Vi(t){let e,n,l,i;const s=[ka,va],r=[];function o(a,c){return a[0]?0:1}return e=o(t),n=r[e]=s[e](t),{c(){n.c(),l=Ce()},m(a,c){r[e].m(a,c),$(a,l,c),i=!0},p(a,c){let f=e;e=o(a),e===f?r[e].p(a,c):($e(),j(r[f],1,1,()=>{r[f]=null}),we(),n=r[e],n?n.p(a,c):(n=r[e]=s[e](a),n.c()),M(n,1),n.m(l.parentNode,l))},i(a){i||(M(n),i=!0)},o(a){j(n),i=!1},d(a){a&&k(l),r[e].d(a)}}}function va(t){let e;const n=t[8].default,l=Ul(n,t,t[7],Yi);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&132)&&Vl(l,n,i,i[7],e?Yl(n,i[7],s,ba):Jl(i[7]),Yi)},i(i){e||(M(l,i),e=!0)},o(i){j(l,i),e=!1},d(i){l&&l.d(i)}}}function ka(t){let e,n,l,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Sa,then:wa,catch:$a,value:12,blocks:[,,,]};return ii(n=t[0],i),{c(){e=Ce(),i.block.c()},m(s,r){$(s,e,r),i.block.m(s,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,l=!0},p(s,r){t=s,i.ctx=t,r&1&&n!==(n=t[0])&&ii(n,i)||ho(i,t,r)},i(s){l||(M(i.block),l=!0)},o(s){for(let r=0;r<3;r+=1){const o=i.blocks[r];j(o)}l=!1},d(s){s&&k(e),i.block.d(s),i.token=null,i=null}}}function $a(t){return{c:N,m:N,p:N,i:N,o:N,d:N}}function wa(t){var o;let e,n,l;const i=[t[2],t[3]];var s=((o=t[12])==null?void 0:o.default)||t[12];function r(a,c){let f={};for(let p=0;p<i.length;p+=1)f=Al(f,i[p]);return c!==void 0&&c&12&&(f=Al(f,vn(i,[c&4&&Ql(a[2]),c&8&&Ql(a[3])]))),{props:f}}return s&&(e=Ln(s,r(t))),{c(){e&&q(e.$$.fragment),n=Ce()},m(a,c){e&&D(e,a,c),$(a,n,c),l=!0},p(a,c){var f;if(c&1&&s!==(s=((f=a[12])==null?void 0:f.default)||a[12])){if(e){$e();const p=e;j(p.$$.fragment,1,0,()=>{F(p,1)}),we()}s?(e=Ln(s,r(a,c)),q(e.$$.fragment),M(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}else if(s){const p=c&12?vn(i,[c&4&&Ql(a[2]),c&8&&Ql(a[3])]):{};e.$set(p)}},i(a){l||(e&&M(e.$$.fragment,a),l=!0)},o(a){e&&j(e.$$.fragment,a),l=!1},d(a){a&&k(n),e&&F(e,a)}}}function Sa(t){return{c:N,m:N,p:N,i:N,o:N,d:N}}function Ca(t){let e,n,l=t[1]&&t[1].route===t[5]&&Vi(t);return{c(){l&&l.c(),e=Ce()},m(i,s){l&&l.m(i,s),$(i,e,s),n=!0},p(i,[s]){i[1]&&i[1].route===i[5]?l?(l.p(i,s),s&2&&M(l,1)):(l=Vi(i),l.c(),M(l,1),l.m(e.parentNode,e)):l&&($e(),j(l,1,1,()=>{l=null}),we())},i(i){n||(M(l),n=!0)},o(i){j(l),n=!1},d(i){i&&k(e),l&&l.d(i)}}}function Pa(t,e,n){let l,{$$slots:i={},$$scope:s}=e,{path:r=""}=e,{component:o=null}=e,a={},c={};const{registerRoute:f,unregisterRoute:p,activeRoute:m}=Mn(si);rl(t,m,g=>n(1,l=g));const _={path:r,default:r===""};return f(_),Qo(()=>{p(_)}),t.$$set=g=>{n(11,e=Al(Al({},e),ki(g))),"path"in g&&n(6,r=g.path),"component"in g&&n(0,o=g.component),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{if(l&&l.route===_){n(2,a=l.params);const{component:g,path:P,...b}=e;n(3,c=b),g&&(g.toString().startsWith("class ")?n(0,o=g):n(0,o=g())),vo()&&!l.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=ki(e),[o,l,a,c,m,_,r,s,i]}class It extends Le{constructor(e){super(),je(this,e,Pa,Ca,Pe,{path:6,component:0})}}const Sn=[];function ya(t,e){return{subscribe:ml(t,e).subscribe}}function ml(t,e=N){let n;const l=new Set;function i(o){if(Pe(t,o)&&(t=o,n)){const a=!Sn.length;for(const c of l)c[1](),Sn.push(c,t);if(a){for(let c=0;c<Sn.length;c+=2)Sn[c][0](Sn[c+1]);Sn.length=0}}}function s(o){i(o(t))}function r(o,a=N){const c=[o,a];return l.add(c),l.size===1&&(n=e(i,s)||N),o(t),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:r}}function Ma(t,e,n){const l=!Array.isArray(t),i=l?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return ya(n,(r,o)=>{let a=!1;const c=[];let f=0,p=N;const m=()=>{if(f)return;p();const g=e(l?c[0]:c,r,o);s?r(g):p=Wl(g)?g:N},_=i.map((g,P)=>Sl(g,b=>{c[P]=b,f&=~(1<<P),a&&m()},()=>{f|=1<<P}));return a=!0,m(),function(){Ye(_),p(),a=!1}})}const gi=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Aa=t=>{const e=[];let n=gi(t);return{get location(){return n},listen(l){e.push(l);const i=()=>{n=gi(t),l({location:n,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const s=e.indexOf(l);e.splice(s,1)}},navigate(l,{state:i,replace:s=!1,preserveScroll:r=!1,blurActiveElement:o=!0}={}){i={...i,key:Date.now()+""};try{s?t.history.replaceState(i,"",l):t.history.pushState(i,"",l)}catch{t.location[s?"replace":"assign"](l)}n=gi(t),e.forEach(a=>a({location:n,action:"PUSH",preserveScroll:r})),o&&document.activeElement.blur()}}},ja=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],l=[];return{get location(){return n[e]},addEventListener(i,s){},removeEventListener(i,s){},history:{get entries(){return n},get index(){return e},get state(){return l[e]},pushState(i,s,r){const[o,a=""]=r.split("?");e++,n.push({pathname:o,search:a}),l.push(i)},replaceState(i,s,r){const[o,a=""]=r.split("?");n[e]={pathname:o,search:a},l[e]=i}}}},ko=Aa(vo()?window:ja()),{navigate:ci}=ko,La=t=>({route:t&4,location:t&2}),Ji=t=>({route:t[2]&&t[2].uri,location:t[1]}),Ga=t=>({route:t&4,location:t&2}),Ki=t=>({route:t[2]&&t[2].uri,location:t[1]});function Ra(t){let e;const n=t[15].default,l=Ul(n,t,t[14],Ji);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&16390)&&Vl(l,n,i,i[14],e?Yl(n,i[14],s,La):Jl(i[14]),Ji)},i(i){e||(M(l,i),e=!0)},o(i){j(l,i),e=!1},d(i){l&&l.d(i)}}}function Ta(t){let e=t[1].pathname,n,l,i=Qi(t);return{c(){i.c(),n=Ce()},m(s,r){i.m(s,r),$(s,n,r),l=!0},p(s,r){r&2&&Pe(e,e=s[1].pathname)?($e(),j(i,1,1,N),we(),i=Qi(s),i.c(),M(i,1),i.m(n.parentNode,n)):i.p(s,r)},i(s){l||(M(i),l=!0)},o(s){j(i),l=!1},d(s){s&&k(n),i.d(s)}}}function Qi(t){let e,n,l,i;const s=t[15].default,r=Ul(s,t,t[14],Ki);return{c(){e=h("div"),r&&r.c()},m(o,a){$(o,e,a),r&&r.m(e,null),i=!0},p(o,a){r&&r.p&&(!i||a&16390)&&Vl(r,s,o,o[14],i?Yl(s,o[14],a,Ga):Jl(o[14]),Ki)},i(o){i||(M(r,o),o&&El(()=>{i&&(l&&l.end(1),n=la(e,t[3],{}),n.start())}),i=!0)},o(o){j(r,o),n&&n.invalidate(),o&&(l=na(e,t[3],{})),i=!1},d(o){o&&k(e),r&&r.d(o),o&&l&&l.end()}}}function Ia(t){let e,n,l,i;const s=[Ta,Ra],r=[];function o(a,c){return a[0]?0:1}return e=o(t),n=r[e]=s[e](t),{c(){n.c(),l=Ce()},m(a,c){r[e].m(a,c),$(a,l,c),i=!0},p(a,[c]){let f=e;e=o(a),e===f?r[e].p(a,c):($e(),j(r[f],1,1,()=>{r[f]=null}),we(),n=r[e],n?n.p(a,c):(n=r[e]=s[e](a),n.c()),M(n,1),n.m(l.parentNode,l))},i(a){i||(M(n),i=!0)},o(a){j(n),i=!1},d(a){a&&k(l),r[e].d(a)}}}function Oa(t,e,n){let l,i,s,r,{$$slots:o={},$$scope:a}=e,{basepath:c="/"}=e,{url:f=null}=e,{viewtransition:p=null}=e,{history:m=ko}=e;const _=(E,ee,A)=>{const H=p(A);return typeof(H==null?void 0:H.fn)=="function"?H.fn(E,H):H};pi(mo,m);const g=Mn(Si),P=Mn(si),b=ml([]);rl(t,b,E=>n(12,i=E));const G=ml(null);rl(t,G,E=>n(2,r=E));let w=!1;const y=g||ml(f?{pathname:f}:m.location);rl(t,y,E=>n(1,l=E));const T=P?P.routerBase:ml({path:c,uri:c});rl(t,T,E=>n(13,s=E));const J=Ma([T,G],([E,ee])=>{if(!ee)return E;const{path:A}=E,{route:H,uri:te}=ee;return{path:H.default?A:H.path.replace(/\*.*$/,""),uri:te}}),ie=E=>{const{path:ee}=s;let{path:A}=E;if(E._path=A,E.path=Wi(ee,A),typeof window>"u"){if(w)return;const H=Bi([E],l.pathname);H&&(G.set(H),w=!0)}else b.update(H=>[...H,E])},Y=E=>{b.update(ee=>ee.filter(A=>A!==E))};let U=!1;return g||(En(()=>m.listen(ee=>{n(11,U=ee.preserveScroll||!1),y.set(ee.location)})),pi(Si,y)),pi(si,{activeRoute:G,base:T,routerBase:J,registerRoute:ie,unregisterRoute:Y}),t.$$set=E=>{"basepath"in E&&n(8,c=E.basepath),"url"in E&&n(9,f=E.url),"viewtransition"in E&&n(0,p=E.viewtransition),"history"in E&&n(10,m=E.history),"$$scope"in E&&n(14,a=E.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:E}=s;b.update(ee=>ee.map(A=>Object.assign(A,{path:Wi(E,A._path)})))}if(t.$$.dirty&6146){const E=Bi(i,l.pathname);G.set(E&&{...E,preserveScroll:U})}},[p,l,r,_,b,G,y,T,c,f,m,U,i,s,a,o]}class Un extends Le{constructor(e){super(),je(this,e,Oa,Ia,Pe,{basepath:8,url:9,viewtransition:0,history:10})}}const mn=t=>{const e=n=>{const l=n.currentTarget;(l.target===""||l.target==="_self")&&ha(l)&&bo(n)&&(n.preventDefault(),ci(l.pathname+l.search,{replace:l.hasAttribute("replace"),preserveScroll:l.hasAttribute("preserveScroll")}))};return t.addEventListener("click",e),{destroy(){t.removeEventListener("click",e)}}},gn=ml(!1),bn=ml(null),Bl=ml([]),$o=ml(null);function pn(){var n,l;const t=sl(Bl).length,e=sl(Bl)[t-1];return(n=e==null?void 0:e.callbacks)!=null&&n.onBeforeClose&&((l=e==null?void 0:e.callbacks)==null?void 0:l.onBeforeClose())===!1?!1:(Bl.set([]),!0)}function Na(t=1){var l,i;const e=sl(Bl).length,n=sl(Bl)[e-1];return sl(bn)||(l=n==null?void 0:n.callbacks)!=null&&l.onBeforeClose&&((i=n==null?void 0:n.callbacks)==null?void 0:i.onBeforeClose())===!1?!1:(sl(gn)&&e>0&&bn.set(!0),gn.set(!1),$o.set("pop"),Ea(t),!0)}function wo(){return Na(1)}function So(t,e,n){sl(bn)||($o.set("push"),sl(gn)&&sl(Bl).length&&bn.set(!0),gn.set(!1),Bl.update(l=>[...l,{component:t,props:e}]))}function Ea(t=1){Bl.update(e=>e.slice(0,Math.max(0,e.length-t)))}function Xi(t,e,n){const l=t.slice();return l[9]=e[n],l[11]=n,l}const Ha=t=>({}),Zi=t=>({}),za=t=>({}),xi=t=>({});function es(t){let e;const n=t[4].backdrop,l=Ul(n,t,t[3],xi);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&8)&&Vl(l,n,i,i[3],e?Yl(n,i[3],s,za):Jl(i[3]),xi)},i(i){e||(M(l,i),e=!0)},o(i){j(l,i),e=!1},d(i){l&&l.d(i)}}}function Da(t){let e,n,l;const i=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var s=t[9].component;function r(o,a){let c={};for(let f=0;f<i.length;f+=1)c=Al(c,i[f]);return a!==void 0&&a&3&&(c=Al(c,vn(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},a&1&&Ql(o[9].props)]))),{props:c}}return s&&(e=Ln(s,r(t)),e.$on("introstart",t[7]),e.$on("outroend",t[8])),{c(){e&&q(e.$$.fragment),n=Ce()},m(o,a){e&&D(e,o,a),$(o,n,a),l=!0},p(o,a){if(a&1&&s!==(s=o[9].component)){if(e){$e();const c=e;j(c.$$.fragment,1,0,()=>{F(c,1)}),we()}s?(e=Ln(s,r(o,a)),e.$on("introstart",o[7]),e.$on("outroend",o[8]),q(e.$$.fragment),M(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}else if(s){const c=a&3?vn(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},a&1&&Ql(o[9].props)]):{};e.$set(c)}},i(o){l||(e&&M(e.$$.fragment,o),l=!0)},o(o){e&&j(e.$$.fragment,o),l=!1},d(o){o&&k(n),e&&F(e,o)}}}function Fa(t){let e,n,l,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Wa,then:Ba,catch:qa,value:12,blocks:[,,,]};return ii(n=ls(t[9].component),i),{c(){e=Ce(),i.block.c()},m(s,r){$(s,e,r),i.block.m(s,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,l=!0},p(s,r){t=s,i.ctx=t,r&1&&n!==(n=ls(t[9].component))&&ii(n,i)||ho(i,t,r)},i(s){l||(M(i.block),l=!0)},o(s){for(let r=0;r<3;r+=1){const o=i.blocks[r];j(o)}l=!1},d(s){s&&k(e),i.block.d(s),i.token=null,i=null}}}function qa(t){return{c:N,m:N,p:N,i:N,o:N,d:N}}function Ba(t){let e,n,l;const i=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var s=t[12];function r(o,a){let c={};for(let f=0;f<i.length;f+=1)c=Al(c,i[f]);return a!==void 0&&a&3&&(c=Al(c,vn(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},a&1&&Ql(o[9].props)]))),{props:c}}return s&&(e=Ln(s,r(t)),e.$on("introstart",t[5]),e.$on("outroend",t[6])),{c(){e&&q(e.$$.fragment),n=v()},m(o,a){e&&D(e,o,a),$(o,n,a),l=!0},p(o,a){if(a&1&&s!==(s=o[12])){if(e){$e();const c=e;j(c.$$.fragment,1,0,()=>{F(c,1)}),we()}s?(e=Ln(s,r(o,a)),e.$on("introstart",o[5]),e.$on("outroend",o[6]),q(e.$$.fragment),M(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}else if(s){const c=a&3?vn(i,[{isOpen:o[11]===o[0].length-1&&!o[1]},a&1&&Ql(o[9].props)]):{};e.$set(c)}},i(o){l||(e&&M(e.$$.fragment,o),l=!0)},o(o){e&&j(e.$$.fragment,o),l=!1},d(o){o&&k(n),e&&F(e,o)}}}function Wa(t){let e,n;const l=t[4].loading,i=Ul(l,t,t[3],Zi);return{c(){i&&i.c(),e=v()},m(s,r){i&&i.m(s,r),$(s,e,r),n=!0},p(s,r){i&&i.p&&(!n||r&8)&&Vl(i,l,s,s[3],n?Yl(l,s[3],r,Ha):Jl(s[3]),Zi)},i(s){n||(M(i,s),n=!0)},o(s){j(i,s),n=!1},d(s){s&&k(e),i&&i.d(s)}}}function ts(t,e){let n,l,i,s,r,o;const a=[Fa,Da],c=[];function f(p,m){return m&1&&(l=null),l==null&&(l=!!Va(p[9].component)),l?0:1}return i=f(e,-1),s=c[i]=a[i](e),{key:t,first:null,c(){n=Ce(),s.c(),r=Ce(),this.first=n},m(p,m){$(p,n,m),c[i].m(p,m),$(p,r,m),o=!0},p(p,m){e=p;let _=i;i=f(e,m),i===_?c[i].p(e,m):($e(),j(c[_],1,1,()=>{c[_]=null}),we(),s=c[i],s?s.p(e,m):(s=c[i]=a[i](e),s.c()),M(s,1),s.m(r.parentNode,r))},i(p){o||(M(s),o=!0)},o(p){j(s),o=!1},d(p){p&&(k(n),k(r)),c[i].d(p)}}}function Ua(t){let e=[],n=new Map,l,i,s=V(t[0]);const r=o=>o[11];for(let o=0;o<s.length;o+=1){let a=Xi(t,s,o),c=r(a);n.set(c,e[o]=ts(c,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=Ce()},m(o,a){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,a);$(o,l,a),i=!0},p(o,a){a&15&&(s=V(o[0]),$e(),e=ai(e,a,r,1,o,s,n,l.parentNode,oi,ts,l,Xi),we())},i(o){if(!i){for(let a=0;a<s.length;a+=1)M(e[a]);i=!0}},o(o){for(let a=0;a<e.length;a+=1)j(e[a]);i=!1},d(o){o&&k(l);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function Ya(t){let e,n,l=t[0].length>0&&es(t);const i=t[4].default,s=Ul(i,t,t[3],null),r=s||Ua(t);return{c(){l&&l.c(),e=v(),r&&r.c()},m(o,a){l&&l.m(o,a),$(o,e,a),r&&r.m(o,a),n=!0},p(o,[a]){o[0].length>0?l?(l.p(o,a),a&1&&M(l,1)):(l=es(o),l.c(),M(l,1),l.m(e.parentNode,e)):l&&($e(),j(l,1,1,()=>{l=null}),we()),s?s.p&&(!n||a&8)&&Vl(s,i,o,o[3],n?Yl(i,o[3],a,null):Jl(o[3]),null):r&&r.p&&(!n||a&15)&&r.p(o,n?a:-1)},i(o){n||(M(l),M(r,o),n=!0)},o(o){j(l),j(r,o),n=!1},d(o){o&&k(e),l&&l.d(o),r&&r.d(o)}}}function Va(t){return typeof t.prototype>"u"}async function ls(t){return t().then(e=>e.default)}function Ja(t,e,n){let l,i,s;rl(t,Bl,m=>n(0,l=m)),rl(t,bn,m=>n(1,i=m)),rl(t,gn,m=>n(2,s=m));let{$$slots:r={},$$scope:o}=e;const a=()=>{Pt(gn,s=!0,s)},c=()=>{Pt(bn,i=!1,i)},f=()=>{Pt(gn,s=!0,s)},p=()=>{Pt(bn,i=!1,i)};return t.$$set=m=>{"$$scope"in m&&n(3,o=m.$$scope)},[l,i,s,o,r,a,c,f,p]}class Ka extends Le{constructor(e){super(),je(this,e,Ja,Ya,Pe,{})}}const Qa=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ui(t){return typeof t=="string"&&Qa.test(t)}const fi="00000000-0000-0000-0000-000000000000";function Tl(t,e,n){return typeof t=="string"&&(t=Number.parseInt(t)),typeof t!="number"||isNaN(t)?e:Math.max(e,Math.min(n,t))}var ve=(t=>(t.Candor="Candor",t.Conscious="Conscious",t.Cunning="Cunning",t.Might="Might",t.Artifice="Artifice",t.Tuning="Tuning",t))(ve||{});const $l=["Candor","Conscious","Cunning"],Ll=["Might","Artifice","Tuning"],Xa=[...$l,...Ll],Gn=["Persuasion","Insight","Deception"],Bn=["Captivation","Awareness","Portrayal","Poignancy","Composure","Pressure"];[...Gn,...Bn];var Co=(t=>(t.Scouting="Scouting",t.Analysis="Analysis",t.Sensing="Sensing",t.Sneaking="Sneaking",t.Finesse="Finesse",t.Hiding="Hiding",t.Athletics="Athletics",t.History="History",t.Discord="Discord",t.Security="Security",t.Rumor="Rumor",t.Harmony="Harmony",t.Wayfaring="Wayfaring",t.Tinkering="Tinkering",t.Rituals="Rituals",t))(Co||{});const Rn=["Scouting","Analysis","Sensing","Sneaking","Finesse","Hiding"],Wn=["Athletics","History","Discord","Security","Rumor","Harmony","Wayfaring","Tinkering","Rituals"];[...Rn,...Wn];const Za={Persuasion:"Candor",Insight:"Conscious",Deception:"Cunning",Captivation:"Candor",Awareness:"Conscious",Portrayal:"Cunning",Poignancy:"Candor",Composure:"Conscious",Pressure:"Cunning",Scouting:"Might",Analysis:"Artifice",Sensing:"Tuning",Sneaking:"Might",Finesse:"Artifice",Hiding:"Tuning",Athletics:"Might",History:"Artifice",Discord:"Tuning",Security:"Might",Rumor:"Artifice",Harmony:"Tuning",Wayfaring:"Might",Tinkering:"Artifice",Rituals:"Tuning"};function Vn(t){let e=t[Object.keys(t).at(0)??""].length,n=Array.from({length:e},(l,i)=>Object.fromEntries(Object.keys(t).map(s=>[s,t[s].slice(0,i+1).reduce((r,o)=>r+o,0)])));return console.log(n),n}var qe=(t=>(t.Manual="Manual",t.Roll="Roll",t))(qe||{});class Tn{constructor(e=""){ye(this,"_id","");ye(this,"name","");ye(this,"description","");ye(this,"_experience",0);ye(this,"_level",1);ye(this,"levelTrackerPerks",{StatPoints:[5,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1],SocialSkillPoints:[5,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0],ExplorationSkillPoints:[7,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0],SocialFeatPoints:[2,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0],TraitFeatPoints:[5,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1],ClassFeatPoints:[3,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1],PrestigeFeatPoints:[0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,1,0,1]});ye(this,"allLevelPerks",Vn(this.levelTrackerPerks));ye(this,"warriorLevel",0);ye(this,"warriorTrackerPerks",{GeneralWealth:[0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0],FortitudeSave:[0,0,1,0,1,0,1,0,1,0,0,1,0,0,1,0],WarriorSkill:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],ShieldMax:[0,1,0,1,0,1,0,0,0,1,0,0,0,1,0,1],CloseDamage:[2,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0],WarriorPoints:[0,1,0,0,1,0,1,0,0,0,1,0,0,0,1,0]});ye(this,"allWarriorPerks",Vn(this.warriorTrackerPerks));ye(this,"specialistLevel",0);ye(this,"specialistTrackerPerks",{GreyWealth:[0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0],InitiativeSave:[0,0,1,0,1,0,1,0,1,0,0,1,0,0,1,0],SpecialistSkill:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],BaseDefense:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],RangedDamage:[2,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0],SpecialistPoints:[0,1,0,0,1,1,1,0,0,0,1,1,1,1,1,0]});ye(this,"allSpecialistPerks",Vn(this.specialistTrackerPerks));ye(this,"casterLevel",0);ye(this,"casterTrackerPerks",{ObscureWealth:[0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0],WillpowerSave:[0,0,1,0,1,0,1,0,1,0,0,1,0,0,1,0],CasterSkill:[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],RitualPoints:[0,0,0,0,0,1,0,0,0,0,1,0,1,0,1,0],SpellPoints:[0,2,1,1,2,1,1,2,0,1,2,1,1,2,1,2]});ye(this,"allCasterPerks",Vn(this.casterTrackerPerks));ye(this,"constitutionFeat");ye(this,"traitFeats",[]);ye(this,"socialFeats",[]);ye(this,"socialStatGenMethod","Manual");ye(this,"explorationStatGenMethod","Manual");ye(this,"statGen_Roll",{});ye(this,"statGen_Manual",{Candor:-1,Conscious:-1,Cunning:-1,Might:-1,Artifice:-1,Tuning:-1});ye(this,"statImprovements",{Candor:0,Conscious:0,Cunning:0,Might:0,Artifice:0,Tuning:0});ye(this,"socialSkills",{Persuasion:{points:0,inspiration:!1},Insight:{points:0,inspiration:!1},Deception:{points:0,inspiration:!1},Captivation:{points:0,inspiration:!1},Awareness:{points:0,inspiration:!1},Portrayal:{points:0,inspiration:!1},Poignancy:{points:0,inspiration:!1},Composure:{points:0,inspiration:!1},Pressure:{points:0,inspiration:!1}});ye(this,"explorationSkills",{Scouting:{points:0,inspiration:!1},Analysis:{points:0,inspiration:!1},Sensing:{points:0,inspiration:!1},Sneaking:{points:0,inspiration:!1},Finesse:{points:0,inspiration:!1},Hiding:{points:0,inspiration:!1},Athletics:{points:0,inspiration:!1},History:{points:0,inspiration:!1},Discord:{points:0,inspiration:!1},Security:{points:0,inspiration:!1},Rumor:{points:0,inspiration:!1},Harmony:{points:0,inspiration:!1},Wayfaring:{points:0,inspiration:!1},Tinkering:{points:0,inspiration:!1},Rituals:{points:0,inspiration:!1}});this.id=e,this.name=""}lookup(e){return this[e]}get id(){return this._id}set id(e){if(!ui(e)){this._id=fi;return}this._id=e}get experience(){return this._experience}set experience(e){this._experience=Tl(e,0,10)}get level(){return this._level}set level(e){this._level=Tl(e,1,20)}get levelPerks(){return this.allLevelPerks[Tl(this._level-1,0,19)]}get StatPoints(){return this.levelPerks.StatPoints}get SocialSkillPoints(){return this.levelPerks.SocialSkillPoints}get ExplorationSkillPoints(){return this.levelPerks.ExplorationSkillPoints}get SocialFeatPoints(){return this.levelPerks.SocialFeatPoints}get TraitFeatPoints(){return this.levelPerks.TraitFeatPoints}get ClassFeatPoints(){return this.levelPerks.ClassFeatPoints}get PrestigeFeatPoints(){return this.levelPerks.PrestigeFeatPoints}get warriorPerks(){return this.allWarriorPerks[Tl(this.warriorLevel,0,15)]}get GeneralWealth(){return this.warriorPerks.GeneralWealth}get FortitudeSave(){return this.warriorPerks.FortitudeSave}get StartingWarriorSkill(){return this.Might}get WarriorSkill(){return this.StartingWarriorSkill+this.warriorPerks.WarriorSkill}get ShieldMax(){return this.warriorPerks.ShieldMax}get StartingCloseDamage(){return 0}get CloseDamage(){return this.StartingCloseDamage+this.warriorPerks.CloseDamage}get WarriorPoints(){return this.warriorPerks.WarriorPoints}get specialistPerks(){return this.allSpecialistPerks[Tl(this.specialistLevel,0,15)]}get GreyWealth(){return this.specialistPerks.GreyWealth}get InitiativeSave(){return this.specialistPerks.InitiativeSave}get StartingSpecialistSkill(){return this.Artifice}get SpecialistSkill(){return this.StartingSpecialistSkill+this.specialistPerks.SpecialistSkill}get BaseDefense(){return this.specialistPerks.BaseDefense}get RangedDamage(){return this.specialistPerks.RangedDamage}get SpecialistPoints(){return this.specialistPerks.SpecialistPoints}get casterPerks(){return this.allCasterPerks[Tl(this.casterLevel,0,15)]}get ObscureWealth(){return this.casterPerks.ObscureWealth}get WillpowerSave(){return this.casterPerks.WillpowerSave}get StartingCasterSkill(){return this.Tuning}get CasterSkill(){return this.StartingCasterSkill+this.casterPerks.CasterSkill}get StartingRitualPoints(){return Math.max(this.GetSkill(Co.Rituals),0)}get RitualPoints(){return this.StartingRitualPoints+this.casterPerks.RitualPoints}get SpellPoints(){return this.casterPerks.SpellPoints}GetBaseStat(e){let n=$l.includes(e)?this.socialStatGenMethod:this.explorationStatGenMethod;return n=="Manual"?this.statGen_Manual[e]??-2:n=="Roll"?this.statGen_Roll[e]??-2:-2}GetStat(e){return this.GetBaseStat(e)+(this.statImprovements[e]??0)}GetStatString(e){let n=this.GetStat(e);return n<-1?"--":(n<0?"":"+")+n}get Candor(){return this.GetStat(ve.Candor)}get Conscious(){return this.GetStat(ve.Conscious)}get Cunning(){return this.GetStat(ve.Cunning)}get Might(){return this.GetStat(ve.Might)}get Artifice(){return this.GetStat(ve.Artifice)}get Tuning(){return this.GetStat(ve.Tuning)}GetSkill(e){var n=this.socialSkills[e]??this.explorationSkills[e];if(!n)return console.error("Unknown Skill"),-2;let l=(n.points??0)+(n.inspiration?1:0);return n.overrideStat&&Xa.includes(n.overrideStat)?this.GetStat(n.overrideStat)+l:this.GetStat(Za[e])+l}static FromJson(e){return Object.assign(new Tn,JSON.parse(e))}}class _i{constructor(){ye(this,"_id","");ye(this,"name","");ye(this,"class","");ye(this,"lineage","")}get id(){return this._id}set id(e){if(!ui(e)){this._id=fi;return}this._id=e}static FromJson(e){return Object.assign(new _i,JSON.parse(e))}}let Jn=class{constructor(){ye(this,"name","");ye(this,"email","")}};var xa={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Fl=xa.HNS_API_URL,Zn=typeof window<"u";console.log("IsBrowser: "+Zn);const ec=()=>{const t=ml(null),{subscribe:e,set:n,update:l}=t;return fetch(Fl+"Api/Account/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}).then(i=>{i.ok?i.json().then(s=>n(Object.assign(new Jn,s))):console.log(i.statusText)}),{subscribe:e,set:n,update:l,createAccount:async(i,s,r,o)=>{if(sl(t)){o(["Already logged-in. Log out first."]);return}const a=await fetch(Fl+"Api/Account/Create",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:r})});switch(a.status){case 200:a.json().then(c=>n(Object.assign(new Jn,c)));break;case 400:a.json().then(c=>{let f=Object.values(c.errors).flatMap(p=>p);o(f)});break;case 422:a.json().then(c=>{let f=Object.values(c).flatMap(p=>p);o(f)});break;default:console.error(`Unrecognized response status ${a.status}: ${a.statusText}.`);break}},login:async(i,s,r)=>{if(sl(t)){console.log("Tried to login while already logged in. Log out first.");return}const o=await fetch(Fl+"Api/Account/Login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:i,password:s})});switch(o.status){case 200:o.json().then(a=>n(Object.assign(new Jn,a)));break;case 400:o.json().then(a=>{let c=Object.values(a.errors).flatMap(f=>f);r(c)});break;case 401:o.json().then(a=>{let c=Object.values(a).flatMap(f=>f.errors.map(p=>p.errorMessage));r(c)});break;default:console.error("Unrecognized response status '"+o.status+": "+o.statusText+"'");break}},logout:async()=>{await fetch(Fl+"Api/Account/Logout",{method:"POST",credentials:"include"}).then(i=>{wl.set(null),location.reload()},i=>console.log(i))},updateAccount:async(i,s,r,o,a,c)=>{const f=await fetch(Fl+"Api/Account",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:i,email:s,password:r,currentPassword:o})});switch(f.status){case 200:f.json().then(p=>n(Object.assign(new Jn,p))),a();break;case 400:f.json().then(p=>{let m=Object.values(p.errors).flatMap(_=>_);c(m)});break;case 401:f.json().then(p=>{let m=Object.values(p).flatMap(_=>_.errors.map(g=>g.errorMessage));c(m)});break;case 422:f.json().then(p=>{let m=Object.values(p).flatMap(_=>_);c(m)});break;default:console.error("Unrecognized response status '"+f.status+": "+f.statusText+"'");break}}}},wl=ec(),ns=async()=>fetch(Fl+"Api/Characters/",{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function is(t,e){const n=t={};return l=>{t===n&&(l.ok?l.json().then(i=>{let s=i.map(r=>Object.assign(new _i,r));e(s)}):(e([]),console.log(l.statusText)))}}const tc=async()=>fetch(Fl+"Api/Characters/",{method:"POST",credentials:"include",headers:{Accept:"application/json"}});function lc(t,e,n){const l=t={};return i=>{i.ok?i.json().then(s=>{if(t===l){let r=s.map(o=>Object.assign(new _i,o));e(o=>(o.push(r),o)),n(r.id)}}):console.log(i.statusText)}}function nc(){var t=[];const{subscribe:e,set:n,update:l}=ml(t);let i={};return Promise.resolve(ns()).then(is(i,n)),{subscribe:e,refresh:()=>{Promise.resolve(ns()).then(is(i,n))},create:s=>{Promise.resolve(tc()).then(lc(i,l,s))}}}const Ci=nc(),ic=async t=>fetch(Fl+"Api/Characters/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});function bi(t,e){const n=t={};return l=>{t===n&&(l.ok?l.json().then(i=>{e(Object.assign(new Tn,i))}):console.log(l.statusText))}}const ss=async t=>fetch(Fl+"Api/Characters/"+t.id,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}),Kn="HnsCharacter/local";function sc(){const t=ml(new Tn),{subscribe:e,set:n,update:l}=t;let i=n,s=l;if(Zn){const r=localStorage.getItem(Kn);r!==null?(console.log("Loading char "+r),n(Tn.FromJson(r))):(console.log("New char"),localStorage.setItem(Kn,JSON.stringify(sl(t)))),i=o=>{console.log("Set char"),Zn&&localStorage.setItem(Kn,JSON.stringify(o)),n(o)},s=o=>{console.log("Update char");const a=o(sl(t));Zn&&localStorage.setItem(Kn,JSON.stringify(a)),n(a)}}return{subscribe:e,set:i,update:s}}const rc=sc(),vi={};function oc(t){if(Object.hasOwn(vi,t))return vi[t];let e={};const n=ml(new Tn(t)),{subscribe:l,set:i,update:s}=n;if(!ui(t))return console.error("Invalid id '"+t+"'"),{subscribe:l,set:i,update:s};Promise.resolve(ic(t)).then(bi(e,i));const r={subscribe:l,set:o=>{if(console.log("Set char"),t!=o.id){console.error("Id did not match");return}Promise.resolve(ss(o)).then(bi(e,i))},update:o=>{console.log("Update char");const a=o(sl(n));Promise.resolve(ss(a)).then(bi(e,i))}};return vi[t]=r,r}function rs(t,e,n){const l=t.slice();return l[11]=e[n],l}function ac(t){let e,n,l,i=t[4].name+"",s,r,o;function a(p,m){return p[3]?fc:uc}let c=a(t),f=c(t);return{c(){e=h("div"),n=h("p"),l=R("Hello "),s=R(i),r=R("!"),o=v(),f.c(),d(n,"class","svelte-9xzto8"),d(e,"class","logout-box svelte-9xzto8")},m(p,m){$(p,e,m),u(e,n),u(n,l),u(n,s),u(n,r),u(e,o),f.m(e,null)},p(p,m){m&16&&i!==(i=p[4].name+"")&&K(s,i),c===(c=a(p))&&f?f.p(p,m):(f.d(1),f=c(p),f&&(f.c(),f.m(e,null)))},d(p){p&&k(e),f.d()}}}function cc(t){let e,n,l,i,s,r,o,a,c,f,p,m,_,g,P,b,G,w,y=V(t[2]),T=[];for(let J=0;J<y.length;J+=1)T[J]=os(rs(t,y,J));return{c(){e=h("form"),n=h("div"),l=h("label"),l.textContent="Name",i=v(),s=h("input"),r=v(),o=h("div"),a=h("label"),a.textContent="Password",c=v(),f=h("input"),p=v(),m=h("div"),_=h("button"),_.textContent="Sign-Up…",g=v(),P=h("button"),P.textContent="Login",b=v();for(let J=0;J<T.length;J+=1)T[J].c();d(l,"for","nameOrEmail"),d(l,"class","svelte-9xzto8"),d(s,"name","nameOrEmail"),d(s,"type","text"),d(s,"placeholder","or Email"),d(s,"class","svelte-9xzto8"),d(n,"class","svelte-9xzto8"),d(a,"for","password"),d(a,"class","svelte-9xzto8"),d(f,"name","password"),d(f,"type","password"),d(f,"class","svelte-9xzto8"),d(o,"class","svelte-9xzto8"),d(_,"type","button"),d(P,"class","bright"),d(P,"type","submit"),d(m,"class","svelte-9xzto8"),d(e,"class","login-box svelte-9xzto8"),d(e,"method","post")},m(J,ie){$(J,e,ie),u(e,n),u(n,l),u(n,i),u(n,s),de(s,t[0]),u(e,r),u(e,o),u(o,a),u(o,c),u(o,f),de(f,t[1]),u(e,p),u(e,m),u(m,_),u(m,g),u(m,P),u(e,b);for(let Y=0;Y<T.length;Y+=1)T[Y]&&T[Y].m(e,null);G||(w=[x(s,"input",t[8]),x(f,"input",t[9]),x(_,"click",Nl(t[10])),x(e,"submit",Nl(t[6]))],G=!0)},p(J,ie){if(ie&1&&s.value!==J[0]&&de(s,J[0]),ie&2&&f.value!==J[1]&&de(f,J[1]),ie&4){y=V(J[2]);let Y;for(Y=0;Y<y.length;Y+=1){const U=rs(J,y,Y);T[Y]?T[Y].p(U,ie):(T[Y]=os(U),T[Y].c(),T[Y].m(e,null))}for(;Y<T.length;Y+=1)T[Y].d(1);T.length=y.length}},d(J){J&&k(e),he(T,J),G=!1,Ye(w)}}}function uc(t){let e,n,l;return{c(){e=h("button"),e.textContent="Logout",d(e,"class","logout-button")},m(i,s){$(i,e,s),n||(l=x(e,"click",t[5]),n=!0)},p:N,d(i){i&&k(e),n=!1,l()}}}function fc(t){let e,n,l,i,s,r,o;return{c(){e=h("div"),n=R(`Logout?
        `),l=h("button"),l.textContent="No",i=v(),s=h("button"),s.textContent="Yes",d(l,"class","logout-confirm-button svelte-9xzto8"),d(s,"class","bright-red logout-confirm-button svelte-9xzto8"),d(e,"class","logout-confirmation svelte-9xzto8")},m(a,c){$(a,e,c),u(e,n),u(e,l),u(e,i),u(e,s),r||(o=[x(l,"click",t[5]),x(s,"click",t[7])],r=!0)},p:N,d(a){a&&k(e),r=!1,Ye(o)}}}function os(t){let e,n=t[11]+"",l;return{c(){e=h("label"),l=R(n),Z(e,"text-align","left"),d(e,"for","errors"),d(e,"class","svelte-9xzto8")},m(i,s){$(i,e,s),u(e,l)},p(i,s){s&4&&n!==(n=i[11]+"")&&K(l,n)},d(i){i&&k(e)}}}function _c(t){let e;function n(s,r){return s[4]?ac:cc}let l=n(t),i=l(t);return{c(){i.c(),e=Ce()},m(s,r){i.m(s,r),$(s,e,r)},p(s,[r]){l===(l=n(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:N,o:N,d(s){s&&k(e),i.d(s)}}}function pc(t,e,n){let l;rl(t,wl,g=>n(4,l=g));let i="",s="",r=[],o=!1;function a(){n(3,o=!o)}async function c(){n(2,r=[]),await wl.login(i,s,g=>{n(2,r=g)})}async function f(){await wl.logout()}function p(){i=this.value,n(0,i)}function m(){s=this.value,n(1,s)}return[i,s,r,o,l,a,c,f,p,m,()=>ci("/account")]}class Po extends Le{constructor(e){super(),je(this,e,pc,_c,Pe,{})}}function as(t,e,n){const l=t.slice();return l[2]=e[n][0],l[3]=e[n][1],l}function hc(t){let e;return{c(){e=R("Rulebook")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function dc(t){let e;return{c(){e=R("Dice Roller")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function mc(t){let e;return{c(){e=R("AGE Roller")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function gc(t){let e;return{c(){e=R("Eye Roller")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function bc(t){let e;return{c(){e=R("My Account")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function vc(t){let e;return{c(){e=R("Characters")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function kc(t){let e=t[3].name+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p:N,d(l){l&&k(n)}}}function cs(t){let e,n;return e=new Ht({props:{to:"/character/"+t[2],getProps:Pi,$$slots:{default:[kc]},$$scope:{ctx:t}}}),e.$on("click",pn),{c(){q(e.$$.fragment)},m(l,i){D(e,l,i),n=!0},p(l,i){const s={};i&64&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function $c(t){let e,n,l,i,s,r,o,a,c,f,p,m,_,g,P,b,G,w,y,T,J,ie,Y;o=new Ht({props:{to:"/srd",getProps:Qn,$$slots:{default:[hc]},$$scope:{ctx:t}}}),o.$on("click",pn),c=new Ht({props:{to:"/dice",getProps:Qn,$$slots:{default:[dc]},$$scope:{ctx:t}}}),c.$on("click",pn),p=new Ht({props:{to:"/dice/ageroller",getProps:Pi,$$slots:{default:[mc]},$$scope:{ctx:t}}}),p.$on("click",pn),_=new Ht({props:{to:"/dice/eyeroller",getProps:Pi,$$slots:{default:[gc]},$$scope:{ctx:t}}}),_.$on("click",pn),G=new Ht({props:{to:"/account",getProps:Qn,$$slots:{default:[bc]},$$scope:{ctx:t}}}),G.$on("click",pn),y=new Ht({props:{to:"/character",getProps:Qn,$$slots:{default:[vc]},$$scope:{ctx:t}}}),y.$on("click",pn);let U=V(Object.entries(t[0])),E=[];for(let A=0;A<U.length;A+=1)E[A]=cs(as(t,U,A));const ee=A=>j(E[A],1,1,()=>{E[A]=null});return ie=new Po({}),{c(){e=h("div"),n=h("nav"),l=h("a"),l.innerHTML='<img src="/img/HnsBig.svg" alt="H&amp;S"/>',i=v(),s=h("h4"),s.textContent="Hammer & Steel",r=v(),q(o.$$.fragment),a=v(),q(c.$$.fragment),f=v(),q(p.$$.fragment),m=v(),q(_.$$.fragment),g=v(),P=h("span"),P.textContent="---",b=v(),q(G.$$.fragment),w=v(),q(y.$$.fragment),T=v();for(let A=0;A<E.length;A+=1)E[A].c();J=v(),q(ie.$$.fragment),d(l,"href","/"),d(l,"id","home-button"),d(s,"class","title svelte-1ojkcqy"),Z(P,"text-align","center"),d(n,"class","banded-menu"),d(e,"class","contents svelte-1ojkcqy")},m(A,H){$(A,e,H),u(e,n),u(n,l),u(n,i),u(n,s),u(n,r),D(o,n,null),u(n,a),D(c,n,null),u(n,f),D(p,n,null),u(n,m),D(_,n,null),u(n,g),u(n,P),u(n,b),D(G,n,null),u(n,w),D(y,n,null),u(n,T);for(let te=0;te<E.length;te+=1)E[te]&&E[te].m(n,null);u(e,J),D(ie,e,null),Y=!0},p(A,[H]){const te={};H&64&&(te.$$scope={dirty:H,ctx:A}),o.$set(te);const ge={};H&64&&(ge.$$scope={dirty:H,ctx:A}),c.$set(ge);const le={};H&64&&(le.$$scope={dirty:H,ctx:A}),p.$set(le);const Be={};H&64&&(Be.$$scope={dirty:H,ctx:A}),_.$set(Be);const Ne={};H&64&&(Ne.$$scope={dirty:H,ctx:A}),G.$set(Ne);const _e={};if(H&64&&(_e.$$scope={dirty:H,ctx:A}),y.$set(_e),H&1){U=V(Object.entries(A[0]));let fe;for(fe=0;fe<U.length;fe+=1){const z=as(A,U,fe);E[fe]?(E[fe].p(z,H),M(E[fe],1)):(E[fe]=cs(z),E[fe].c(),M(E[fe],1),E[fe].m(n,null))}for($e(),fe=U.length;fe<E.length;fe+=1)ee(fe);we()}},i(A){if(!Y){M(o.$$.fragment,A),M(c.$$.fragment,A),M(p.$$.fragment,A),M(_.$$.fragment,A),M(G.$$.fragment,A),M(y.$$.fragment,A);for(let H=0;H<U.length;H+=1)M(E[H]);M(ie.$$.fragment,A),Y=!0}},o(A){j(o.$$.fragment,A),j(c.$$.fragment,A),j(p.$$.fragment,A),j(_.$$.fragment,A),j(G.$$.fragment,A),j(y.$$.fragment,A),E=E.filter(Boolean);for(let H=0;H<E.length;H+=1)j(E[H]);j(ie.$$.fragment,A),Y=!1},d(A){A&&k(e),F(o),F(c),F(p),F(_),F(G),F(y),he(E,A),F(ie)}}}function Qn(t){return t.isPartiallyCurrent?{class:"curr-path"}:{class:""}}function Pi(t){let{location:e,href:n,isPartiallyCurrent:l,isCurrent:i}=t;if(i)return{class:"ml20 active curr-path"};if(l)return{class:"ml20 active"};let s=e.pathname;if(console.log("pathname: "+s),s.length<=1||s[0]!=="/")return{class:"ml20 hidden"};const r=s.indexOf("/",1),o=r>0?s.slice(0,r):s;return console.log("rootpath: "+o),o.length<2?{class:"ml20 hidden"}:n.startsWith(o)?{class:"ml20 active"}:n.startsWith("/"+o)?{class:"ml20 active"}:{class:"ml20 hidden"}}function wc(t,e,n){let l;return rl(t,Ci,s=>n(1,l=s)),[l]}class Sc extends Le{constructor(e){super(),je(this,e,wc,$c,Pe,{})}}function us(t){let e,n,l,i,s,r;return n=new Sc({}),{c(){e=h("div"),q(n.$$.fragment),d(e,"role","dialog"),d(e,"class","modal svelte-1e2i3ow")},m(o,a){$(o,e,a),D(n,e,null),i=!0,s||(r=[x(e,"introstart",t[1]),x(e,"outroend",t[2])],s=!0)},i(o){i||(M(n.$$.fragment,o),o&&El(()=>{i&&(l||(l=ni(e,Fi,{duration:100,x:100},!0)),l.run(1))}),i=!0)},o(o){j(n.$$.fragment,o),o&&(l||(l=ni(e,Fi,{duration:100,x:100},!1)),l.run(0)),i=!1},d(o){o&&k(e),F(n),o&&l&&l.end(),s=!1,Ye(r)}}}function Cc(t){let e,n,l=t[0]&&us(t);return{c(){l&&l.c(),e=Ce()},m(i,s){l&&l.m(i,s),$(i,e,s),n=!0},p(i,[s]){i[0]?l?s&1&&M(l,1):(l=us(i),l.c(),M(l,1),l.m(e.parentNode,e)):l&&($e(),j(l,1,1,()=>{l=null}),we())},i(i){n||(M(l),n=!0)},o(i){j(l),n=!1},d(i){i&&k(e),l&&l.d(i)}}}function Pc(t,e,n){let{isOpen:l=!1}=e;function i(r){zi.call(this,t,r)}function s(r){zi.call(this,t,r)}return t.$$set=r=>{"isOpen"in r&&n(0,l=r.isOpen)},[l,i,s]}class yo extends Le{constructor(e){super(),je(this,e,Pc,Cc,Pe,{isOpen:0})}}function fs(t,e,n){const l=t.slice();return l[28]=e[n],l}function _s(t,e,n){const l=t.slice();return l[28]=e[n],l}function yc(t){let e,n,l,i,s,r,o,a,c,f,p,m,_,g,P,b,G,w,y,T,J,ie,Y,U,E;function ee(W,Ge){return W[0]?jc:Ac}let A=ee(t),H=A(t);function te(W,Ge){return W[1]?Gc:Lc}let ge=te(t),le=ge(t);function Be(W,Ge){return W[2]?Tc:Rc}let Ne=Be(t),_e=Ne(t),fe=V(t[10]),z=[];for(let W=0;W<fe.length;W+=1)z[W]=ps(fs(t,fe,W));return{c(){e=h("h2"),e.textContent="Account Information",n=v(),l=h("form"),i=h("label"),i.textContent="Account Name",s=v(),H.c(),r=v(),o=h("label"),o.textContent="Email",a=v(),le.c(),c=v(),f=h("label"),f.textContent="Password",p=v(),_e.c(),m=v(),_=h("div"),g=v(),P=h("label"),P.textContent="Current Password",b=v(),G=h("input"),y=v(),T=h("button"),J=R("Apply Changes"),Y=v();for(let W=0;W<z.length;W+=1)z[W].c();d(i,"for","name"),d(i,"class","svelte-10lzy08"),d(o,"for","email"),d(o,"class","svelte-10lzy08"),d(f,"for","password"),d(f,"class","svelte-10lzy08"),Z(_,"grid-column","span 3"),Z(_,"height","20px"),d(P,"for","currentPassword"),d(P,"class","svelte-10lzy08"),d(G,"name","currentPassword"),d(G,"type","password"),G.disabled=w=!t[8],d(T,"class","grid-form-submit svelte-10lzy08"),d(T,"type","submit"),T.disabled=ie=!t[8],d(l,"class","grid-3-form svelte-10lzy08"),d(l,"method","post")},m(W,Ge){$(W,e,Ge),$(W,n,Ge),$(W,l,Ge),u(l,i),u(l,s),H.m(l,null),u(l,r),u(l,o),u(l,a),le.m(l,null),u(l,c),u(l,f),u(l,p),_e.m(l,null),u(l,m),u(l,_),u(l,g),u(l,P),u(l,b),u(l,G),de(G,t[7]),u(l,y),u(l,T),u(T,J),u(l,Y);for(let ae=0;ae<z.length;ae+=1)z[ae]&&z[ae].m(l,null);U||(E=[x(G,"input",t[27]),x(l,"submit",Nl(t[16]))],U=!0)},p(W,Ge){if(A===(A=ee(W))&&H?H.p(W,Ge):(H.d(1),H=A(W),H&&(H.c(),H.m(l,r))),ge===(ge=te(W))&&le?le.p(W,Ge):(le.d(1),le=ge(W),le&&(le.c(),le.m(l,c))),Ne===(Ne=Be(W))&&_e?_e.p(W,Ge):(_e.d(1),_e=Ne(W),_e&&(_e.c(),_e.m(l,m))),Ge[0]&256&&w!==(w=!W[8])&&(G.disabled=w),Ge[0]&128&&G.value!==W[7]&&de(G,W[7]),Ge[0]&256&&ie!==(ie=!W[8])&&(T.disabled=ie),Ge[0]&1024){fe=V(W[10]);let ae;for(ae=0;ae<fe.length;ae+=1){const Te=fs(W,fe,ae);z[ae]?z[ae].p(Te,Ge):(z[ae]=ps(Te),z[ae].c(),z[ae].m(l,null))}for(;ae<z.length;ae+=1)z[ae].d(1);z.length=fe.length}},d(W){W&&(k(e),k(n),k(l)),H.d(),le.d(),_e.d(),he(z,W),U=!1,Ye(E)}}}function Mc(t){let e,n,l,i,s,r,o,a,c,f,p,m,_,g,P,b,G,w,y,T,J,ie,Y,U,E=V(t[9]),ee=[];for(let A=0;A<E.length;A+=1)ee[A]=hs(_s(t,E,A));return{c(){e=h("h1"),e.textContent="Create An Account",n=v(),l=h("form"),i=h("label"),i.textContent="Account Name",s=v(),r=h("input"),o=v(),a=h("label"),a.textContent="Email",c=v(),f=h("input"),p=v(),m=h("label"),m.textContent="Password",_=v(),g=h("input"),P=v(),b=h("label"),b.textContent="Confirm Password",G=v(),w=h("input"),y=v(),T=h("a"),T.textContent="Login...",J=h("button"),J.textContent="Create Account",ie=v();for(let A=0;A<ee.length;A+=1)ee[A].c();d(i,"for","name"),d(i,"class","svelte-10lzy08"),d(r,"type","text"),d(a,"for","email"),d(a,"class","svelte-10lzy08"),d(f,"type","text"),d(m,"for","password"),d(m,"class","svelte-10lzy08"),d(g,"type","text"),d(b,"for","password2"),d(b,"class","svelte-10lzy08"),d(w,"type","text"),d(w,"class","svelte-10lzy08"),Q(w,"red-outline",t[5]!==t[6]),d(T,"href","/login"),d(T,"class","button"),d(J,"class","bright"),d(J,"type","submit"),d(l,"class","grid-form svelte-10lzy08"),d(l,"method","post")},m(A,H){$(A,e,H),$(A,n,H),$(A,l,H),u(l,i),u(l,s),u(l,r),de(r,t[3]),u(l,o),u(l,a),u(l,c),u(l,f),de(f,t[4]),u(l,p),u(l,m),u(l,_),u(l,g),de(g,t[5]),u(l,P),u(l,b),u(l,G),u(l,w),de(w,t[6]),u(l,y),u(l,T),u(l,J),u(l,ie);for(let te=0;te<ee.length;te+=1)ee[te]&&ee[te].m(l,null);Y||(U=[x(r,"input",t[17]),x(f,"input",t[18]),x(g,"input",t[19]),x(w,"input",t[20]),hn(mn.call(null,T)),x(l,"submit",Nl(t[15]))],Y=!0)},p(A,H){if(H[0]&8&&r.value!==A[3]&&de(r,A[3]),H[0]&16&&f.value!==A[4]&&de(f,A[4]),H[0]&32&&g.value!==A[5]&&de(g,A[5]),H[0]&64&&w.value!==A[6]&&de(w,A[6]),H[0]&96&&Q(w,"red-outline",A[5]!==A[6]),H[0]&512){E=V(A[9]);let te;for(te=0;te<E.length;te+=1){const ge=_s(A,E,te);ee[te]?ee[te].p(ge,H):(ee[te]=hs(ge),ee[te].c(),ee[te].m(l,null))}for(;te<ee.length;te+=1)ee[te].d(1);ee.length=E.length}},d(A){A&&(k(e),k(n),k(l)),he(ee,A),Y=!1,Ye(U)}}}function Ac(t){let e,n,l,i,s;return{c(){e=h("input"),n=v(),l=h("button"),l.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-10lzy08"/>',d(e,"name","name"),d(e,"type","text"),e.disabled=!0,d(l,"class","svelte-10lzy08")},m(r,o){$(r,e,o),de(e,t[11].name),$(r,n,o),$(r,l,o),i||(s=[x(e,"input",t[22]),x(l,"click",Nl(t[12]))],i=!0)},p(r,o){o[0]&2048&&e.value!==r[11].name&&de(e,r[11].name)},d(r){r&&(k(e),k(n),k(l)),i=!1,Ye(s)}}}function jc(t){let e,n,l,i,s;return{c(){e=h("input"),n=v(),l=h("button"),l.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-10lzy08"/>',d(e,"name","name"),d(e,"type","text"),d(l,"class","svelte-10lzy08")},m(r,o){$(r,e,o),de(e,t[3]),$(r,n,o),$(r,l,o),i||(s=[x(e,"input",t[21]),x(l,"click",Nl(t[12]))],i=!0)},p(r,o){o[0]&8&&e.value!==r[3]&&de(e,r[3])},d(r){r&&(k(e),k(n),k(l)),i=!1,Ye(s)}}}function Lc(t){let e,n,l,i,s;return{c(){e=h("input"),n=v(),l=h("button"),l.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-10lzy08"/>',d(e,"name","email"),d(e,"type","text"),e.disabled=!0,d(l,"class","svelte-10lzy08")},m(r,o){$(r,e,o),de(e,t[11].email),$(r,n,o),$(r,l,o),i||(s=[x(e,"input",t[24]),x(l,"click",Nl(t[13]))],i=!0)},p(r,o){o[0]&2048&&e.value!==r[11].email&&de(e,r[11].email)},d(r){r&&(k(e),k(n),k(l)),i=!1,Ye(s)}}}function Gc(t){let e,n,l,i,s;return{c(){e=h("input"),n=v(),l=h("button"),l.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-10lzy08"/>',d(e,"name","email"),d(e,"type","text"),d(l,"class","svelte-10lzy08")},m(r,o){$(r,e,o),de(e,t[4]),$(r,n,o),$(r,l,o),i||(s=[x(e,"input",t[23]),x(l,"click",Nl(t[13]))],i=!0)},p(r,o){o[0]&16&&e.value!==r[4]&&de(e,r[4])},d(r){r&&(k(e),k(n),k(l)),i=!1,Ye(s)}}}function Rc(t){let e,n,l,i,s,r,o,a,c,f,p;return{c(){e=h("input"),n=v(),l=h("div"),i=v(),s=h("label"),s.textContent="Confirm Password",r=v(),o=h("input"),a=v(),c=h("button"),c.innerHTML='<img src="/img/pencil.svg" alt="Edit" class="svelte-10lzy08"/>',d(e,"name","password"),Z(e,"text-align","center"),d(e,"type","text"),e.value="---",e.disabled=!0,d(s,"for","password"),d(s,"class","svelte-10lzy08"),d(o,"name","password"),Z(o,"text-align","center"),d(o,"type","text"),o.value="---",o.disabled=!0,d(c,"class","svelte-10lzy08")},m(m,_){$(m,e,_),$(m,n,_),$(m,l,_),$(m,i,_),$(m,s,_),$(m,r,_),$(m,o,_),$(m,a,_),$(m,c,_),f||(p=x(c,"click",Nl(t[14])),f=!0)},p:N,d(m){m&&(k(e),k(n),k(l),k(i),k(s),k(r),k(o),k(a),k(c)),f=!1,p()}}}function Tc(t){let e,n,l,i,s,r,o,a,c,f,p;return{c(){e=h("input"),n=v(),l=h("div"),i=v(),s=h("label"),s.textContent="Confirm Password",r=v(),o=h("input"),a=v(),c=h("button"),c.innerHTML='<img src="/img/x.svg" alt="Cancel" class="svelte-10lzy08"/>',d(e,"name","password"),d(e,"type","password"),d(s,"for","password"),d(s,"class","svelte-10lzy08"),d(o,"name","password"),d(o,"type","password"),d(c,"class","svelte-10lzy08")},m(m,_){$(m,e,_),de(e,t[5]),$(m,n,_),$(m,l,_),$(m,i,_),$(m,s,_),$(m,r,_),$(m,o,_),de(o,t[6]),$(m,a,_),$(m,c,_),f||(p=[x(e,"input",t[25]),x(o,"input",t[26]),x(c,"click",Nl(t[14]))],f=!0)},p(m,_){_[0]&32&&e.value!==m[5]&&de(e,m[5]),_[0]&64&&o.value!==m[6]&&de(o,m[6])},d(m){m&&(k(e),k(n),k(l),k(i),k(s),k(r),k(o),k(a),k(c)),f=!1,Ye(p)}}}function ps(t){let e,n=t[28]+"",l;return{c(){e=h("label"),l=R(n),d(e,"class","grid-form-error svelte-10lzy08"),d(e,"for","errors")},m(i,s){$(i,e,s),u(e,l)},p(i,s){s[0]&1024&&n!==(n=i[28]+"")&&K(l,n)},d(i){i&&k(e)}}}function hs(t){let e,n=t[28]+"",l;return{c(){e=h("label"),l=R(n),d(e,"class","grid-form-error svelte-10lzy08"),d(e,"for","errors")},m(i,s){$(i,e,s),u(e,l)},p(i,s){s[0]&512&&n!==(n=i[28]+"")&&K(l,n)},d(i){i&&k(e)}}}function Ic(t){let e;function n(s,r){return s[11]==null?Mc:yc}let l=n(t),i=l(t);return{c(){e=h("div"),i.c(),d(e,"id","account-page"),d(e,"class","svelte-10lzy08")},m(s,r){$(s,e,r),i.m(e,null)},p(s,r){l===(l=n(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e,null)))},i:N,o:N,d(s){s&&k(e),i.d()}}}function Oc(t,e,n){let l;rl(t,wl,le=>n(11,l=le));let i="",s=!1,r="",o=!1,a="",c="",f=!1,p="",m=!1;function _(){var le;n(0,s=!s),s?n(3,i=((le=sl(wl))==null?void 0:le.name)??""):n(3,i="")}function g(){var le;n(1,o=!o),o?n(4,r=((le=sl(wl))==null?void 0:le.email)??""):n(4,r="")}function P(){n(2,f=!f),f||n(5,a=n(6,c=""))}let b=[];async function G(){n(9,b=[]),i.length==0&&b.push("Name required"),r.length==0&&b.push("Email required"),a.length==0&&b.push("Password required"),a!==c&&b.push("Error: Passwords did not match"),!(b.length>0)&&await wl.createAccount(i,r,a,le=>{n(9,b=le)})}let w=[];async function y(){n(10,w=[]),s&&i.length==0&&w.push("Name required"),o&&r.length==0&&w.push("Email required"),f&&a.length==0&&w.push("Password required"),f&&a!==c&&w.push("Passwords did not match"),p.length==0&&w.push("Current password Required"),!(w.length>0)&&await wl.updateAccount(s?i:null,o?r:null,f?a:null,p,()=>{s&&_(),o&&g(),f&&P(),n(7,p="")},le=>n(10,w=le))}function T(){i=this.value,n(3,i)}function J(){r=this.value,n(4,r)}function ie(){a=this.value,n(5,a)}function Y(){c=this.value,n(6,c)}function U(){i=this.value,n(3,i)}function E(){l.name=this.value,wl.set(l)}function ee(){r=this.value,n(4,r)}function A(){l.email=this.value,wl.set(l)}function H(){a=this.value,n(5,a)}function te(){c=this.value,n(6,c)}function ge(){p=this.value,n(7,p)}return t.$$.update=()=>{t.$$.dirty[0]&7&&n(8,m=s||o||f)},[s,o,f,i,r,a,c,p,m,b,w,l,_,g,P,G,y,T,J,ie,Y,U,E,ee,A,H,te,ge]}class Nc extends Le{constructor(e){super(),je(this,e,Oc,Ic,Pe,{},null,[-1,-1])}}function Ec(t){let e,n=(t[0]==1/0?"?":t[0])+"",l,i,s,r;return{c(){e=h("button"),l=R(n),d(e,"type","button"),d(e,"class",i="die faces-"+(t[2]==t[7]?"F":t[2]==t[8]?"E":t[2])+" result-"+t[0]+" svelte-ogq5bb"),Q(e,"active",t[1]),Q(e,"inverted",t[5]),Q(e,"show-pips",t[3])},m(o,a){$(o,e,a),u(e,l),t[11](e),s||(r=x(e,"click",t[12]),s=!0)},p(o,[a]){a&1&&n!==(n=(o[0]==1/0?"?":o[0])+"")&&K(l,n),a&5&&i!==(i="die faces-"+(o[2]==o[7]?"F":o[2]==o[8]?"E":o[2])+" result-"+o[0]+" svelte-ogq5bb")&&d(e,"class",i),a&7&&Q(e,"active",o[1]),a&37&&Q(e,"inverted",o[5]),a&13&&Q(e,"show-pips",o[3])},i:N,o:N,d(o){o&&k(e),t[11](null),s=!1,r()}}}function Hc(t,e,n){let{faces:l=6}=e,{showPips:i=!1}=e,{result:s=1/0}=e,{active:r=!1}=e,{enabled:o=!0}=e,{invert:a=!1}=e;const c=-1,f=-2;let p;function m(){if(l>0)return Math.floor(Math.random()*l)+1;if(l==c)return Math.floor(Math.random()*3)-1;if(l==f){var w=Math.floor(Math.random()*6)+1;if(w==1)return 1;if(w==2||w==3)return 2;if(w==4||w==5||w==6)return 3}return 0}function _(){p&&(n(6,p.style.animation="none",p),p.offsetHeight,n(6,p.style.animation=null,p))}function g(){o&&(n(0,s=m()),n(1,r=!1),_())}function P(){!r||!o||(n(0,s=m()),n(1,r=!1),_())}function b(w){me[w?"unshift":"push"](()=>{p=w,n(6,p)})}const G=()=>{n(1,r=o&&!r)};return t.$$set=w=>{"faces"in w&&n(2,l=w.faces),"showPips"in w&&n(3,i=w.showPips),"result"in w&&n(0,s=w.result),"active"in w&&n(1,r=w.active),"enabled"in w&&n(4,o=w.enabled),"invert"in w&&n(5,a=w.invert)},t.$$.update=()=>{t.$$.dirty&17&&n(0,s=o?m():s)},[s,r,l,i,o,a,p,c,f,g,P,b,G]}class il extends Le{constructor(e){super(),je(this,e,Hc,Ec,Pe,{faces:2,showPips:3,result:0,active:1,enabled:4,invert:5,roll:9,rollIfActive:10})}get roll(){return this.$$.ctx[9]}get rollIfActive(){return this.$$.ctx[10]}}function ds(t,e,n){const l=t.slice();return l[10]=e[n],l[11]=e,l[12]=n,l}function ms(t,e){let n,l,i=e[12],s,r,o;const a=()=>e[5](l,i),c=()=>e[5](null,i);function f(_){e[6](_,e[10])}function p(_){e[7](_,e[10])}let m={showPips:!0,invert:e[12]==2};return e[10].result!==void 0&&(m.result=e[10].result),e[10].active!==void 0&&(m.active=e[10].active),l=new il({props:m}),a(),me.push(()=>Ae(l,"result",f)),me.push(()=>Ae(l,"active",p)),{key:t,first:null,c(){n=Ce(),q(l.$$.fragment),this.first=n},m(_,g){$(_,n,g),D(l,_,g),o=!0},p(_,g){e=_,i!==e[12]&&(c(),i=e[12],a());const P={};g&1&&(P.invert=e[12]==2),!s&&g&1&&(s=!0,P.result=e[10].result,Me(()=>s=!1)),!r&&g&1&&(r=!0,P.active=e[10].active,Me(()=>r=!1)),l.$set(P)},i(_){o||(M(l.$$.fragment,_),o=!0)},o(_){j(l.$$.fragment,_),o=!1},d(_){_&&k(n),c(),F(l,_)}}}function zc(t){let e;return{c(){e=R("Quality")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Dc(t){let e;return{c(){e=R("Stunt!")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Fc(t){let e,n,l,i,s,r,o,a=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),c,f,p,m,_=[],g=new Map,P,b,G,w,y,T,J=t[2].sum+"",ie,Y,U,E,ee,A,H=t[2].stunt+"",te,ge,le,Be,Ne,_e,fe,z,W,Ge,ae,Te,Xt,tt,lt,nt,ot,at,Ie=t[2].sum+t[3]+"",Ot,Ve,el,pe,zt,Dt,xe=V(t[0]);const ct=oe=>oe[10].id;for(let oe=0;oe<xe.length;oe+=1){let be=ds(t,xe,oe),yt=ct(be);g.set(yt,_[oe]=ms(yt,be))}function Yt(oe,be){return oe[2].hasPair?Dc:zc}let He=Yt(t),We=He(t);return{c(){e=h("div"),n=h("h1"),n.textContent="Age Dice Roller",l=v(),i=h("p"),i.textContent="Roll 3d6 and sum them. One d6 is special and used for success quality and stunt points.",s=v(),r=h("div"),o=h("button"),c=R(a),p=v(),m=h("div");for(let oe=0;oe<_.length;oe+=1)_[oe].c();P=v(),b=h("div"),G=h("div"),w=h("h2"),w.textContent="Sum",y=v(),T=h("h3"),ie=R(J),Y=v(),U=h("div"),E=h("h2"),We.c(),ee=v(),A=h("h3"),te=R(H),ge=v(),le=h("div"),Be=h("div"),Be.innerHTML='<h2 style="line-height:3em;">+</h2>',Ne=v(),_e=h("div"),fe=h("h2"),fe.textContent="Mod",z=v(),W=h("input"),Ge=v(),ae=h("input"),Te=v(),Xt=h("div"),Xt.innerHTML='<h2 style="line-height:3em;">=</h2>',tt=v(),lt=h("div"),nt=h("h2"),nt.textContent="Result",ot=v(),at=h("h3"),Ot=R(Ie),Ve=v(),el=h("p"),el.innerHTML='Check out Fantasy Age and the other Age RPGs by <a href="https://greenronin.com/">Green Ronin</a> (Not affiliated)',d(o,"class","button-outlined"),o.disabled=f=t[0].length<=0,Z(r,"justify-content","center"),d(m,"class","dice-box svelte-1555w2s"),d(w,"class","text-center"),Z(w,"margin-bottom","0"),d(T,"class","result svelte-1555w2s"),Z(T,"width","128px"),Z(T,"margin","0 auto 0 auto"),d(E,"class","text-center"),Z(E,"margin-bottom","0"),d(A,"class","result svelte-1555w2s"),Z(A,"width","100px"),Z(A,"margin","0 auto 0 auto"),d(b,"class","result-summary svelte-1555w2s"),d(fe,"class","text-center"),Z(fe,"margin-bottom","0"),d(W,"type","number"),d(W,"class","result svelte-1555w2s"),Z(W,"width","100px"),Z(W,"margin","0 auto 0 auto"),d(ae,"type","range"),d(ae,"class","result svelte-1555w2s"),Z(ae,"width","100px"),Z(ae,"margin","0 auto 0 auto"),d(ae,"min","-10"),d(ae,"max","10"),d(nt,"class","text-center"),Z(nt,"margin-bottom","0"),d(at,"class","result svelte-1555w2s"),Z(at,"width","100px"),Z(at,"margin","0 auto 0 auto"),d(le,"class","result-mod svelte-1555w2s"),d(e,"class","page")},m(oe,be){$(oe,e,be),u(e,n),u(e,l),u(e,i),u(e,s),u(e,r),u(r,o),u(o,c),u(e,p),u(e,m);for(let yt=0;yt<_.length;yt+=1)_[yt]&&_[yt].m(m,null);u(e,P),u(e,b),u(b,G),u(G,w),u(G,y),u(G,T),u(T,ie),u(b,Y),u(b,U),u(U,E),We.m(E,null),u(U,ee),u(U,A),u(A,te),u(e,ge),u(e,le),u(le,Be),u(le,Ne),u(le,_e),u(_e,fe),u(_e,z),u(_e,W),de(W,t[3]),u(_e,Ge),u(_e,ae),de(ae,t[3]),u(le,Te),u(le,Xt),u(le,tt),u(le,lt),u(lt,nt),u(lt,ot),u(lt,at),u(at,Ot),u(e,Ve),u(e,el),pe=!0,zt||(Dt=[x(o,"click",t[4]),x(W,"input",t[8]),x(ae,"change",t[9]),x(ae,"input",t[9])],zt=!0)},p(oe,[be]){(!pe||be&4)&&a!==(a=oe[2].active==0?"Reroll All":"Reroll "+String(oe[2].active))&&K(c,a),(!pe||be&1&&f!==(f=oe[0].length<=0))&&(o.disabled=f),be&3&&(xe=V(oe[0]),$e(),_=ai(_,be,ct,1,oe,xe,g,m,oi,ms,null,ds),we()),(!pe||be&4)&&J!==(J=oe[2].sum+"")&&K(ie,J),He!==(He=Yt(oe))&&(We.d(1),We=He(oe),We&&(We.c(),We.m(E,null))),(!pe||be&4)&&H!==(H=oe[2].stunt+"")&&K(te,H),be&8&&jn(W.value)!==oe[3]&&de(W,oe[3]),be&8&&de(ae,oe[3]),(!pe||be&12)&&Ie!==(Ie=oe[2].sum+oe[3]+"")&&K(Ot,Ie)},i(oe){if(!pe){for(let be=0;be<xe.length;be+=1)M(_[be]);pe=!0}},o(oe){for(let be=0;be<_.length;be+=1)j(_[be]);pe=!1},d(oe){oe&&k(e);for(let be=0;be<_.length;be+=1)_[be].d();We.d(),zt=!1,Ye(Dt)}}}function qc(t,e,n){let l=[{id:0,result:0,active:!1},{id:1,result:0,active:!1},{id:2,result:0,active:!1}],i=[],s={active:0,sum:0,hasPair:!1,stunt:0};function r(){s.active==0?i.filter(_=>_).forEach(_=>_.roll()):i.filter(_=>_).forEach(_=>_.rollIfActive())}let o=0;function a(_,g){me[_?"unshift":"push"](()=>{i[g]=_,n(1,i)})}function c(_,g){t.$$.not_equal(g.result,_)&&(g.result=_,n(0,l))}function f(_,g){t.$$.not_equal(g.active,_)&&(g.active=_,n(0,l))}function p(){o=jn(this.value),n(3,o)}function m(){o=jn(this.value),n(3,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(2,s=l.reduce((_,g)=>(_.hasOwnProperty(g.result)?(_[g.result]+=1,_.hasPair=!0):_[g.result]=1,_.sum+=g.result,g.active&&(_.active=_.active+1),_),{active:0,sum:0,hasPair:!1,stunt:l[2].result}))},[l,i,s,o,r,a,c,f,p,m]}class Bc extends Le{constructor(e){super(),je(this,e,qc,Fc,Pe,{})}}const Wc=t=>({}),gs=t=>({}),Uc=t=>({}),bs=t=>({});function Yc(t){let e,n,l,i,s;return{c(){e=h("button"),n=R("-"),e.disabled=l=t[7]||t[0]<=t[2],d(e,"class","icon-button left-button svelte-hqt6wq")},m(r,o){$(r,e,o),u(e,n),i||(s=x(e,"click",t[14]),i=!0)},p(r,o){o&133&&l!==(l=r[7]||r[0]<=r[2])&&(e.disabled=l)},i:N,o:N,d(r){r&&k(e),i=!1,s()}}}function Vc(t){let e,n,l,i,s;const r=t[13]["min-icon"],o=Ul(r,t,t[12],bs);return{c(){e=h("button"),o&&o.c(),d(e,"class","icon-button left-button svelte-hqt6wq"),e.disabled=n=t[7]||t[3]==null,Q(e,"bright",t[3]!=null)},m(a,c){$(a,e,c),o&&o.m(e,null),l=!0,i||(s=x(e,"click",function(){Wl(t[3])&&t[3].apply(this,arguments)}),i=!0)},p(a,c){t=a,o&&o.p&&(!l||c&4096)&&Vl(o,r,t,t[12],l?Yl(r,t[12],c,Uc):Jl(t[12]),bs),(!l||c&136&&n!==(n=t[7]||t[3]==null))&&(e.disabled=n),(!l||c&8)&&Q(e,"bright",t[3]!=null)},i(a){l||(M(o,a),l=!0)},o(a){j(o,a),l=!1},d(a){a&&k(e),o&&o.d(a),i=!1,s()}}}function Jc(t){let e,n,l,i,s;return{c(){e=h("button"),n=R("+"),e.disabled=l=t[7]||t[0]>=t[4],d(e,"class","icon-button right-button svelte-hqt6wq")},m(r,o){$(r,e,o),u(e,n),i||(s=x(e,"click",t[16]),i=!0)},p(r,o){o&145&&l!==(l=r[7]||r[0]>=r[4])&&(e.disabled=l)},i:N,o:N,d(r){r&&k(e),i=!1,s()}}}function Kc(t){let e,n,l,i,s;const r=t[13]["max-icon"],o=Ul(r,t,t[12],gs);return{c(){e=h("button"),o&&o.c(),d(e,"class","icon-button right-button svelte-hqt6wq"),e.disabled=n=t[7]||t[5]==null,Q(e,"bright",t[5]!=null)},m(a,c){$(a,e,c),o&&o.m(e,null),l=!0,i||(s=x(e,"click",function(){Wl(t[5])&&t[5].apply(this,arguments)}),i=!0)},p(a,c){t=a,o&&o.p&&(!l||c&4096)&&Vl(o,r,t,t[12],l?Yl(r,t[12],c,Wc):Jl(t[12]),gs),(!l||c&160&&n!==(n=t[7]||t[5]==null))&&(e.disabled=n),(!l||c&32)&&Q(e,"bright",t[5]!=null)},i(a){l||(M(o,a),l=!0)},o(a){j(o,a),l=!1},d(a){a&&k(e),o&&o.d(a),i=!1,s()}}}function Qc(t){let e,n,l,i,s,r,o,a,c,f,p,m;const _=[Vc,Yc],g=[];function P(y,T){return y[0]<=y[2]&&y[11]["min-icon"]?0:1}n=P(t),l=g[n]=_[n](t);const b=[Kc,Jc],G=[];function w(y,T){return y[0]>=y[4]&&y[11]["max-icon"]?0:1}return a=w(t),c=G[a]=b[a](t),{c(){e=h("div"),l.c(),i=v(),s=h("input"),r=h("br"),o=v(),c.c(),d(s,"id",t[1]),d(s,"class","number-input svelte-hqt6wq"),d(s,"type","text"),d(s,"inputmode","numeric"),s.disabled=t[7],Q(s,"invalid-input",!t[9]),d(e,"class","spinner svelte-hqt6wq")},m(y,T){$(y,e,T),g[n].m(e,null),u(e,i),u(e,s),t[15](s),u(e,r),u(e,o),G[a].m(e,null),f=!0,p||(m=x(s,"change",t[10]),p=!0)},p(y,[T]){let J=n;n=P(y),n===J?g[n].p(y,T):($e(),j(g[J],1,1,()=>{g[J]=null}),we(),l=g[n],l?l.p(y,T):(l=g[n]=_[n](y),l.c()),M(l,1),l.m(e,i)),(!f||T&2)&&d(s,"id",y[1]),(!f||T&128)&&(s.disabled=y[7]),(!f||T&512)&&Q(s,"invalid-input",!y[9]);let ie=a;a=w(y),a===ie?G[a].p(y,T):($e(),j(G[ie],1,1,()=>{G[ie]=null}),we(),c=G[a],c?c.p(y,T):(c=G[a]=b[a](y),c.c()),M(c,1),c.m(e,null))},i(y){f||(M(l),M(c),f=!0)},o(y){j(l),j(c),f=!1},d(y){y&&k(e),g[n].d(),t[15](null),G[a].d(),p=!1,m()}}}function Xc(t,e,n){let{$$slots:l={},$$scope:i}=e;const s=qo(l);let{id:r=void 0}=e,{value:o}=e,{min:a=Number.NEGATIVE_INFINITY}=e,{minAction:c=void 0}=e,{max:f=Number.POSITIVE_INFINITY}=e,{maxAction:p=void 0}=e,{step:m=1}=e,{disabled:_=void 0}=e,g,P=!0;function b(){var T=Number.parseInt(g.value);n(9,P=T===Tl(T,a,f)),P&&n(0,o=T)}const G=()=>{n(0,o-=m)};function w(T){me[T?"unshift":"push"](()=>{g=T,n(8,g),n(0,o),n(2,a),n(4,f)})}const y=()=>{n(0,o+=m)};return t.$$set=T=>{"id"in T&&n(1,r=T.id),"value"in T&&n(0,o=T.value),"min"in T&&n(2,a=T.min),"minAction"in T&&n(3,c=T.minAction),"max"in T&&n(4,f=T.max),"maxAction"in T&&n(5,p=T.maxAction),"step"in T&&n(6,m=T.step),"disabled"in T&&n(7,_=T.disabled),"$$scope"in T&&n(12,i=T.$$scope)},t.$$.update=()=>{t.$$.dirty&277&&g&&o!==Number.parseInt(g.value)&&(n(8,g.value=(o==null?void 0:o.toString())??"?",g),n(9,P=o===Tl(o,a,f)))},[o,r,a,c,f,p,m,_,g,P,b,s,i,l,G,w,y]}class Dn extends Le{constructor(e){super(),je(this,e,Xc,Qc,Pe,{id:1,value:0,min:2,minAction:3,max:4,maxAction:5,step:6,disabled:7})}}function vs(t,e,n){const l=t.slice();return l[11]=e[n][0],l[12]=e[n][1],l}function ks(t,e,n){const l=t.slice();return l[15]=e[n],l[17]=n,l}function $s(t,e,n){const l=t.slice();return l[18]=e[n],l[17]=n,l}function ws(t,e,n){const l=t.slice();return l[11]=e[n][0],l[12]=e[n][1],l}function Ss(t,e,n){const l=t.slice();return l[15]=e[n],l[17]=n,l}function Cs(t,e,n){const l=t.slice();return l[18]=e[n],l[17]=n,l}function Ps(t,e,n){const l=t.slice();return l[11]=e[n][0],l[12]=e[n][1],l}function ys(t,e,n){const l=t.slice();return l[15]=e[n],l[17]=n,l}function Ms(t,e,n){const l=t.slice();return l[18]=e[n],l[17]=n,l}function As(t,e,n){const l=t.slice();return l[11]=e[n][0],l[28]=e[n][1],l}function js(t,e,n){const l=t.slice();return l[15]=e[n],l[17]=n,l}function Ls(t,e,n){const l=t.slice();return l[18]=e[n],l[17]=n,l}function Gs(t,e,n){const l=t.slice();return l[18]=e[n],l[17]=n,l}function Rs(t,e,n){const l=t.slice();return l[18]=e[n],l[17]=n,l}function Ts(t){let e;return{c(){e=R("◈")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Is(t){let e;return{c(){e=R("◇")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Zc(t){let e,n;return{c(){e=h("img"),d(e,"slot","max-icon"),gl(e.src,n="/img/icons/PromotionIcon.svg")||d(e,"src",n),d(e,"alt","Level Up")},m(l,i){$(l,e,i)},p:N,d(l){l&&k(e)}}}function Os(t){let e;return{c(){e=h("div"),e.textContent=`${t[17]+1}`,d(e,"class","tracker-cell-level svelte-7jvwhn"),Q(e,"level-reached",t[17]+1<=t[1].level)},m(n,l){$(n,e,l)},p(n,l){l[0]&2&&Q(e,"level-reached",n[17]+1<=n[1].level)},d(n){n&&k(e)}}}function Ns(t){let e,n=(t[15]>0?t[15]:"")+"",l;return{c(){e=h("div"),l=R(n),d(e,"class","tracker-cell-reward svelte-7jvwhn"),Q(e,"level-reached",t[17]+1<=t[1].level)},m(i,s){$(i,e,s),u(e,l)},p(i,s){s[0]&2&&n!==(n=(i[15]>0?i[15]:"")+"")&&K(l,n),s[0]&2&&Q(e,"level-reached",i[17]+1<=i[1].level)},d(i){i&&k(e)}}}function Es(t){let e,n=t[11]+"",l,i,s,r,o=t[1].lookup(t[11])+"",a,c=V(t[28]),f=[];for(let p=0;p<c.length;p+=1)f[p]=Ns(js(t,c,p));return{c(){e=h("div"),l=R(n),i=v();for(let p=0;p<f.length;p+=1)f[p].c();s=v(),r=h("div"),a=R(o),d(e,"class","tracker-cell-label svelte-7jvwhn"),d(r,"class","tracker-cell-total svelte-7jvwhn")},m(p,m){$(p,e,m),u(e,l),$(p,i,m);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(p,m);$(p,s,m),$(p,r,m),u(r,a)},p(p,m){if(m[0]&2&&n!==(n=p[11]+"")&&K(l,n),m[0]&2){c=V(p[28]);let _;for(_=0;_<c.length;_+=1){const g=js(p,c,_);f[_]?f[_].p(g,m):(f[_]=Ns(g),f[_].c(),f[_].m(s.parentNode,s))}for(;_<f.length;_+=1)f[_].d(1);f.length=c.length}m[0]&2&&o!==(o=p[1].lookup(p[11])+"")&&K(a,o)},d(p){p&&(k(e),k(i),k(s),k(r)),he(f,p)}}}function Hs(t){let e;return{c(){e=h("div"),e.textContent=`${t[17]}`,d(e,"class","tracker-cell-level svelte-7jvwhn"),Q(e,"level-reached",t[17]<=t[1].warriorLevel)},m(n,l){$(n,e,l)},p(n,l){l[0]&2&&Q(e,"level-reached",n[17]<=n[1].warriorLevel)},d(n){n&&k(e)}}}function zs(t){let e,n=(t[17]==0?(t[1].lookup("Starting"+t[11])??0)+t[15]:t[15]>0?t[15]:"")+"",l;return{c(){e=h("div"),l=R(n),d(e,"class","tracker-cell-reward svelte-7jvwhn"),Q(e,"level-reached",t[17]<=t[1].warriorLevel)},m(i,s){$(i,e,s),u(e,l)},p(i,s){s[0]&2&&n!==(n=(i[17]==0?(i[1].lookup("Starting"+i[11])??0)+i[15]:i[15]>0?i[15]:"")+"")&&K(l,n),s[0]&2&&Q(e,"level-reached",i[17]<=i[1].warriorLevel)},d(i){i&&k(e)}}}function Ds(t){let e,n=t[11]+"",l,i,s,r,o=t[1].lookup(t[11])+"",a,c=V(t[12]),f=[];for(let p=0;p<c.length;p+=1)f[p]=zs(ys(t,c,p));return{c(){e=h("div"),l=R(n),i=v();for(let p=0;p<f.length;p+=1)f[p].c();s=v(),r=h("div"),a=R(o),d(e,"class","tracker-cell-label svelte-7jvwhn"),d(r,"class","tracker-cell-total svelte-7jvwhn")},m(p,m){$(p,e,m),u(e,l),$(p,i,m);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(p,m);$(p,s,m),$(p,r,m),u(r,a)},p(p,m){if(m[0]&2&&n!==(n=p[11]+"")&&K(l,n),m[0]&2){c=V(p[12]);let _;for(_=0;_<c.length;_+=1){const g=ys(p,c,_);f[_]?f[_].p(g,m):(f[_]=zs(g),f[_].c(),f[_].m(s.parentNode,s))}for(;_<f.length;_+=1)f[_].d(1);f.length=c.length}m[0]&2&&o!==(o=p[1].lookup(p[11])+"")&&K(a,o)},d(p){p&&(k(e),k(i),k(s),k(r)),he(f,p)}}}function Fs(t){let e;return{c(){e=h("div"),e.textContent=`${t[17]}`,d(e,"class","tracker-cell-level svelte-7jvwhn"),Q(e,"level-reached",t[17]<=t[1].specialistLevel)},m(n,l){$(n,e,l)},p(n,l){l[0]&2&&Q(e,"level-reached",n[17]<=n[1].specialistLevel)},d(n){n&&k(e)}}}function qs(t){let e,n=(t[17]==0?(t[1].lookup("Starting"+t[11])??0)+t[15]:t[15]>0?t[15]:"")+"",l;return{c(){e=h("div"),l=R(n),d(e,"class","tracker-cell-reward svelte-7jvwhn"),Q(e,"level-reached",t[17]<=t[1].specialistLevel)},m(i,s){$(i,e,s),u(e,l)},p(i,s){s[0]&2&&n!==(n=(i[17]==0?(i[1].lookup("Starting"+i[11])??0)+i[15]:i[15]>0?i[15]:"")+"")&&K(l,n),s[0]&2&&Q(e,"level-reached",i[17]<=i[1].specialistLevel)},d(i){i&&k(e)}}}function Bs(t){let e,n=t[11]+"",l,i,s,r,o=t[1].lookup(t[11])+"",a,c=V(t[12]),f=[];for(let p=0;p<c.length;p+=1)f[p]=qs(Ss(t,c,p));return{c(){e=h("div"),l=R(n),i=v();for(let p=0;p<f.length;p+=1)f[p].c();s=v(),r=h("div"),a=R(o),d(e,"class","tracker-cell-label svelte-7jvwhn"),d(r,"class","tracker-cell-total svelte-7jvwhn")},m(p,m){$(p,e,m),u(e,l),$(p,i,m);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(p,m);$(p,s,m),$(p,r,m),u(r,a)},p(p,m){if(m[0]&2&&n!==(n=p[11]+"")&&K(l,n),m[0]&2){c=V(p[12]);let _;for(_=0;_<c.length;_+=1){const g=Ss(p,c,_);f[_]?f[_].p(g,m):(f[_]=qs(g),f[_].c(),f[_].m(s.parentNode,s))}for(;_<f.length;_+=1)f[_].d(1);f.length=c.length}m[0]&2&&o!==(o=p[1].lookup(p[11])+"")&&K(a,o)},d(p){p&&(k(e),k(i),k(s),k(r)),he(f,p)}}}function Ws(t){let e;return{c(){e=h("div"),e.textContent=`${t[17]}`,d(e,"class","tracker-cell-level svelte-7jvwhn"),Q(e,"level-reached",t[17]<=t[1].casterLevel)},m(n,l){$(n,e,l)},p(n,l){l[0]&2&&Q(e,"level-reached",n[17]<=n[1].casterLevel)},d(n){n&&k(e)}}}function Us(t){let e,n=(t[17]==0?(t[1].lookup("Starting"+t[11])??0)+t[15]:t[15]>0?t[15]:"")+"",l;return{c(){e=h("div"),l=R(n),d(e,"class","tracker-cell-reward svelte-7jvwhn"),Q(e,"level-reached",t[17]<=t[1].casterLevel)},m(i,s){$(i,e,s),u(e,l)},p(i,s){s[0]&2&&n!==(n=(i[17]==0?(i[1].lookup("Starting"+i[11])??0)+i[15]:i[15]>0?i[15]:"")+"")&&K(l,n),s[0]&2&&Q(e,"level-reached",i[17]<=i[1].casterLevel)},d(i){i&&k(e)}}}function Ys(t){let e,n=t[11]+"",l,i,s,r,o=t[1].lookup(t[11])+"",a,c=V(t[12]),f=[];for(let p=0;p<c.length;p+=1)f[p]=Us(ks(t,c,p));return{c(){e=h("div"),l=R(n),i=v();for(let p=0;p<f.length;p+=1)f[p].c();s=v(),r=h("div"),a=R(o),d(e,"class","tracker-cell-label svelte-7jvwhn"),d(r,"class","tracker-cell-total svelte-7jvwhn")},m(p,m){$(p,e,m),u(e,l),$(p,i,m);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(p,m);$(p,s,m),$(p,r,m),u(r,a)},p(p,m){if(m[0]&2&&n!==(n=p[11]+"")&&K(l,n),m[0]&2){c=V(p[12]);let _;for(_=0;_<c.length;_+=1){const g=ks(p,c,_);f[_]?f[_].p(g,m):(f[_]=Us(g),f[_].c(),f[_].m(s.parentNode,s))}for(;_<f.length;_+=1)f[_].d(1);f.length=c.length}m[0]&2&&o!==(o=p[1].lookup(p[11])+"")&&K(a,o)},d(p){p&&(k(e),k(i),k(s),k(r)),he(f,p)}}}function xc(t){let e,n,l,i,s,r,o,a,c,f,p,m,_,g,P,b,G,w,y,T,J,ie,Y,U,E,ee,A,H,te,ge,le,Be,Ne,_e=t[1].level+5-t[1].warriorLevel-t[1].specialistLevel-t[1].casterLevel+"",fe,z,W=t[1].level+5+"",Ge,ae,Te,Xt,tt,lt,nt,ot,at,Ie,Ot,Ve,el,pe,zt,Dt,xe,ct,Yt,He,We,oe,be,yt,tl,ue,it,ol,bl,Ft,ll,qt,Vt,Nt,et,Zt,Mt,At,vl,Jt,Cl,Ee,Et,Je,ut,jt,fl,Lt,Bt,al,Wt,Ue,st,rt,nl,ft,_t,_l,ze,Gt,kl,Ke=V({length:t[1].experience}),De=[];for(let L=0;L<Ke.length;L+=1)De[L]=Ts(Rs(t,Ke,L));let Fe=V({length:10-t[1].experience}),X=[];for(let L=0;L<Fe.length;L+=1)X[L]=Is(Gs(t,Fe,L));function ke(L){t[6](L)}let Qe={min:0,max:10,maxAction:t[3],$$slots:{"max-icon":[Zc]},$$scope:{ctx:t}};t[1].experience!==void 0&&(Qe.value=t[1].experience),w=new Dn({props:Qe}),me.push(()=>Ae(w,"value",ke));function Zl(L){t[7](L)}let Gl={min:1,max:20};t[1].level!==void 0&&(Gl.value=t[1].level),Y=new Dn({props:Gl}),me.push(()=>Ae(Y,"value",Zl));function cl(L){t[8](L)}let Pl={min:0,max:t[2]};t[1].warriorLevel!==void 0&&(Pl.value=t[1].warriorLevel),nt=new Dn({props:Pl}),me.push(()=>Ae(nt,"value",cl));function Hl(L){t[9](L)}let xt={min:0,max:t[2]};t[1].specialistLevel!==void 0&&(xt.value=t[1].specialistLevel),pe=new Dn({props:xt}),me.push(()=>Ae(pe,"value",Hl));function xl(L){t[10](L)}let ul={min:0,max:t[2]};t[1].casterLevel!==void 0&&(ul.value=t[1].casterLevel),We=new Dn({props:ul}),me.push(()=>Ae(We,"value",xl));let Xe=V({length:20}),Rt=[];for(let L=0;L<Xe.length;L+=1)Rt[L]=Os(Ls(t,Xe,L));let Kt=V(Object.entries(t[1].levelTrackerPerks)),Oe=[];for(let L=0;L<Kt.length;L+=1)Oe[L]=Es(As(t,Kt,L));let yl=V({length:16}),Ze=[];for(let L=0;L<yl.length;L+=1)Ze[L]=Hs(Ms(t,yl,L));let Tt=V(Object.entries(t[1].warriorTrackerPerks)),B=[];for(let L=0;L<Tt.length;L+=1)B[L]=Ds(Ps(t,Tt,L));let ne=V({length:16}),ce=[];for(let L=0;L<ne.length;L+=1)ce[L]=Fs(Cs(t,ne,L));let Ml=V(Object.entries(t[1].specialistTrackerPerks)),Qt=[];for(let L=0;L<Ml.length;L+=1)Qt[L]=Bs(ws(t,Ml,L));let zl=V({length:16}),Ut=[];for(let L=0;L<zl.length;L+=1)Ut[L]=Ws($s(t,zl,L));let Dl=V(Object.entries(t[1].casterTrackerPerks)),pt=[];for(let L=0;L<Dl.length;L+=1)pt[L]=Ys(vs(t,Dl,L));return{c(){e=h("div"),n=h("h1"),n.innerHTML='<img src="/img/icons/PromotionIcon.svg" alt=""/> Level Builder <img src="/img/icons/PromotionIcon.svg" alt=""/>',l=v(),i=h("div"),s=h("label"),r=R(`Character Name:
      `),o=h("input"),a=v(),c=h("div"),f=h("div"),p=h("h2"),p.textContent="Experience",m=v(),_=h("p"),g=R("[");for(let L=0;L<De.length;L+=1)De[L].c();P=Ce();for(let L=0;L<X.length;L+=1)X[L].c();b=R("]"),G=v(),q(w.$$.fragment),T=v(),J=h("h2"),J.textContent="Level",ie=v(),q(Y.$$.fragment),E=v(),ee=h("div"),A=h("h2"),A.textContent="Archetype Levels",H=v(),te=h("table"),ge=h("tr"),le=h("td"),le.textContent="To Spend",Be=v(),Ne=h("th"),fe=R(_e),z=R("/"),Ge=R(W),ae=v(),Te=h("tr"),Xt=h("td"),Xt.textContent="Warrior",tt=v(),lt=h("td"),q(nt.$$.fragment),at=v(),Ie=h("tr"),Ot=h("td"),Ot.textContent="Specialist",Ve=v(),el=h("td"),q(pe.$$.fragment),Dt=v(),xe=h("tr"),ct=h("td"),ct.textContent="Caster",Yt=v(),He=h("td"),q(We.$$.fragment),be=v(),yt=h("h2"),yt.textContent="Upcoming Perks",tl=v(),ue=h("div"),it=h("div"),it.textContent="Character Level",ol=v();for(let L=0;L<Rt.length;L+=1)Rt[L].c();bl=v(),Ft=h("div"),Ft.textContent="Total",ll=v();for(let L=0;L<Oe.length;L+=1)Oe[L].c();qt=v(),Vt=h("h4"),Vt.textContent="Warrior",Nt=v(),et=h("div"),Zt=h("div"),Zt.textContent="Warrior Level",Mt=v();for(let L=0;L<Ze.length;L+=1)Ze[L].c();At=v(),vl=h("div"),vl.textContent="Total",Jt=v();for(let L=0;L<B.length;L+=1)B[L].c();Cl=v(),Ee=h("h4"),Ee.textContent="Specialist",Et=v(),Je=h("div"),ut=h("div"),ut.textContent="Specialist Level",jt=v();for(let L=0;L<ce.length;L+=1)ce[L].c();fl=v(),Lt=h("div"),Lt.textContent="Total",Bt=v();for(let L=0;L<Qt.length;L+=1)Qt[L].c();al=v(),Wt=h("h4"),Wt.textContent="Caster",Ue=v(),st=h("div"),rt=h("div"),rt.textContent="Caster Level",nl=v();for(let L=0;L<Ut.length;L+=1)Ut[L].c();ft=v(),_t=h("div"),_t.textContent="Total",_l=v();for(let L=0;L<pt.length;L+=1)pt[L].c();Z(o,"align-self","stretch"),d(o,"placeholder","Unnamed Character"),d(o,"class","svelte-7jvwhn"),Q(o,"needs-input",!t[1].name),d(s,"class","label-h svelte-7jvwhn"),Z(s,"line-height","1em"),d(i,"class","sheet-block-h"),Z(p,"margin-bottom","0"),Z(_,"font-size","14pt"),d(f,"class","sheet-block-v"),Z(A,"margin-bottom","0"),d(te,"class","point-table"),d(ee,"class","sheet-block-v"),d(c,"class","sheet-block-h"),d(it,"class","tracker-cell-label svelte-7jvwhn"),d(Ft,"class","tracker-cell-total svelte-7jvwhn"),d(ue,"id","level-tracker"),d(ue,"class","svelte-7jvwhn"),d(Zt,"class","tracker-cell-label svelte-7jvwhn"),d(vl,"class","tracker-cell-total svelte-7jvwhn"),d(et,"id","arch-level-tracker"),d(et,"class","svelte-7jvwhn"),d(ut,"class","tracker-cell-label svelte-7jvwhn"),d(Lt,"class","tracker-cell-total svelte-7jvwhn"),d(Je,"id","arch-level-tracker"),d(Je,"class","svelte-7jvwhn"),d(rt,"class","tracker-cell-label svelte-7jvwhn"),d(_t,"class","tracker-cell-total svelte-7jvwhn"),d(st,"id","arch-level-tracker"),d(st,"class","svelte-7jvwhn"),d(e,"class","sheet-block")},m(L,Se){$(L,e,Se),u(e,n),u(e,l),u(e,i),u(i,s),u(s,r),u(s,o),de(o,t[1].name),u(e,a),u(e,c),u(c,f),u(f,p),u(f,m),u(f,_),u(_,g);for(let re=0;re<De.length;re+=1)De[re]&&De[re].m(_,null);u(_,P);for(let re=0;re<X.length;re+=1)X[re]&&X[re].m(_,null);u(_,b),u(f,G),D(w,f,null),u(f,T),u(f,J),u(f,ie),D(Y,f,null),u(c,E),u(c,ee),u(ee,A),u(ee,H),u(ee,te),u(te,ge),u(ge,le),u(ge,Be),u(ge,Ne),u(Ne,fe),u(Ne,z),u(Ne,Ge),u(te,ae),u(te,Te),u(Te,Xt),u(Te,tt),u(Te,lt),D(nt,lt,null),u(te,at),u(te,Ie),u(Ie,Ot),u(Ie,Ve),u(Ie,el),D(pe,el,null),u(te,Dt),u(te,xe),u(xe,ct),u(xe,Yt),u(xe,He),D(We,He,null),u(e,be),u(e,yt),u(e,tl),u(e,ue),u(ue,it),u(ue,ol);for(let re=0;re<Rt.length;re+=1)Rt[re]&&Rt[re].m(ue,null);u(ue,bl),u(ue,Ft),u(ue,ll);for(let re=0;re<Oe.length;re+=1)Oe[re]&&Oe[re].m(ue,null);u(e,qt),u(e,Vt),u(e,Nt),u(e,et),u(et,Zt),u(et,Mt);for(let re=0;re<Ze.length;re+=1)Ze[re]&&Ze[re].m(et,null);u(et,At),u(et,vl),u(et,Jt);for(let re=0;re<B.length;re+=1)B[re]&&B[re].m(et,null);u(e,Cl),u(e,Ee),u(e,Et),u(e,Je),u(Je,ut),u(Je,jt);for(let re=0;re<ce.length;re+=1)ce[re]&&ce[re].m(Je,null);u(Je,fl),u(Je,Lt),u(Je,Bt);for(let re=0;re<Qt.length;re+=1)Qt[re]&&Qt[re].m(Je,null);u(e,al),u(e,Wt),u(e,Ue),u(e,st),u(st,rt),u(st,nl);for(let re=0;re<Ut.length;re+=1)Ut[re]&&Ut[re].m(st,null);u(st,ft),u(st,_t),u(st,_l);for(let re=0;re<pt.length;re+=1)pt[re]&&pt[re].m(st,null);ze=!0,Gt||(kl=x(o,"input",t[5]),Gt=!0)},p(L,Se){if(Se[0]&2&&o.value!==L[1].name&&de(o,L[1].name),(!ze||Se[0]&2)&&Q(o,"needs-input",!L[1].name),Se[0]&2){const O=Ke.length;Ke=V({length:L[1].experience});let se;for(se=O;se<Ke.length;se+=1)Rs(L,Ke,se),De[se]||(De[se]=Ts(),De[se].c(),De[se].m(_,P));for(se=Ke.length;se<O;se+=1)De[se].d(1);De.length=Ke.length}if(Se[0]&2){const O=Fe.length;Fe=V({length:10-L[1].experience});let se;for(se=O;se<Fe.length;se+=1)Gs(L,Fe,se),X[se]||(X[se]=Is(),X[se].c(),X[se].m(_,b));for(se=Fe.length;se<O;se+=1)X[se].d(1);X.length=Fe.length}const re={};Se[1]&16&&(re.$$scope={dirty:Se,ctx:L}),!y&&Se[0]&2&&(y=!0,re.value=L[1].experience,Me(()=>y=!1)),w.$set(re);const Hn={};!U&&Se[0]&2&&(U=!0,Hn.value=L[1].level,Me(()=>U=!1)),Y.$set(Hn),(!ze||Se[0]&2)&&_e!==(_e=L[1].level+5-L[1].warriorLevel-L[1].specialistLevel-L[1].casterLevel+"")&&K(fe,_e),(!ze||Se[0]&2)&&W!==(W=L[1].level+5+"")&&K(Ge,W);const jl={};Se[0]&4&&(jl.max=L[2]),!ot&&Se[0]&2&&(ot=!0,jl.value=L[1].warriorLevel,Me(()=>ot=!1)),nt.$set(jl);const kn={};Se[0]&4&&(kn.max=L[2]),!zt&&Se[0]&2&&(zt=!0,kn.value=L[1].specialistLevel,Me(()=>zt=!1)),pe.$set(kn);const Rl={};if(Se[0]&4&&(Rl.max=L[2]),!oe&&Se[0]&2&&(oe=!0,Rl.value=L[1].casterLevel,Me(()=>oe=!1)),We.$set(Rl),Se[0]&2){Xe=V({length:20});let O;for(O=0;O<Xe.length;O+=1){const se=Ls(L,Xe,O);Rt[O]?Rt[O].p(se,Se):(Rt[O]=Os(se),Rt[O].c(),Rt[O].m(ue,bl))}for(;O<Rt.length;O+=1)Rt[O].d(1);Rt.length=Xe.length}if(Se[0]&2){Kt=V(Object.entries(L[1].levelTrackerPerks));let O;for(O=0;O<Kt.length;O+=1){const se=As(L,Kt,O);Oe[O]?Oe[O].p(se,Se):(Oe[O]=Es(se),Oe[O].c(),Oe[O].m(ue,null))}for(;O<Oe.length;O+=1)Oe[O].d(1);Oe.length=Kt.length}if(Se[0]&2){yl=V({length:16});let O;for(O=0;O<yl.length;O+=1){const se=Ms(L,yl,O);Ze[O]?Ze[O].p(se,Se):(Ze[O]=Hs(se),Ze[O].c(),Ze[O].m(et,At))}for(;O<Ze.length;O+=1)Ze[O].d(1);Ze.length=yl.length}if(Se[0]&2){Tt=V(Object.entries(L[1].warriorTrackerPerks));let O;for(O=0;O<Tt.length;O+=1){const se=Ps(L,Tt,O);B[O]?B[O].p(se,Se):(B[O]=Ds(se),B[O].c(),B[O].m(et,null))}for(;O<B.length;O+=1)B[O].d(1);B.length=Tt.length}if(Se[0]&2){ne=V({length:16});let O;for(O=0;O<ne.length;O+=1){const se=Cs(L,ne,O);ce[O]?ce[O].p(se,Se):(ce[O]=Fs(se),ce[O].c(),ce[O].m(Je,fl))}for(;O<ce.length;O+=1)ce[O].d(1);ce.length=ne.length}if(Se[0]&2){Ml=V(Object.entries(L[1].specialistTrackerPerks));let O;for(O=0;O<Ml.length;O+=1){const se=ws(L,Ml,O);Qt[O]?Qt[O].p(se,Se):(Qt[O]=Bs(se),Qt[O].c(),Qt[O].m(Je,null))}for(;O<Qt.length;O+=1)Qt[O].d(1);Qt.length=Ml.length}if(Se[0]&2){zl=V({length:16});let O;for(O=0;O<zl.length;O+=1){const se=$s(L,zl,O);Ut[O]?Ut[O].p(se,Se):(Ut[O]=Ws(se),Ut[O].c(),Ut[O].m(st,ft))}for(;O<Ut.length;O+=1)Ut[O].d(1);Ut.length=zl.length}if(Se[0]&2){Dl=V(Object.entries(L[1].casterTrackerPerks));let O;for(O=0;O<Dl.length;O+=1){const se=vs(L,Dl,O);pt[O]?pt[O].p(se,Se):(pt[O]=Ys(se),pt[O].c(),pt[O].m(st,null))}for(;O<pt.length;O+=1)pt[O].d(1);pt.length=Dl.length}},i(L){ze||(M(w.$$.fragment,L),M(Y.$$.fragment,L),M(nt.$$.fragment,L),M(pe.$$.fragment,L),M(We.$$.fragment,L),ze=!0)},o(L){j(w.$$.fragment,L),j(Y.$$.fragment,L),j(nt.$$.fragment,L),j(pe.$$.fragment,L),j(We.$$.fragment,L),ze=!1},d(L){L&&k(e),he(De,L),he(X,L),F(w),F(Y),F(nt),F(pe),F(We),he(Rt,L),he(Oe,L),he(Ze,L),he(B,L),he(ce,L),he(Qt,L),he(Ut,L),he(pt,L),Gt=!1,kl()}}}function Vs(t,e,n){return isNaN(t)?1:Math.max(e,Math.min(n,t),0)}function eu(t,e,n){let l,i=N,s=()=>(i(),i=Sl(o,b=>n(1,l=b)),o);t.$$.on_destroy.push(()=>i());let{id:r}=e,{character:o}=e;s();function a(){l.experience<10||l.level>=20||(Pt(o,l.experience=Vs(l.experience-10,0,10),l),Pt(o,l.level=Vs(l.level+1,1,20),l))}let c=4;function f(){l.name=this.value,o.set(l)}function p(b){t.$$.not_equal(l.experience,b)&&(l.experience=b,o.set(l))}function m(b){t.$$.not_equal(l.level,b)&&(l.level=b,o.set(l))}function _(b){t.$$.not_equal(l.warriorLevel,b)&&(l.warriorLevel=b,o.set(l))}function g(b){t.$$.not_equal(l.specialistLevel,b)&&(l.specialistLevel=b,o.set(l))}function P(b){t.$$.not_equal(l.casterLevel,b)&&(l.casterLevel=b,o.set(l))}return t.$$set=b=>{"id"in b&&n(4,r=b.id),"character"in b&&s(n(0,o=b.character))},t.$$.update=()=>{t.$$.dirty[0]&2&&n(2,c=l.level+3)},[o,l,c,a,r,f,p,m,_,g,P]}let tu=class extends Le{constructor(e){super(),je(this,e,eu,xc,Pe,{id:4,character:0},null,[-1,-1])}};function lu(t){let e,n,l,i,s;return{c(){e=h("div"),n=h("input"),l=h("br"),d(n,"id",t[0]),d(n,"class","text-input svelte-pmfp9m"),d(n,"type","text"),d(n,"inputmode","numeric"),n.disabled=t[1],Q(n,"invalid-input",!t[3]),d(e,"class","text-box svelte-pmfp9m")},m(r,o){$(r,e,o),u(e,n),t[8](n),u(e,l),i||(s=x(n,"change",t[4]),i=!0)},p(r,[o]){o&1&&d(n,"id",r[0]),o&2&&(n.disabled=r[1]),o&8&&Q(n,"invalid-input",!r[3])},i:N,o:N,d(r){r&&k(e),t[8](null),i=!1,s()}}}function nu(t,e,n){let{id:l=void 0}=e,{value:i}=e,{isValid:s=void 0}=e,{sanitizer:r=void 0}=e,{disabled:o=void 0}=e,a,c=!0;function f(){var m=a.value;n(3,c=s==null||s(m)),c&&n(5,i=r!=null?r(m):m)}function p(m){me[m?"unshift":"push"](()=>{a=m,n(2,a),n(5,i),n(6,s)})}return t.$$set=m=>{"id"in m&&n(0,l=m.id),"value"in m&&n(5,i=m.value),"isValid"in m&&n(6,s=m.isValid),"sanitizer"in m&&n(7,r=m.sanitizer),"disabled"in m&&n(1,o=m.disabled)},t.$$.update=()=>{t.$$.dirty&100&&a&&i!==a.value&&(n(2,a.value=(i==null?void 0:i.toString())??"",a),n(3,c=s==null||s(i)))},[l,o,a,c,f,i,s,r,p]}class Kl extends Le{constructor(e){super(),je(this,e,nu,lu,Pe,{id:0,value:5,isValid:6,sanitizer:7,disabled:1})}}function*Cn(t,e){for(let n=0;n<t.length;n+=e)yield t.slice(n,n+e)}function Js(t,e,n){const l=t.slice();return l[13]=e[n],l}function Ks(t){let e,n=t[5](t[0])+"",l,i;return{c(){e=h("option"),l=R(n),i=v(),Z(e,"color","var(--error-color)"),e.__value=t[0],de(e,e.__value),e.selected=!0},m(s,r){$(s,e,r),u(e,l),u(e,i)},p(s,r){r&33&&n!==(n=s[5](s[0])+"")&&K(l,n),r&1&&(e.__value=s[0],de(e,e.__value))},d(s){s&&k(e)}}}function Qs(t){let e,n=t[13].label+"",l,i,s,r;return{c(){e=h("option"),l=R(n),i=v(),Z(e,"text-align","center"),e.__value=s=t[13].value,de(e,e.__value),e.selected=r=t[0]===t[13].value},m(o,a){$(o,e,a),u(e,l),u(e,i)},p(o,a){a&256&&n!==(n=o[13].label+"")&&K(l,n),a&256&&s!==(s=o[13].value)&&(e.__value=s,de(e,e.__value)),a&257&&r!==(r=o[0]===o[13].value)&&(e.selected=r)},d(o){o&&k(e)}}}function iu(t){let e,n,l,i,s=(t[0]<t[2]||t[0]>t[3])&&Ks(t),r=V(t[8]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Qs(Js(t,r,a));return{c(){e=h("select"),s&&s.c(),n=Ce();for(let a=0;a<o.length;a+=1)o[a].c();d(e,"id",t[1]),d(e,"class","button svelte-1vwq9i9"),e.disabled=t[4],Q(e,"bright",t[0]!=0),Q(e,"invalid-input",!t[7])},m(a,c){$(a,e,c),s&&s.m(e,null),u(e,n);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);t[10](e),l||(i=x(e,"change",t[9]),l=!0)},p(a,[c]){if(a[0]<a[2]||a[0]>a[3]?s?s.p(a,c):(s=Ks(a),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c&257){r=V(a[8]);let f;for(f=0;f<r.length;f+=1){const p=Js(a,r,f);o[f]?o[f].p(p,c):(o[f]=Qs(p),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=r.length}c&2&&d(e,"id",a[1]),c&16&&(e.disabled=a[4]),c&1&&Q(e,"bright",a[0]!=0),c&128&&Q(e,"invalid-input",!a[7])},i:N,o:N,d(a){a&&k(e),s&&s.d(),he(o,a),t[10](null),l=!1,i()}}}function su(t,e,n){let{id:l=void 0}=e,{value:i}=e,{min:s=0}=e,{max:r=10}=e,{disabled:o=void 0}=e,{format:a=b=>b.toString()}=e,c,f=!0,p=[];function m(b,G){let w;b>=G?w=[{value:b,label:a(b)}]:w=Array.from({length:Math.floor(G+1-b)},(y,T)=>{let J=b+T;return{value:J,label:a(J)}}),n(8,p=w),n(7,f=i!=null&&i>=b&&i<=G)}function _(b){c&&b!==Number.parseInt(c.value)&&(n(6,c.value=b==null?void 0:b.toString(),c),n(7,f=b===Tl(b,s,r)))}function g(){var b=Number.parseInt(c.value);n(7,f=b===Tl(b,s,r)),f&&n(0,i=b)}function P(b){me[b?"unshift":"push"](()=>{c=b,n(6,c),n(8,p),n(0,i)})}return t.$$set=b=>{"id"in b&&n(1,l=b.id),"value"in b&&n(0,i=b.value),"min"in b&&n(2,s=b.min),"max"in b&&n(3,r=b.max),"disabled"in b&&n(4,o=b.disabled),"format"in b&&n(5,a=b.format)},t.$$.update=()=>{t.$$.dirty&12&&m(s,r),t.$$.dirty&1&&_(i)},[i,l,s,r,o,a,c,f,p,g,P]}class Xl extends Le{constructor(e){super(),je(this,e,su,iu,Pe,{id:1,value:0,min:2,max:3,disabled:4,format:5})}}function Xs(t,e,n){const l=t.slice();return l[31]=e[n],l[33]=n,l}function Zs(t,e,n){const l=t.slice();return l[34]=e[n],l[35]=e,l[36]=n,l}function xs(t,e,n){const l=t.slice();return l[31]=e[n],l[33]=n,l}function er(t,e,n){const l=t.slice();return l[34]=e[n],l[38]=e,l[39]=n,l}function ru(t,e,n){const l=t.slice();return l[40]=e[n],l}function tr(t,e,n){const l=t.slice();return l[31]=e[n],l[33]=n,l}function lr(t,e,n){const l=t.slice();return l[34]=e[n],l[44]=e,l[45]=n,l}function nr(t,e,n){const l=t.slice();return l[34]=e[n],l[46]=e,l[47]=n,l}function ir(t,e,n){const l=t.slice();return l[40]=e[n],l}function sr(t,e,n){const l=t.slice();return l[50]=e[n],l}function rr(t,e,n){const l=t.slice();l[50]=e[n],l[53]=e,l[54]=n;const i=l[1].explorationStatGenMethod===qe.Manual?l[1].statGen_Manual[l[50]]:l[1].statGen_Roll[l[50]]??-1;return l[40]=i,l}function or(t,e,n){const l=t.slice();return l[50]=e[n],l[55]=e,l[56]=n,l}function ou(t,e,n){const l=t.slice();return l[50]=e[n],l}function ar(t,e,n){const l=t.slice();return l[59]=e[n],l}function cr(t,e,n){const l=t.slice();l[59]=e[n],l[62]=e,l[63]=n;const i=l[1].socialStatGenMethod===qe.Manual?l[1].statGen_Manual[l[59]]:l[1].statGen_Roll[l[59]]??-1;return l[40]=i,l}function ur(t,e,n){const l=t.slice();return l[59]=e[n],l[64]=e,l[65]=n,l}function au(t,e,n){const l=t.slice();return l[59]=e[n],l}function cu(t){let e;return{c(){e=h("th"),e.textContent=`${t[59]}`},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function uu(t){let e;return{c(){e=R("(rolled)")},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function fu(t){let e,n,l,i;return{c(){e=h("span"),n=R(t[3]),l=R("/"),i=R(t[14]),d(e,"class","svelte-1ay1alg"),Q(e,"red",t[3]!=t[14])},m(s,r){$(s,e,r),u(e,n),$(s,l,r),$(s,i,r)},p(s,r){r[0]&8&&K(n,s[3]),r[0]&16392&&Q(e,"red",s[3]!=s[14])},d(s){s&&(k(e),k(l),k(i))}}}function _u(t){let e,n;return e=new Kl({props:{id:"stat-"+t[59]+"-input",value:t[1].statGen_Roll[t[59]],disabled:!0}}),{c(){q(e.$$.fragment)},m(l,i){D(e,l,i),n=!0},p(l,i){const s={};i[0]&2&&(s.value=l[1].statGen_Roll[l[59]]),e.$set(s)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function pu(t){let e,n,l;function i(r){t[21](r,t[59])}let s={min:-1,max:5};return t[1].statGen_Manual[t[59]]!==void 0&&(s.value=t[1].statGen_Manual[t[59]]),e=new Xl({props:s}),me.push(()=>Ae(e,"value",i)),{c(){q(e.$$.fragment)},m(r,o){D(e,r,o),l=!0},p(r,o){t=r;const a={};!n&&o[0]&2&&(n=!0,a.value=t[1].statGen_Manual[t[59]],Me(()=>n=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){F(e,r)}}}function fr(t){let e,n,l,i,s;const r=[pu,_u],o=[];function a(c,f){return c[1].socialStatGenMethod===qe.Manual?0:1}return n=a(t),l=o[n]=r[n](t),{c(){e=h("td"),l.c(),i=v()},m(c,f){$(c,e,f),o[n].m(e,null),u(e,i),s=!0},p(c,f){let p=n;n=a(c),n===p?o[n].p(c,f):($e(),j(o[p],1,1,()=>{o[p]=null}),we(),l=o[n],l?l.p(c,f):(l=o[n]=r[n](c),l.c()),M(l,1),l.m(e,i))},i(c){s||(M(l),s=!0)},o(c){j(l),s=!1},d(c){c&&k(e),o[n].d()}}}function _r(t){let e,n,l,i,s;function r(a){t[22](a,t[59])}let o={min:0,max:5-t[40]};return t[1].statImprovements[t[59]]!==void 0&&(o.value=t[1].statImprovements[t[59]]),n=new Xl({props:o}),me.push(()=>Ae(n,"value",r)),{c(){e=h("td"),q(n.$$.fragment),i=v()},m(a,c){$(a,e,c),D(n,e,null),u(e,i),s=!0},p(a,c){t=a;const f={};c[0]&2&&(f.max=5-t[40]),!l&&c[0]&2&&(l=!0,f.value=t[1].statImprovements[t[59]],Me(()=>l=!1)),n.$set(f)},i(a){s||(M(n.$$.fragment,a),s=!0)},o(a){j(n.$$.fragment,a),s=!1},d(a){a&&k(e),F(n)}}}function pr(t){let e,n,l;return n=new Kl({props:{value:t[1].GetStat(ve.Candor),disabled:!0}}),{c(){e=h("td"),q(n.$$.fragment)},m(i,s){$(i,e,s),D(n,e,null),l=!0},p(i,s){const r={};s[0]&2&&(r.value=i[1].GetStat(ve.Candor)),n.$set(r)},i(i){l||(M(n.$$.fragment,i),l=!0)},o(i){j(n.$$.fragment,i),l=!1},d(i){i&&k(e),F(n)}}}function hr(t){let e,n,l,i=t[3]!=t[14]?"":"Re-",s,r,o,a,c,f,p,m;return{c(){e=h("div"),n=h("div"),l=h("button"),s=R(i),r=R("Roll "),o=R(t[14]),a=R("d3"),c=R(" => "),f=h("input"),d(f,"type","string"),Z(f,"width",t[14]*1.2+"em"),f.value=t[2],f.disabled=!0,d(n,"class","sheet-row svelte-1ay1alg"),d(e,"class","sheet-section svelte-1ay1alg")},m(_,g){$(_,e,g),u(e,n),u(n,l),u(l,s),u(l,r),u(l,o),u(l,a),u(n,c),u(n,f),p||(m=x(l,"click",t[15]),p=!0)},p(_,g){g[0]&8&&i!==(i=_[3]!=_[14]?"":"Re-")&&K(s,i),g[0]&4&&f.value!==_[2]&&(f.value=_[2])},d(_){_&&k(e),p=!1,m()}}}function hu(t){let e;return{c(){e=h("th"),e.textContent=`${t[50]}`},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function du(t){let e;return{c(){e=R("(rolled)")},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function mu(t){let e,n,l,i;return{c(){e=h("span"),n=R(t[6]),l=R("/"),i=R(t[14]),d(e,"class","svelte-1ay1alg"),Q(e,"red",t[6]!=t[14])},m(s,r){$(s,e,r),u(e,n),$(s,l,r),$(s,i,r)},p(s,r){r[0]&64&&K(n,s[6]),r[0]&16448&&Q(e,"red",s[6]!=s[14])},d(s){s&&(k(e),k(l),k(i))}}}function gu(t){let e,n;return e=new Kl({props:{id:"stat-"+t[50]+"-input",value:t[1].statGen_Roll[t[50]],disabled:!0}}),{c(){q(e.$$.fragment)},m(l,i){D(e,l,i),n=!0},p(l,i){const s={};i[0]&2&&(s.value=l[1].statGen_Roll[l[50]]),e.$set(s)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function bu(t){let e,n,l;function i(r){t[25](r,t[50])}let s={min:-1,max:5};return t[1].statGen_Manual[t[50]]!==void 0&&(s.value=t[1].statGen_Manual[t[50]]),e=new Xl({props:s}),me.push(()=>Ae(e,"value",i)),{c(){q(e.$$.fragment)},m(r,o){D(e,r,o),l=!0},p(r,o){t=r;const a={};!n&&o[0]&2&&(n=!0,a.value=t[1].statGen_Manual[t[50]],Me(()=>n=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){F(e,r)}}}function dr(t){let e,n,l,i,s;const r=[bu,gu],o=[];function a(c,f){return c[1].explorationStatGenMethod===qe.Manual?0:1}return n=a(t),l=o[n]=r[n](t),{c(){e=h("td"),l.c(),i=v()},m(c,f){$(c,e,f),o[n].m(e,null),u(e,i),s=!0},p(c,f){let p=n;n=a(c),n===p?o[n].p(c,f):($e(),j(o[p],1,1,()=>{o[p]=null}),we(),l=o[n],l?l.p(c,f):(l=o[n]=r[n](c),l.c()),M(l,1),l.m(e,i))},i(c){s||(M(l),s=!0)},o(c){j(l),s=!1},d(c){c&&k(e),o[n].d()}}}function mr(t){let e,n,l,i,s;function r(a){t[26](a,t[50])}let o={min:0,max:5-t[40]};return t[1].statImprovements[t[50]]!==void 0&&(o.value=t[1].statImprovements[t[50]]),n=new Xl({props:o}),me.push(()=>Ae(n,"value",r)),{c(){e=h("td"),q(n.$$.fragment),i=v()},m(a,c){$(a,e,c),D(n,e,null),u(e,i),s=!0},p(a,c){t=a;const f={};c[0]&2&&(f.max=5-t[40]),!l&&c[0]&2&&(l=!0,f.value=t[1].statImprovements[t[50]],Me(()=>l=!1)),n.$set(f)},i(a){s||(M(n.$$.fragment,a),s=!0)},o(a){j(n.$$.fragment,a),s=!1},d(a){a&&k(e),F(n)}}}function gr(t){let e,n,l;return n=new Kl({props:{value:t[1].GetStat(ve.Candor),disabled:!0}}),{c(){e=h("td"),q(n.$$.fragment)},m(i,s){$(i,e,s),D(n,e,null),l=!0},p(i,s){const r={};s[0]&2&&(r.value=i[1].GetStat(ve.Candor)),n.$set(r)},i(i){l||(M(n.$$.fragment,i),l=!0)},o(i){j(n.$$.fragment,i),l=!1},d(i){i&&k(e),F(n)}}}function br(t){let e,n,l,i=t[6]!=t[14]?"":"Re-",s,r,o,a,c,f,p,m;return{c(){e=h("div"),n=h("div"),l=h("button"),s=R(i),r=R("Roll "),o=R(t[14]),a=R("d3"),c=R(" => "),f=h("input"),d(f,"type","string"),Z(f,"width",t[14]*1.2+"em"),f.value=t[5],f.disabled=!0,d(n,"class","sheet-row svelte-1ay1alg"),d(e,"class","sheet-section svelte-1ay1alg")},m(_,g){$(_,e,g),u(e,n),u(n,l),u(l,s),u(l,r),u(l,o),u(l,a),u(n,c),u(n,f),p||(m=x(l,"click",t[16]),p=!0)},p(_,g){g[0]&64&&i!==(i=_[6]!=_[14]?"":"Re-")&&K(s,i),g[0]&32&&f.value!==_[5]&&(f.value=_[5])},d(_){_&&k(e),p=!1,m()}}}function vr(t){let e,n,l,i,s;return i=new Kl({props:{value:t[1].GetStat(t[40]),disabled:!0}}),{c(){e=h("th"),n=R(t[40]),l=R(" "),q(i.$$.fragment)},m(r,o){$(r,e,o),u(e,n),u(e,l),D(i,e,null),s=!0},p(r,o){const a={};o[0]&2&&(a.value=r[1].GetStat(r[40])),i.$set(a)},i(r){s||(M(i.$$.fragment,r),s=!0)},o(r){j(i.$$.fragment,r),s=!1},d(r){r&&k(e),F(i)}}}function kr(t){let e,n,l,i,s,r,o,a,c,f,p;function m(g){t[27](g,t[34])}let _={id:t[34]+"-dropdown",max:2};return t[1].socialSkills[t[34]].points!==void 0&&(_.value=t[1].socialSkills[t[34]].points),r=new Xl({props:_}),me.push(()=>Ae(r,"value",m)),c=new Kl({props:{value:t[1].GetSkill(t[34]),disabled:!0}}),{c(){e=h("td"),n=h("label"),l=h("span"),l.textContent=`${t[34]}`,i=v(),s=h("div"),q(r.$$.fragment),a=v(),q(c.$$.fragment),f=v(),Z(l,"user-select","none"),d(s,"class","svelte-1ay1alg"),d(n,"class","skill-label svelte-1ay1alg"),d(n,"for",t[34]+"-dropdown"),Z(e,"text-align","right")},m(g,P){$(g,e,P),u(e,n),u(n,l),u(n,i),u(n,s),D(r,s,null),u(s,a),D(c,s,null),u(e,f),p=!0},p(g,P){t=g;const b={};!o&&P[0]&2&&(o=!0,b.value=t[1].socialSkills[t[34]].points,Me(()=>o=!1)),r.$set(b);const G={};P[0]&2&&(G.value=t[1].GetSkill(t[34])),c.$set(G)},i(g){p||(M(r.$$.fragment,g),M(c.$$.fragment,g),p=!0)},o(g){j(r.$$.fragment,g),j(c.$$.fragment,g),p=!1},d(g){g&&k(e),F(r),F(c)}}}function vu(t){let e;return{c(){e=h("th"),e.textContent="Minor",d(e,"rowspan","2")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function $r(t){let e,n,l,i,s,r,o,a,c,f;function p(_){t[28](_,t[34])}let m={id:t[34]+"-dropdown",max:2};return t[1].socialSkills[t[34]].points!==void 0&&(m.value=t[1].socialSkills[t[34]].points),r=new Xl({props:m}),me.push(()=>Ae(r,"value",p)),c=new Kl({props:{value:t[1].GetSkill(t[34]),disabled:!0}}),{c(){e=h("td"),n=h("label"),l=h("span"),l.textContent=`${t[34]}`,i=v(),s=h("div"),q(r.$$.fragment),a=v(),q(c.$$.fragment),Z(l,"user-select","none"),d(s,"class","svelte-1ay1alg"),d(n,"class","skill-label svelte-1ay1alg"),d(n,"for",t[34]+"-dropdown"),Z(e,"text-align","right")},m(_,g){$(_,e,g),u(e,n),u(n,l),u(n,i),u(n,s),D(r,s,null),u(s,a),D(c,s,null),f=!0},p(_,g){t=_;const P={};!o&&g[0]&2&&(o=!0,P.value=t[1].socialSkills[t[34]].points,Me(()=>o=!1)),r.$set(P);const b={};g[0]&2&&(b.value=t[1].GetSkill(t[34])),c.$set(b)},i(_){f||(M(r.$$.fragment,_),M(c.$$.fragment,_),f=!0)},o(_){j(r.$$.fragment,_),j(c.$$.fragment,_),f=!1},d(_){_&&k(e),F(r),F(c)}}}function wr(t){let e,n,l,i,s=t[33]==0&&vu(),r=V(t[31]),o=[];for(let c=0;c<r.length;c+=1)o[c]=$r(lr(t,r,c));const a=c=>j(o[c],1,1,()=>{o[c]=null});return{c(){e=h("tr"),s&&s.c(),n=v();for(let c=0;c<o.length;c+=1)o[c].c();l=v()},m(c,f){$(c,e,f),s&&s.m(e,null),u(e,n);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null);u(e,l),i=!0},p(c,f){if(f[0]&2){r=V(c[31]);let p;for(p=0;p<r.length;p+=1){const m=lr(c,r,p);o[p]?(o[p].p(m,f),M(o[p],1)):(o[p]=$r(m),o[p].c(),M(o[p],1),o[p].m(e,l))}for($e(),p=r.length;p<o.length;p+=1)a(p);we()}},i(c){if(!i){for(let f=0;f<r.length;f+=1)M(o[f]);i=!0}},o(c){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)j(o[f]);i=!1},d(c){c&&k(e),s&&s.d(),he(o,c)}}}function ku(t){let e;return{c(){e=h("th"),e.textContent=`${t[40]}`},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function $u(t){let e,n,l,i,s,r,o,a;return{c(){e=h("th"),n=R("Major*"),l=h("br"),i=v(),s=h("span"),r=R(t[12]),o=R("/"),a=R(t[11]),d(s,"class","svelte-1ay1alg"),Q(s,"red",t[12]>t[11]),d(e,"rowspan","2")},m(c,f){$(c,e,f),u(e,n),u(e,l),u(e,i),u(e,s),u(s,r),u(e,o),u(e,a)},p(c,f){f[0]&4096&&K(r,c[12]),f[0]&6144&&Q(s,"red",c[12]>c[11]),f[0]&2048&&K(a,c[11])},d(c){c&&k(e)}}}function Sr(t){let e,n,l,i,s,r,o,a,c,f;function p(_){t[29](_,t[34])}let m={id:t[34]+"-dropdown",max:2};return t[1].explorationSkills[t[34]].points!==void 0&&(m.value=t[1].explorationSkills[t[34]].points),r=new Xl({props:m}),me.push(()=>Ae(r,"value",p)),c=new Kl({props:{value:t[1].GetSkill(t[34]),disabled:!0}}),{c(){e=h("td"),n=h("label"),l=h("span"),l.textContent=`${t[34]}`,i=v(),s=h("div"),q(r.$$.fragment),a=v(),q(c.$$.fragment),Z(l,"user-select","none"),d(s,"class","svelte-1ay1alg"),d(n,"class","skill-label svelte-1ay1alg"),d(n,"for",t[34]+"-dropdown"),Z(e,"text-align","right")},m(_,g){$(_,e,g),u(e,n),u(n,l),u(n,i),u(n,s),D(r,s,null),u(s,a),D(c,s,null),f=!0},p(_,g){t=_;const P={};!o&&g[0]&2&&(o=!0,P.value=t[1].explorationSkills[t[34]].points,Me(()=>o=!1)),r.$set(P);const b={};g[0]&2&&(b.value=t[1].GetSkill(t[34])),c.$set(b)},i(_){f||(M(r.$$.fragment,_),M(c.$$.fragment,_),f=!0)},o(_){j(r.$$.fragment,_),j(c.$$.fragment,_),f=!1},d(_){_&&k(e),F(r),F(c)}}}function Cr(t){let e,n,l,i=t[33]==0&&$u(t),s=V(t[31]),r=[];for(let a=0;a<s.length;a+=1)r[a]=Sr(er(t,s,a));const o=a=>j(r[a],1,1,()=>{r[a]=null});return{c(){e=h("tr"),i&&i.c(),n=v();for(let a=0;a<r.length;a+=1)r[a].c()},m(a,c){$(a,e,c),i&&i.m(e,null),u(e,n);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);l=!0},p(a,c){if(a[33]==0&&i.p(a,c),c[0]&2){s=V(a[31]);let f;for(f=0;f<s.length;f+=1){const p=er(a,s,f);r[f]?(r[f].p(p,c),M(r[f],1)):(r[f]=Sr(p),r[f].c(),M(r[f],1),r[f].m(e,null))}for($e(),f=s.length;f<r.length;f+=1)o(f);we()}},i(a){if(!l){for(let c=0;c<s.length;c+=1)M(r[c]);l=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)j(r[c]);l=!1},d(a){a&&k(e),i&&i.d(),he(r,a)}}}function wu(t){let e;return{c(){e=h("th"),e.textContent="Minor",d(e,"rowspan","3")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Pr(t){let e,n,l,i,s,r,o,a,c,f;function p(_){t[30](_,t[34])}let m={id:t[34]+"-dropdown",max:2};return t[1].explorationSkills[t[34]].points!==void 0&&(m.value=t[1].explorationSkills[t[34]].points),r=new Xl({props:m}),me.push(()=>Ae(r,"value",p)),c=new Kl({props:{value:t[1].GetSkill(t[34]),disabled:!0}}),{c(){e=h("td"),n=h("label"),l=h("span"),l.textContent=`${t[34]}`,i=v(),s=h("div"),q(r.$$.fragment),a=v(),q(c.$$.fragment),Z(l,"user-select","none"),d(s,"class","svelte-1ay1alg"),d(n,"class","skill-label svelte-1ay1alg"),d(n,"for",t[34]+"-dropdown"),Z(e,"text-align","right")},m(_,g){$(_,e,g),u(e,n),u(n,l),u(n,i),u(n,s),D(r,s,null),u(s,a),D(c,s,null),f=!0},p(_,g){t=_;const P={};!o&&g[0]&2&&(o=!0,P.value=t[1].explorationSkills[t[34]].points,Me(()=>o=!1)),r.$set(P);const b={};g[0]&2&&(b.value=t[1].GetSkill(t[34])),c.$set(b)},i(_){f||(M(r.$$.fragment,_),M(c.$$.fragment,_),f=!0)},o(_){j(r.$$.fragment,_),j(c.$$.fragment,_),f=!1},d(_){_&&k(e),F(r),F(c)}}}function yr(t){let e,n,l,i,s=t[33]==0&&wu(),r=V(t[31]),o=[];for(let c=0;c<r.length;c+=1)o[c]=Pr(Zs(t,r,c));const a=c=>j(o[c],1,1,()=>{o[c]=null});return{c(){e=h("tr"),s&&s.c(),n=v();for(let c=0;c<o.length;c+=1)o[c].c();l=v()},m(c,f){$(c,e,f),s&&s.m(e,null),u(e,n);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null);u(e,l),i=!0},p(c,f){if(f[0]&2){r=V(c[31]);let p;for(p=0;p<r.length;p+=1){const m=Zs(c,r,p);o[p]?(o[p].p(m,f),M(o[p],1)):(o[p]=Pr(m),o[p].c(),M(o[p],1),o[p].m(e,l))}for($e(),p=r.length;p<o.length;p+=1)a(p);we()}},i(c){if(!i){for(let f=0;f<r.length;f+=1)M(o[f]);i=!0}},o(c){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)j(o[f]);i=!1},d(c){c&&k(e),s&&s.d(),he(o,c)}}}function Su(t){let e,n,l,i,s,r,o,a,c,f,p,m,_,g,P,b,G,w,y,T,J,ie,Y,U,E,ee,A,H,te,ge,le,Be,Ne=t[1].StatPoints-t[14]+"",_e,fe,z,W,Ge,ae,Te,Xt,tt,lt,nt,ot,at,Ie,Ot,Ve,el,pe,zt,Dt,xe,ct,Yt,He,We,oe,be,yt,tl,ue,it,ol,bl,Ft,ll,qt,Vt=t[1].StatPoints-t[14]+"",Nt,et,Zt,Mt,At,vl,Jt,Cl,Ee,Et,Je,ut,jt,fl,Lt,Bt,al,Wt=t[1].SocialSkillPoints+"",Ue,st,rt,nl,ft,_t,_l,ze,Gt,kl,Ke,De,Fe,X,ke,Qe,Zl,Gl,cl,Pl,Hl,xt,xl,ul,Xe,Rt,Kt,Oe,yl,Ze=t[1].ExplorationSkillPoints+"",Tt,B,ne,ce,Ml,Qt,zl,Ut,Dl,pt,L,Se,re,Hn=V($l),jl=[];for(let C=0;C<Hn.length;C+=1)jl[C]=cu(au(t,Hn,C));function kn(C,I){if(C[1].socialStatGenMethod===qe.Manual)return fu;if(C[1].socialStatGenMethod===qe.Roll)return uu}let Rl=kn(t),O=Rl&&Rl(t),se=V($l),ht=[];for(let C=0;C<se.length;C+=1)ht[C]=fr(ur(t,se,C));const Mo=C=>j(ht[C],1,1,()=>{ht[C]=null});let en=V($l),dt=[];for(let C=0;C<en.length;C+=1)dt[C]=_r(cr(t,en,C));const Ao=C=>j(dt[C],1,1,()=>{dt[C]=null});let tn=V($l),mt=[];for(let C=0;C<tn.length;C+=1)mt[C]=pr(ar(t,tn,C));const jo=C=>j(mt[C],1,1,()=>{mt[C]=null});let pl=t[1].socialStatGenMethod===qe.Roll&&hr(t),Ri=V(Ll),ln=[];for(let C=0;C<Ri.length;C+=1)ln[C]=hu(ou(t,Ri,C));function Ti(C,I){if(C[1].explorationStatGenMethod===qe.Manual)return mu;if(C[1].explorationStatGenMethod===qe.Roll)return du}let $n=Ti(t),hl=$n&&$n(t),nn=V(Ll),gt=[];for(let C=0;C<nn.length;C+=1)gt[C]=dr(or(t,nn,C));const Lo=C=>j(gt[C],1,1,()=>{gt[C]=null});let sn=V(Ll),bt=[];for(let C=0;C<sn.length;C+=1)bt[C]=mr(rr(t,sn,C));const Go=C=>j(bt[C],1,1,()=>{bt[C]=null});let rn=V(Ll),vt=[];for(let C=0;C<rn.length;C+=1)vt[C]=gr(sr(t,rn,C));const Ro=C=>j(vt[C],1,1,()=>{vt[C]=null});let dl=t[1].explorationStatGenMethod===qe.Roll&&br(t),on=V($l),kt=[];for(let C=0;C<on.length;C+=1)kt[C]=vr(ir(t,on,C));const To=C=>j(kt[C],1,1,()=>{kt[C]=null});let an=V(Gn),$t=[];for(let C=0;C<an.length;C+=1)$t[C]=kr(nr(t,an,C));const Io=C=>j($t[C],1,1,()=>{$t[C]=null});let cn=V(Cn(Bn,3)),wt=[];for(let C=0;C<cn.length;C+=1)wt[C]=wr(tr(t,cn,C));const Oo=C=>j(wt[C],1,1,()=>{wt[C]=null});let Ii=V(Ll),un=[];for(let C=0;C<Ii.length;C+=1)un[C]=ku(ru(t,Ii,C));let fn=V(Cn(Rn,3)),St=[];for(let C=0;C<fn.length;C+=1)St[C]=Cr(xs(t,fn,C));const No=C=>j(St[C],1,1,()=>{St[C]=null});let _n=V(Cn(Wn,3)),Ct=[];for(let C=0;C<_n.length;C+=1)Ct[C]=yr(Xs(t,_n,C));const Eo=C=>j(Ct[C],1,1,()=>{Ct[C]=null});return{c(){e=h("div"),n=h("h1"),n.innerHTML='<img src="/img/icons/PlusPlusIcon.svg" alt=""/> Stats &amp; Skills <img src="/img/icons/PlusPlusIcon.svg" alt=""/>',l=v(),i=h("div"),s=h("div"),r=h("h2"),r.textContent="Social Stats",o=v(),a=h("div"),c=h("div"),f=h("button"),f.textContent="Manual",p=v(),m=h("button"),m.textContent="Roll",_=v(),g=h("table"),P=h("tr"),b=h("td"),G=v();for(let C=0;C<jl.length;C+=1)jl[C].c();w=v(),y=h("tr"),T=h("th"),J=R("starting"),ie=h("br"),Y=v(),O&&O.c(),U=v();for(let C=0;C<ht.length;C+=1)ht[C].c();E=v(),ee=h("tr"),A=h("th"),H=R("points"),te=h("br"),ge=h("span"),le=R(t[4]),Be=R("/"),_e=R(Ne),fe=v();for(let C=0;C<dt.length;C+=1)dt[C].c();z=v(),W=h("tr"),Ge=h("th"),Ge.textContent="total",ae=v();for(let C=0;C<mt.length;C+=1)mt[C].c();Te=v(),pl&&pl.c(),Xt=v(),tt=h("div"),lt=h("h2"),lt.textContent="Exploration Stats",nt=v(),ot=h("div"),at=h("div"),Ie=h("button"),Ie.textContent="Manual",Ot=v(),Ve=h("button"),Ve.textContent="Roll",el=v(),pe=h("table"),zt=h("tr"),Dt=h("td"),xe=v();for(let C=0;C<ln.length;C+=1)ln[C].c();ct=v(),Yt=h("tr"),He=h("th"),We=R("starting"),oe=h("br"),be=v(),hl&&hl.c(),yt=v();for(let C=0;C<gt.length;C+=1)gt[C].c();tl=v(),ue=h("tr"),it=h("th"),ol=R("points"),bl=h("br"),Ft=h("span"),ll=R(t[7]),qt=R("/"),Nt=R(Vt),et=v();for(let C=0;C<bt.length;C+=1)bt[C].c();Zt=v(),Mt=h("tr"),At=h("th"),At.textContent="total",vl=v();for(let C=0;C<vt.length;C+=1)vt[C].c();Jt=v(),dl&&dl.c(),Cl=v(),Ee=h("div"),Et=h("h2"),Et.textContent="Social Skills",Je=v(),ut=h("div"),jt=h("p"),fl=R("Points Spent: "),Lt=h("span"),Bt=R(t[10]),al=R("/"),Ue=R(Wt),st=v(),rt=h("table"),nl=h("tr"),ft=h("td"),_t=v();for(let C=0;C<kt.length;C+=1)kt[C].c();_l=v(),ze=h("tr"),Gt=h("th"),kl=R("Major*"),Ke=h("br"),De=v(),Fe=h("span"),X=R(t[9]),ke=R("/"),Qe=R(t[8]),Zl=v();for(let C=0;C<$t.length;C+=1)$t[C].c();Gl=v();for(let C=0;C<wt.length;C+=1)wt[C].c();cl=v(),Pl=h("p"),Pl.textContent="* You cannot spend more than half your skill points on Major Skills.",Hl=v(),xt=h("h2"),xt.textContent="Exploration Skills",xl=v(),ul=h("div"),Xe=h("p"),Rt=R("Points Spent: "),Kt=h("span"),Oe=R(t[13]),yl=R("/"),Tt=R(Ze),B=v(),ne=h("table"),ce=h("tr"),Ml=h("td"),Qt=v();for(let C=0;C<un.length;C+=1)un[C].c();zl=v();for(let C=0;C<St.length;C+=1)St[C].c();Ut=v();for(let C=0;C<Ct.length;C+=1)Ct[C].c();Dl=v(),pt=h("p"),pt.textContent="* You cannot spend more than half your skill points on Major Skills.",Q(f,"active",t[1].socialStatGenMethod===qe.Manual),Q(m,"active",t[1].socialStatGenMethod===qe.Roll),d(c,"class","toggle-bg"),d(a,"class","sheet-row svelte-1ay1alg"),d(ge,"class","svelte-1ay1alg"),Q(ge,"red",t[1].StatPoints-t[14]!=t[4]),d(Ge,"class","row-header"),d(g,"class","point-table"),d(s,"class","sheet-block-v"),Q(Ie,"active",t[1].explorationStatGenMethod===qe.Manual),Q(Ve,"active",t[1].explorationStatGenMethod===qe.Roll),d(at,"class","toggle-bg"),d(ot,"class","sheet-row svelte-1ay1alg"),d(Ft,"class","svelte-1ay1alg"),Q(Ft,"red",t[1].StatPoints-t[14]!=t[7]),d(At,"class","row-header"),d(pe,"class","point-table"),d(tt,"class","sheet-block-v"),d(i,"class","sheet-block-h"),d(e,"class","sheet-block svelte-1ay1alg"),d(Lt,"class","svelte-1ay1alg"),Q(Lt,"red",t[1].SocialSkillPoints!=t[10]),d(Fe,"class","svelte-1ay1alg"),Q(Fe,"red",t[9]>t[8]),Z(rt,"margin","0px"),d(rt,"class","point-table"),d(Pl,"class","svelte-1ay1alg"),Q(Pl,"red",t[9]>t[8]),d(ut,"class","sheet-block-v"),d(Kt,"class","svelte-1ay1alg"),Q(Kt,"red",t[1].ExplorationSkillPoints!=t[13]),Z(ne,"margin","0px"),d(ne,"class","point-table"),d(pt,"class","svelte-1ay1alg"),Q(pt,"red",t[12]>t[11]),d(ul,"class","sheet-block-v"),d(Ee,"class","sheet-block svelte-1ay1alg")},m(C,I){$(C,e,I),u(e,n),u(e,l),u(e,i),u(i,s),u(s,r),u(s,o),u(s,a),u(a,c),u(c,f),u(c,p),u(c,m),u(s,_),u(s,g),u(g,P),u(P,b),u(P,G);for(let S=0;S<jl.length;S+=1)jl[S]&&jl[S].m(P,null);u(g,w),u(g,y),u(y,T),u(T,J),u(T,ie),u(T,Y),O&&O.m(T,null),u(y,U);for(let S=0;S<ht.length;S+=1)ht[S]&&ht[S].m(y,null);u(g,E),u(g,ee),u(ee,A),u(A,H),u(A,te),u(A,ge),u(ge,le),u(A,Be),u(A,_e),u(ee,fe);for(let S=0;S<dt.length;S+=1)dt[S]&&dt[S].m(ee,null);u(g,z),u(g,W),u(W,Ge),u(W,ae);for(let S=0;S<mt.length;S+=1)mt[S]&&mt[S].m(W,null);u(s,Te),pl&&pl.m(s,null),u(i,Xt),u(i,tt),u(tt,lt),u(tt,nt),u(tt,ot),u(ot,at),u(at,Ie),u(at,Ot),u(at,Ve),u(tt,el),u(tt,pe),u(pe,zt),u(zt,Dt),u(zt,xe);for(let S=0;S<ln.length;S+=1)ln[S]&&ln[S].m(zt,null);u(pe,ct),u(pe,Yt),u(Yt,He),u(He,We),u(He,oe),u(He,be),hl&&hl.m(He,null),u(Yt,yt);for(let S=0;S<gt.length;S+=1)gt[S]&&gt[S].m(Yt,null);u(pe,tl),u(pe,ue),u(ue,it),u(it,ol),u(it,bl),u(it,Ft),u(Ft,ll),u(it,qt),u(it,Nt),u(ue,et);for(let S=0;S<bt.length;S+=1)bt[S]&&bt[S].m(ue,null);u(pe,Zt),u(pe,Mt),u(Mt,At),u(Mt,vl);for(let S=0;S<vt.length;S+=1)vt[S]&&vt[S].m(Mt,null);u(tt,Jt),dl&&dl.m(tt,null),$(C,Cl,I),$(C,Ee,I),u(Ee,Et),u(Ee,Je),u(Ee,ut),u(ut,jt),u(jt,fl),u(jt,Lt),u(Lt,Bt),u(jt,al),u(jt,Ue),u(jt,st),u(ut,rt),u(rt,nl),u(nl,ft),u(nl,_t);for(let S=0;S<kt.length;S+=1)kt[S]&&kt[S].m(nl,null);u(rt,_l),u(rt,ze),u(ze,Gt),u(Gt,kl),u(Gt,Ke),u(Gt,De),u(Gt,Fe),u(Fe,X),u(Gt,ke),u(Gt,Qe),u(ze,Zl);for(let S=0;S<$t.length;S+=1)$t[S]&&$t[S].m(ze,null);u(rt,Gl);for(let S=0;S<wt.length;S+=1)wt[S]&&wt[S].m(rt,null);u(ut,cl),u(ut,Pl),u(Ee,Hl),u(Ee,xt),u(Ee,xl),u(Ee,ul),u(ul,Xe),u(Xe,Rt),u(Xe,Kt),u(Kt,Oe),u(Xe,yl),u(Xe,Tt),u(Xe,B),u(ul,ne),u(ne,ce),u(ce,Ml),u(ce,Qt);for(let S=0;S<un.length;S+=1)un[S]&&un[S].m(ce,null);u(ne,zl);for(let S=0;S<St.length;S+=1)St[S]&&St[S].m(ne,null);u(ne,Ut);for(let S=0;S<Ct.length;S+=1)Ct[S]&&Ct[S].m(ne,null);u(ul,Dl),u(ul,pt),L=!0,Se||(re=[x(f,"click",t[19]),x(m,"click",t[20]),x(Ie,"click",t[23]),x(Ve,"click",t[24])],Se=!0)},p(C,I){if((!L||I[0]&2)&&Q(f,"active",C[1].socialStatGenMethod===qe.Manual),(!L||I[0]&2)&&Q(m,"active",C[1].socialStatGenMethod===qe.Roll),Rl===(Rl=kn(C))&&O?O.p(C,I):(O&&O.d(1),O=Rl&&Rl(C),O&&(O.c(),O.m(T,null))),I[0]&2){se=V($l);let S;for(S=0;S<se.length;S+=1){const Re=ur(C,se,S);ht[S]?(ht[S].p(Re,I),M(ht[S],1)):(ht[S]=fr(Re),ht[S].c(),M(ht[S],1),ht[S].m(y,null))}for($e(),S=se.length;S<ht.length;S+=1)Mo(S);we()}if((!L||I[0]&16)&&K(le,C[4]),(!L||I[0]&16402)&&Q(ge,"red",C[1].StatPoints-C[14]!=C[4]),(!L||I[0]&2)&&Ne!==(Ne=C[1].StatPoints-C[14]+"")&&K(_e,Ne),I[0]&2){en=V($l);let S;for(S=0;S<en.length;S+=1){const Re=cr(C,en,S);dt[S]?(dt[S].p(Re,I),M(dt[S],1)):(dt[S]=_r(Re),dt[S].c(),M(dt[S],1),dt[S].m(ee,null))}for($e(),S=en.length;S<dt.length;S+=1)Ao(S);we()}if(I[0]&2){tn=V($l);let S;for(S=0;S<tn.length;S+=1){const Re=ar(C,tn,S);mt[S]?(mt[S].p(Re,I),M(mt[S],1)):(mt[S]=pr(Re),mt[S].c(),M(mt[S],1),mt[S].m(W,null))}for($e(),S=tn.length;S<mt.length;S+=1)jo(S);we()}if(C[1].socialStatGenMethod===qe.Roll?pl?pl.p(C,I):(pl=hr(C),pl.c(),pl.m(s,null)):pl&&(pl.d(1),pl=null),(!L||I[0]&2)&&Q(Ie,"active",C[1].explorationStatGenMethod===qe.Manual),(!L||I[0]&2)&&Q(Ve,"active",C[1].explorationStatGenMethod===qe.Roll),$n===($n=Ti(C))&&hl?hl.p(C,I):(hl&&hl.d(1),hl=$n&&$n(C),hl&&(hl.c(),hl.m(He,null))),I[0]&2){nn=V(Ll);let S;for(S=0;S<nn.length;S+=1){const Re=or(C,nn,S);gt[S]?(gt[S].p(Re,I),M(gt[S],1)):(gt[S]=dr(Re),gt[S].c(),M(gt[S],1),gt[S].m(Yt,null))}for($e(),S=nn.length;S<gt.length;S+=1)Lo(S);we()}if((!L||I[0]&128)&&K(ll,C[7]),(!L||I[0]&16514)&&Q(Ft,"red",C[1].StatPoints-C[14]!=C[7]),(!L||I[0]&2)&&Vt!==(Vt=C[1].StatPoints-C[14]+"")&&K(Nt,Vt),I[0]&2){sn=V(Ll);let S;for(S=0;S<sn.length;S+=1){const Re=rr(C,sn,S);bt[S]?(bt[S].p(Re,I),M(bt[S],1)):(bt[S]=mr(Re),bt[S].c(),M(bt[S],1),bt[S].m(ue,null))}for($e(),S=sn.length;S<bt.length;S+=1)Go(S);we()}if(I[0]&2){rn=V(Ll);let S;for(S=0;S<rn.length;S+=1){const Re=sr(C,rn,S);vt[S]?(vt[S].p(Re,I),M(vt[S],1)):(vt[S]=gr(Re),vt[S].c(),M(vt[S],1),vt[S].m(Mt,null))}for($e(),S=rn.length;S<vt.length;S+=1)Ro(S);we()}if(C[1].explorationStatGenMethod===qe.Roll?dl?dl.p(C,I):(dl=br(C),dl.c(),dl.m(tt,null)):dl&&(dl.d(1),dl=null),(!L||I[0]&1024)&&K(Bt,C[10]),(!L||I[0]&1026)&&Q(Lt,"red",C[1].SocialSkillPoints!=C[10]),(!L||I[0]&2)&&Wt!==(Wt=C[1].SocialSkillPoints+"")&&K(Ue,Wt),I[0]&2){on=V($l);let S;for(S=0;S<on.length;S+=1){const Re=ir(C,on,S);kt[S]?(kt[S].p(Re,I),M(kt[S],1)):(kt[S]=vr(Re),kt[S].c(),M(kt[S],1),kt[S].m(nl,null))}for($e(),S=on.length;S<kt.length;S+=1)To(S);we()}if((!L||I[0]&512)&&K(X,C[9]),(!L||I[0]&768)&&Q(Fe,"red",C[9]>C[8]),(!L||I[0]&256)&&K(Qe,C[8]),I[0]&2){an=V(Gn);let S;for(S=0;S<an.length;S+=1){const Re=nr(C,an,S);$t[S]?($t[S].p(Re,I),M($t[S],1)):($t[S]=kr(Re),$t[S].c(),M($t[S],1),$t[S].m(ze,null))}for($e(),S=an.length;S<$t.length;S+=1)Io(S);we()}if(I[0]&2){cn=V(Cn(Bn,3));let S;for(S=0;S<cn.length;S+=1){const Re=tr(C,cn,S);wt[S]?(wt[S].p(Re,I),M(wt[S],1)):(wt[S]=wr(Re),wt[S].c(),M(wt[S],1),wt[S].m(rt,null))}for($e(),S=cn.length;S<wt.length;S+=1)Oo(S);we()}if((!L||I[0]&768)&&Q(Pl,"red",C[9]>C[8]),(!L||I[0]&8192)&&K(Oe,C[13]),(!L||I[0]&8194)&&Q(Kt,"red",C[1].ExplorationSkillPoints!=C[13]),(!L||I[0]&2)&&Ze!==(Ze=C[1].ExplorationSkillPoints+"")&&K(Tt,Ze),I[0]&6146){fn=V(Cn(Rn,3));let S;for(S=0;S<fn.length;S+=1){const Re=xs(C,fn,S);St[S]?(St[S].p(Re,I),M(St[S],1)):(St[S]=Cr(Re),St[S].c(),M(St[S],1),St[S].m(ne,Ut))}for($e(),S=fn.length;S<St.length;S+=1)No(S);we()}if(I[0]&2){_n=V(Cn(Wn,3));let S;for(S=0;S<_n.length;S+=1){const Re=Xs(C,_n,S);Ct[S]?(Ct[S].p(Re,I),M(Ct[S],1)):(Ct[S]=yr(Re),Ct[S].c(),M(Ct[S],1),Ct[S].m(ne,null))}for($e(),S=_n.length;S<Ct.length;S+=1)Eo(S);we()}(!L||I[0]&6144)&&Q(pt,"red",C[12]>C[11])},i(C){if(!L){for(let I=0;I<se.length;I+=1)M(ht[I]);for(let I=0;I<en.length;I+=1)M(dt[I]);for(let I=0;I<tn.length;I+=1)M(mt[I]);for(let I=0;I<nn.length;I+=1)M(gt[I]);for(let I=0;I<sn.length;I+=1)M(bt[I]);for(let I=0;I<rn.length;I+=1)M(vt[I]);for(let I=0;I<on.length;I+=1)M(kt[I]);for(let I=0;I<an.length;I+=1)M($t[I]);for(let I=0;I<cn.length;I+=1)M(wt[I]);for(let I=0;I<fn.length;I+=1)M(St[I]);for(let I=0;I<_n.length;I+=1)M(Ct[I]);L=!0}},o(C){ht=ht.filter(Boolean);for(let I=0;I<ht.length;I+=1)j(ht[I]);dt=dt.filter(Boolean);for(let I=0;I<dt.length;I+=1)j(dt[I]);mt=mt.filter(Boolean);for(let I=0;I<mt.length;I+=1)j(mt[I]);gt=gt.filter(Boolean);for(let I=0;I<gt.length;I+=1)j(gt[I]);bt=bt.filter(Boolean);for(let I=0;I<bt.length;I+=1)j(bt[I]);vt=vt.filter(Boolean);for(let I=0;I<vt.length;I+=1)j(vt[I]);kt=kt.filter(Boolean);for(let I=0;I<kt.length;I+=1)j(kt[I]);$t=$t.filter(Boolean);for(let I=0;I<$t.length;I+=1)j($t[I]);wt=wt.filter(Boolean);for(let I=0;I<wt.length;I+=1)j(wt[I]);St=St.filter(Boolean);for(let I=0;I<St.length;I+=1)j(St[I]);Ct=Ct.filter(Boolean);for(let I=0;I<Ct.length;I+=1)j(Ct[I]);L=!1},d(C){C&&(k(e),k(Cl),k(Ee)),he(jl,C),O&&O.d(),he(ht,C),he(dt,C),he(mt,C),pl&&pl.d(),he(ln,C),hl&&hl.d(),he(gt,C),he(bt,C),he(vt,C),dl&&dl.d(),he(kt,C),he($t,C),he(wt,C),he(un,C),he(St,C),he(Ct,C),Se=!1,Ye(re)}}}function Cu(t,e,n){let l,i=N,s=()=>(i(),i=Sl(r,z=>n(1,l=z)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();const o=l.levelTrackerPerks.StatPoints[0];let a,c="";function f(){n(17,a=Array.from({length:o},()=>Math.floor(Math.random()*3)+1))}let p=0,m=0,_,g="";function P(){n(18,_=Array.from({length:o},()=>Math.floor(Math.random()*3)+1))}let b=0,G=0,w=0,y=0,T=0,J=0,ie=0,Y=0;const U=()=>{Pt(r,l.socialStatGenMethod=qe.Manual,l)},E=()=>{Pt(r,l.socialStatGenMethod=qe.Roll,l)};function ee(z,W){t.$$.not_equal(l.statGen_Manual[W],z)&&(l.statGen_Manual[W]=z,r.set(l))}function A(z,W){t.$$.not_equal(l.statImprovements[W],z)&&(l.statImprovements[W]=z,r.set(l))}const H=()=>{Pt(r,l.explorationStatGenMethod=qe.Manual,l)},te=()=>{Pt(r,l.explorationStatGenMethod=qe.Roll,l)};function ge(z,W){t.$$.not_equal(l.statGen_Manual[W],z)&&(l.statGen_Manual[W]=z,r.set(l))}function le(z,W){t.$$.not_equal(l.statImprovements[W],z)&&(l.statImprovements[W]=z,r.set(l))}function Be(z,W){t.$$.not_equal(l.socialSkills[W].points,z)&&(l.socialSkills[W].points=z,r.set(l))}function Ne(z,W){t.$$.not_equal(l.socialSkills[W].points,z)&&(l.socialSkills[W].points=z,r.set(l))}function _e(z,W){t.$$.not_equal(l.explorationSkills[W].points,z)&&(l.explorationSkills[W].points=z,r.set(l))}function fe(z,W){t.$$.not_equal(l.explorationSkills[W].points,z)&&(l.explorationSkills[W].points=z,r.set(l))}return t.$$set=z=>{"character"in z&&s(n(0,r=z.character))},t.$$.update=()=>{t.$$.dirty[0]&131072&&a&&a.length==o&&(Pt(r,l.statGen_Roll[ve.Candor]=-1+a.filter(z=>z==1).length,l),Pt(r,l.statGen_Roll[ve.Conscious]=-1+a.filter(z=>z==2).length,l),Pt(r,l.statGen_Roll[ve.Cunning]=-1+a.filter(z=>z==3).length,l),n(2,c=(a==null?void 0:a.join(", "))??"")),t.$$.dirty[0]&2&&(l.socialStatGenMethod===qe.Manual?(l.statGen_Manual[ve.Candor]==null&&Pt(r,l.statGen_Manual[ve.Candor]=-1,l),l.statGen_Manual[ve.Conscious]==null&&Pt(r,l.statGen_Manual[ve.Conscious]=-1,l),l.statGen_Manual[ve.Cunning]==null&&Pt(r,l.statGen_Manual[ve.Cunning]=-1,l),n(3,p=3+(l.statGen_Manual[ve.Candor]??-1)+(l.statGen_Manual[ve.Conscious]??-1)+(l.statGen_Manual[ve.Cunning]??-1))):n(3,p=3+(l.statGen_Roll[ve.Candor]??-1)+(l.statGen_Roll[ve.Conscious]??-1)+(l.statGen_Roll[ve.Cunning]??-1))),t.$$.dirty[0]&262144&&_&&_.length==o&&(Pt(r,l.statGen_Roll[ve.Might]=-1+_.filter(z=>z==1).length,l),Pt(r,l.statGen_Roll[ve.Artifice]=-1+_.filter(z=>z==2).length,l),Pt(r,l.statGen_Roll[ve.Tuning]=-1+_.filter(z=>z==3).length,l),n(5,g=(_==null?void 0:_.join(", "))??"")),t.$$.dirty[0]&2&&(l.explorationStatGenMethod===qe.Manual?(l.statGen_Manual[ve.Might]==null&&Pt(r,l.statGen_Manual[ve.Might]=-1,l),l.statGen_Manual[ve.Artifice]==null&&Pt(r,l.statGen_Manual[ve.Artifice]=-1,l),l.statGen_Manual[ve.Tuning]==null&&Pt(r,l.statGen_Manual[ve.Tuning]=-1,l),n(6,b=3+(l.statGen_Manual[ve.Might]??-1)+(l.statGen_Manual[ve.Artifice]??-1)+(l.statGen_Manual[ve.Tuning]??-1))):n(6,b=3+(l.statGen_Roll[ve.Might]??-1)+(l.statGen_Roll[ve.Artifice]??-1)+(l.statGen_Roll[ve.Tuning]??-1))),t.$$.dirty[0]&2&&n(4,m=(l.statImprovements.Candor??0)+(l.statImprovements.Conscious??0)+(l.statImprovements.Cunning??0)),t.$$.dirty[0]&2&&n(7,G=(l.statImprovements.Might??0)+(l.statImprovements.Artifice??0)+(l.statImprovements.Tuning??0)),t.$$.dirty[0]&2&&n(8,w=Math.floor(l.SocialSkillPoints/2)),t.$$.dirty[0]&2&&n(9,y=Object.entries(l.socialSkills).filter(z=>Gn.includes(z[0])).reduce((z,W)=>z+W[1].points,0)),t.$$.dirty[0]&2&&n(10,T=Object.entries(l.socialSkills).reduce((z,W)=>z+W[1].points,0)),t.$$.dirty[0]&2&&n(11,J=Math.floor(l.ExplorationSkillPoints/2)),t.$$.dirty[0]&2&&n(12,ie=Object.entries(l.explorationSkills).filter(z=>Rn.includes(z[0])).reduce((z,W)=>z+W[1].points,0)),t.$$.dirty[0]&2&&n(13,Y=Object.entries(l.explorationSkills).reduce((z,W)=>z+W[1].points,0))},[r,l,c,p,m,g,b,G,w,y,T,J,ie,Y,o,f,P,a,_,U,E,ee,A,H,te,ge,le,Be,Ne,_e,fe]}class Pu extends Le{constructor(e){super(),je(this,e,Cu,Su,Pe,{character:0},null,[-1,-1,-1])}}function yu(t){let e;return{c(){e=h("div"),e.innerHTML=`<h2>Background</h2>
  Constitution, Class, and Lineage<br/>selection here?`,d(e,"class","sheet-block-v align-left")},m(n,l){$(n,e,l)},p:N,i:N,o:N,d(n){n&&k(e)}}}function Mu(t,e,n){let{character:l}=e;return t.$$set=i=>{"character"in i&&n(0,l=i.character)},[l]}class Au extends Le{constructor(e){super(),je(this,e,Mu,yu,Pe,{character:0})}}function ju(t){let e,n,l,i,s,r,o,a,c,f,p,m,_;return{c(){e=h("div"),n=h("h1"),n.innerHTML='<img src="/img/icons/PersonaIcon.svg" alt="" height="50px"/><br/>Persona Builder',l=v(),i=h("div"),s=h("label"),s.innerHTML="<p>Character Name:</p>",r=v(),o=h("input"),a=v(),c=h("label"),c.innerHTML="<p>Character Description:</p>",f=v(),p=h("textarea"),d(s,"for","character-name"),d(s,"class","no-grow svelte-1tcleyz"),d(o,"id","character-name"),d(o,"class","no-grow svelte-1tcleyz"),Z(o,"align-self","stretch"),d(o,"placeholder","Unnamed Character"),d(c,"for","character-description"),d(c,"style","no-grow"),d(p,"id","character-description"),d(p,"placeholder",""),d(p,"class","svelte-1tcleyz"),d(i,"class","sheet-block-v align-left"),d(e,"class","sheet-block")},m(g,P){$(g,e,P),u(e,n),u(e,l),u(e,i),u(i,s),u(i,r),u(i,o),de(o,t[1].name),u(i,a),u(i,c),u(i,f),u(i,p),de(p,t[1].description),m||(_=[x(o,"input",t[2]),x(p,"input",t[3])],m=!0)},p(g,[P]){P&2&&o.value!==g[1].name&&de(o,g[1].name),P&2&&de(p,g[1].description)},i:N,o:N,d(g){g&&k(e),m=!1,Ye(_)}}}function Lu(t,e,n){let l,i=N,s=()=>(i(),i=Sl(r,c=>n(1,l=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();function o(){l.name=this.value,r.set(l)}function a(){l.description=this.value,r.set(l)}return t.$$set=c=>{"character"in c&&s(n(0,r=c.character))},[r,l,o,a]}class Gu extends Le{constructor(e){super(),je(this,e,Lu,ju,Pe,{character:0})}}function Ru(t){let e,n;return e=new Un({props:{$$slots:{default:[zu]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(l,i){D(e,l,i),n=!0},p(l,i){const s={};i&515&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Tu(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",d(e,"class","sheet-block svelte-18kmbax")},m(n,l){$(n,e,l)},p:N,i:N,o:N,d(n){n&&k(e)}}}function Iu(t){let e,n,l,i,s,r;return{c(){e=h("div"),n=h("h2"),n.textContent="Cannot Load Social Stats",l=v(),i=h("p"),s=R("Error: "),r=R(t[2]),d(e,"class","sheet-block svelte-18kmbax")},m(o,a){$(o,e,a),u(e,n),u(e,l),u(e,i),u(i,s),u(i,r)},p(o,a){a&4&&K(r,o[2])},i:N,o:N,d(o){o&&k(e)}}}function Ou(t){let e,n,l,i;function s(a){t[4](a)}function r(a){t[5](a)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new tu({props:o}),me.push(()=>Ae(e,"id",s)),me.push(()=>Ae(e,"character",r)),{c(){q(e.$$.fragment)},m(a,c){D(e,a,c),i=!0},p(a,c){const f={};!n&&c&1&&(n=!0,f.id=a[0],Me(()=>n=!1)),!l&&c&2&&(l=!0,f.character=a[1],Me(()=>l=!1)),e.$set(f)},i(a){i||(M(e.$$.fragment,a),i=!0)},o(a){j(e.$$.fragment,a),i=!1},d(a){F(e,a)}}}function Nu(t){let e,n,l;function i(r){t[6](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new Pu({props:s}),me.push(()=>Ae(e,"character",i)),{c(){q(e.$$.fragment)},m(r,o){D(e,r,o),l=!0},p(r,o){const a={};!n&&o&2&&(n=!0,a.character=r[1],Me(()=>n=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){F(e,r)}}}function Eu(t){let e,n,l;function i(r){t[7](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new Au({props:s}),me.push(()=>Ae(e,"character",i)),{c(){q(e.$$.fragment)},m(r,o){D(e,r,o),l=!0},p(r,o){const a={};!n&&o&2&&(n=!0,a.character=r[1],Me(()=>n=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){F(e,r)}}}function Hu(t){let e,n,l;function i(r){t[8](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new Gu({props:s}),me.push(()=>Ae(e,"character",i)),{c(){q(e.$$.fragment)},m(r,o){D(e,r,o),l=!0},p(r,o){const a={};!n&&o&2&&(n=!0,a.character=r[1],Me(()=>n=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){F(e,r)}}}function zu(t){let e,n,l,i,s,r,o,a;return e=new It({props:{path:"/",$$slots:{default:[Ou]},$$scope:{ctx:t}}}),l=new It({props:{path:"/stats",$$slots:{default:[Nu]},$$scope:{ctx:t}}}),s=new It({props:{path:"/feats",$$slots:{default:[Eu]},$$scope:{ctx:t}}}),o=new It({props:{path:"/persona",$$slots:{default:[Hu]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment),n=v(),q(l.$$.fragment),i=v(),q(s.$$.fragment),r=v(),q(o.$$.fragment)},m(c,f){D(e,c,f),$(c,n,f),D(l,c,f),$(c,i,f),D(s,c,f),$(c,r,f),D(o,c,f),a=!0},p(c,f){const p={};f&515&&(p.$$scope={dirty:f,ctx:c}),e.$set(p);const m={};f&514&&(m.$$scope={dirty:f,ctx:c}),l.$set(m);const _={};f&514&&(_.$$scope={dirty:f,ctx:c}),s.$set(_);const g={};f&514&&(g.$$scope={dirty:f,ctx:c}),o.$set(g)},i(c){a||(M(e.$$.fragment,c),M(l.$$.fragment,c),M(s.$$.fragment,c),M(o.$$.fragment,c),a=!0)},o(c){j(e.$$.fragment,c),j(l.$$.fragment,c),j(s.$$.fragment,c),j(o.$$.fragment,c),a=!1},d(c){c&&(k(n),k(i),k(r)),F(e,c),F(l,c),F(s,c),F(o,c)}}}function Du(t){let e,n,l,i;const s=[Iu,Tu,Ru],r=[];function o(a,c){return a[2]?0:!a[1]||a[3]==null?1:2}return e=o(t),n=r[e]=s[e](t),{c(){n.c(),l=Ce()},m(a,c){r[e].m(a,c),$(a,l,c),i=!0},p(a,[c]){let f=e;e=o(a),e===f?r[e].p(a,c):($e(),j(r[f],1,1,()=>{r[f]=null}),we(),n=r[e],n?n.p(a,c):(n=r[e]=s[e](a),n.c()),M(n,1),n.m(l.parentNode,l))},i(a){i||(M(n),i=!0)},o(a){j(n),i=!1},d(a){a&&k(l),r[e].d(a)}}}function Fu(t,e,n){let l,i=N,s=()=>(i(),i=Sl(o,g=>n(3,l=g)),o);t.$$.on_destroy.push(()=>i());let{id:r}=e,{character:o}=e;s();let a;En(async()=>{n(2,a=o||l==null?void 0:"Failed to load character")});function c(g){r=g,n(0,r)}function f(g){o=g,s(n(1,o))}function p(g){o=g,s(n(1,o))}function m(g){o=g,s(n(1,o))}function _(g){o=g,s(n(1,o))}return t.$$set=g=>{"id"in g&&n(0,r=g.id),"character"in g&&s(n(1,o=g.character))},[r,o,a,l,c,f,p,m,_]}class qu extends Le{constructor(e){super(),je(this,e,Fu,Du,Pe,{id:0,character:1})}}function Mr(t){let e;return{c(){e=R(" Build")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Bu(t){let e,n,l,i,s=t[1]&&Mr();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/HammerIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Build")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Build")&&d(e,"alt",l),r[1]?s||(s=Mr(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Ar(t){let e;return{c(){e=R(" Play")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Wu(t){let e,n,l,i,s=t[1]&&Ar();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/SwordIcon30.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Play")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Play")&&d(e,"alt",l),r[1]?s||(s=Ar(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function jr(t){let e;return{c(){e=R(" Level")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Uu(t){let e,n,l,i,s=t[1]&&jr();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/PromotionIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Level")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Level")&&d(e,"alt",l),r[1]?s||(s=jr(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Lr(t){let e;return{c(){e=R(" Stats & Skills")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Yu(t){let e,n,l,i,s=t[1]&&Lr();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/PlusPlusIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Stats & Skills")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Stats & Skills")&&d(e,"alt",l),r[1]?s||(s=Lr(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Gr(t){let e;return{c(){e=R(" Feats")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Vu(t){let e,n,l,i,s=t[1]&&Gr();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/StarIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Feats")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Feats")&&d(e,"alt",l),r[1]?s||(s=Gr(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Rr(t){let e;return{c(){e=R(" Abilities")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Ju(t){let e,n,l,i,s=t[1]&&Rr();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/AbilitiesIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Abilities")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Abilities")&&d(e,"alt",l),r[1]?s||(s=Rr(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Tr(t){let e;return{c(){e=R(" Persona")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Ku(t){let e,n,l,i,s=t[1]&&Tr();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/PersonaIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Persona")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Persona")&&d(e,"alt",l),r[1]?s||(s=Tr(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Qu(t){let e,n,l,i,s,r,o,a,c,f,p;return n=new Ht({props:{to:"/character/"+t[0]+"/build",getProps:Il,$$slots:{default:[Uu]},$$scope:{ctx:t}}}),i=new Ht({props:{to:"/character/"+t[0]+"/build/stats",getProps:Il,$$slots:{default:[Yu]},$$scope:{ctx:t}}}),r=new Ht({props:{to:"/character/"+t[0]+"/build/feats",getProps:Il,$$slots:{default:[Vu]},$$scope:{ctx:t}}}),a=new Ht({props:{to:"/character/"+t[0]+"/build/abilities",getProps:Il,$$slots:{default:[Ju]},$$scope:{ctx:t}}}),f=new Ht({props:{to:"/character/"+t[0]+"/build/persona",getProps:Il,$$slots:{default:[Ku]},$$scope:{ctx:t}}}),{c(){e=h("div"),q(n.$$.fragment),l=v(),q(i.$$.fragment),s=v(),q(r.$$.fragment),o=v(),q(a.$$.fragment),c=v(),q(f.$$.fragment),d(e,"class","toggle-bg-v"),Q(e,"slim",!t[1])},m(m,_){$(m,e,_),D(n,e,null),u(e,l),D(i,e,null),u(e,s),D(r,e,null),u(e,o),D(a,e,null),u(e,c),D(f,e,null),p=!0},p(m,_){const g={};_&1&&(g.to="/character/"+m[0]+"/build"),_&10&&(g.$$scope={dirty:_,ctx:m}),n.$set(g);const P={};_&1&&(P.to="/character/"+m[0]+"/build/stats"),_&10&&(P.$$scope={dirty:_,ctx:m}),i.$set(P);const b={};_&1&&(b.to="/character/"+m[0]+"/build/feats"),_&10&&(b.$$scope={dirty:_,ctx:m}),r.$set(b);const G={};_&1&&(G.to="/character/"+m[0]+"/build/abilities"),_&10&&(G.$$scope={dirty:_,ctx:m}),a.$set(G);const w={};_&1&&(w.to="/character/"+m[0]+"/build/persona"),_&10&&(w.$$scope={dirty:_,ctx:m}),f.$set(w),(!p||_&2)&&Q(e,"slim",!m[1])},i(m){p||(M(n.$$.fragment,m),M(i.$$.fragment,m),M(r.$$.fragment,m),M(a.$$.fragment,m),M(f.$$.fragment,m),p=!0)},o(m){j(n.$$.fragment,m),j(i.$$.fragment,m),j(r.$$.fragment,m),j(a.$$.fragment,m),j(f.$$.fragment,m),p=!1},d(m){m&&k(e),F(n),F(i),F(r),F(a),F(f)}}}function Ir(t){let e;return{c(){e=R(" Status")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Xu(t){let e,n,l,i,s=t[1]&&Ir();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/HeartIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Status")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Status")&&d(e,"alt",l),r[1]?s||(s=Ir(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Or(t){let e;return{c(){e=R(" Social")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Zu(t){let e,n,l,i,s=t[1]&&Or();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/SocialIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Social")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Social")&&d(e,"alt",l),r[1]?s||(s=Or(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Nr(t){let e;return{c(){e=R(" Exploration")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function xu(t){let e,n,l,i,s=t[1]&&Nr();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/MapIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Exploration")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Exploration")&&d(e,"alt",l),r[1]?s||(s=Nr(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Er(t){let e;return{c(){e=R(" Abilities")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function ef(t){let e,n,l,i,s=t[1]&&Er();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/AbilitiesIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Abilities")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Abilities")&&d(e,"alt",l),r[1]?s||(s=Er(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function Hr(t){let e;return{c(){e=R(" Inventory")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function tf(t){let e,n,l,i,s=t[1]&&Hr();return{c(){e=h("img"),s&&s.c(),i=Ce(),gl(e.src,n="/img/icons/InventoryIcon.svg")||d(e,"src",n),d(e,"alt",l=t[1]?"":"Exploration")},m(r,o){$(r,e,o),s&&s.m(r,o),$(r,i,o)},p(r,o){o&2&&l!==(l=r[1]?"":"Exploration")&&d(e,"alt",l),r[1]?s||(s=Hr(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(i)),s&&s.d(r)}}}function lf(t){let e,n,l,i,s,r,o,a,c,f,p;return n=new Ht({props:{to:"/character/"+t[0]+"/play",getProps:Il,$$slots:{default:[Xu]},$$scope:{ctx:t}}}),i=new Ht({props:{to:"/character/"+t[0]+"/play/social",getProps:Il,$$slots:{default:[Zu]},$$scope:{ctx:t}}}),r=new Ht({props:{to:"/character/"+t[0]+"/play/exploration",getProps:Il,$$slots:{default:[xu]},$$scope:{ctx:t}}}),a=new Ht({props:{to:"/character/"+t[0]+"/play/abilities",getProps:Il,$$slots:{default:[ef]},$$scope:{ctx:t}}}),f=new Ht({props:{to:"/character/"+t[0]+"/play/inventory",getProps:Il,$$slots:{default:[tf]},$$scope:{ctx:t}}}),{c(){e=h("div"),q(n.$$.fragment),l=v(),q(i.$$.fragment),s=v(),q(r.$$.fragment),o=v(),q(a.$$.fragment),c=v(),q(f.$$.fragment),d(e,"class","toggle-bg-v"),Q(e,"slim",!t[1])},m(m,_){$(m,e,_),D(n,e,null),u(e,l),D(i,e,null),u(e,s),D(r,e,null),u(e,o),D(a,e,null),u(e,c),D(f,e,null),p=!0},p(m,_){const g={};_&1&&(g.to="/character/"+m[0]+"/play"),_&10&&(g.$$scope={dirty:_,ctx:m}),n.$set(g);const P={};_&1&&(P.to="/character/"+m[0]+"/play/social"),_&10&&(P.$$scope={dirty:_,ctx:m}),i.$set(P);const b={};_&1&&(b.to="/character/"+m[0]+"/play/exploration"),_&10&&(b.$$scope={dirty:_,ctx:m}),r.$set(b);const G={};_&1&&(G.to="/character/"+m[0]+"/play/abilities"),_&10&&(G.$$scope={dirty:_,ctx:m}),a.$set(G);const w={};_&1&&(w.to="/character/"+m[0]+"/play/inventory"),_&10&&(w.$$scope={dirty:_,ctx:m}),f.$set(w),(!p||_&2)&&Q(e,"slim",!m[1])},i(m){p||(M(n.$$.fragment,m),M(i.$$.fragment,m),M(r.$$.fragment,m),M(a.$$.fragment,m),M(f.$$.fragment,m),p=!0)},o(m){j(n.$$.fragment,m),j(i.$$.fragment,m),j(r.$$.fragment,m),j(a.$$.fragment,m),j(f.$$.fragment,m),p=!1},d(m){m&&k(e),F(n),F(i),F(r),F(a),F(f)}}}function nf(t){let e,n,l,i;return e=new It({props:{path:"/build/*",$$slots:{default:[Qu]},$$scope:{ctx:t}}}),l=new It({props:{path:"/play/*",$$slots:{default:[lf]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment),n=v(),q(l.$$.fragment)},m(s,r){D(e,s,r),$(s,n,r),D(l,s,r),i=!0},p(s,r){const o={};r&11&&(o.$$scope={dirty:r,ctx:s}),e.$set(o);const a={};r&11&&(a.$$scope={dirty:r,ctx:s}),l.$set(a)},i(s){i||(M(e.$$.fragment,s),M(l.$$.fragment,s),i=!0)},o(s){j(e.$$.fragment,s),j(l.$$.fragment,s),i=!1},d(s){s&&k(n),F(e,s),F(l,s)}}}function sf(t){let e,n,l,i,s,r,o,a,c,f,p,m,_,g,P,b,G;return f=new Ht({props:{to:"/character/"+t[0]+"/build",getProps:zr,$$slots:{default:[Bu]},$$scope:{ctx:t}}}),m=new Ht({props:{to:"/character/"+t[0]+"/play",getProps:zr,$$slots:{default:[Wu]},$$scope:{ctx:t}}}),g=new Un({props:{$$slots:{default:[nf]},$$scope:{ctx:t}}}),{c(){e=h("div"),n=h("nav"),l=h("div"),i=h("button"),s=h("img"),a=v(),c=h("div"),q(f.$$.fragment),p=v(),q(m.$$.fragment),_=v(),q(g.$$.fragment),d(s,"class","expand-icon svelte-19wti8y"),gl(s.src,r="/img/icons/ExpandRightIcon.svg")||d(s,"src",r),d(s,"alt",o=t[1]?"Collapse":"Expand"),Q(s,"rotated",t[1]),d(l,"class","toggle-bg-v slim"),Z(l,"margin-bottom","12px"),d(c,"class","toggle-bg-v"),Z(c,"margin-bottom","12px"),Q(c,"slim",!t[1]),d(n,"id","character-menu"),d(n,"class","svelte-19wti8y"),d(e,"class","contents svelte-19wti8y"),Q(e,"slim",!t[1])},m(w,y){$(w,e,y),u(e,n),u(n,l),u(l,i),u(i,s),u(n,a),u(n,c),D(f,c,null),u(c,p),D(m,c,null),u(n,_),D(g,n,null),P=!0,b||(G=x(i,"click",t[2]),b=!0)},p(w,[y]){(!P||y&2&&o!==(o=w[1]?"Collapse":"Expand"))&&d(s,"alt",o),(!P||y&2)&&Q(s,"rotated",w[1]);const T={};y&1&&(T.to="/character/"+w[0]+"/build"),y&10&&(T.$$scope={dirty:y,ctx:w}),f.$set(T);const J={};y&1&&(J.to="/character/"+w[0]+"/play"),y&10&&(J.$$scope={dirty:y,ctx:w}),m.$set(J),(!P||y&2)&&Q(c,"slim",!w[1]);const ie={};y&11&&(ie.$$scope={dirty:y,ctx:w}),g.$set(ie),(!P||y&2)&&Q(e,"slim",!w[1])},i(w){P||(M(f.$$.fragment,w),M(m.$$.fragment,w),M(g.$$.fragment,w),P=!0)},o(w){j(f.$$.fragment,w),j(m.$$.fragment,w),j(g.$$.fragment,w),P=!1},d(w){w&&k(e),F(f),F(m),F(g),b=!1,G()}}}function zr(t){return t.isCurrent||t.isPartiallyCurrent?{class:"active"}:{class:""}}function Il(t){return t.isCurrent?{class:"active"}:{class:""}}function rf(t,e,n){let{id:l=fi}=e,i=!1;const s=()=>n(1,i=!i);return t.$$set=r=>{"id"in r&&n(0,l=r.id)},t.$$.update=()=>{t.$$.dirty&1&&console.log("id = '"+l+"'")},[l,i,s]}class of extends Le{constructor(e){super(),je(this,e,rf,sf,Pe,{id:0})}}function Dr(t,e,n){const l=t.slice();return l[4]=e[n],l[5]=e,l[6]=n,l}function Fr(t,e,n){const l=t.slice();return l[4]=e[n],l[7]=e,l[8]=n,l}function qr(t,e,n){const l=t.slice();return l[9]=e[n],l}function Br(t){let e,n,l=In(t[1].GetStat(t[9]))+"",i,s,r,o;return{c(){e=h("div"),n=h("button"),i=R(l),s=v(),r=h("p"),o=h("b"),o.textContent=`${t[9]}`,d(n,"class","passive-button svelte-evp5uj"),Z(r,"text-align","center"),d(r,"class","svelte-evp5uj"),d(e,"class","skill-cell svelte-evp5uj")},m(a,c){$(a,e,c),u(e,n),u(n,i),u(e,s),u(e,r),u(r,o)},p(a,c){c&2&&l!==(l=In(a[1].GetStat(a[9]))+"")&&K(i,l)},d(a){a&&k(e)}}}function Wr(t){let e,n,l,i,s,r,o=In(t[1].GetSkill(t[4]))+"",a,c,f,p,m="+".repeat(t[1].socialSkills[t[4]].points)+"",_,g,P;function b(){t[2].call(i,t[4])}return{c(){e=h("div"),n=h("div"),l=h("label"),i=h("input"),s=v(),r=h("button"),a=R(o),c=v(),f=h("p"),p=R(t[4]),_=R(m),d(i,"type","checkbox"),d(i,"class","svelte-evp5uj"),d(l,"class","inspiration-check svelte-evp5uj"),Q(l,"checked",t[1].socialSkills[t[4]].inspiration),d(r,"class","skill-button svelte-evp5uj"),d(n,"class","skill-cell-row svelte-evp5uj"),d(f,"class","svelte-evp5uj"),d(e,"class","skill-cell svelte-evp5uj")},m(G,w){$(G,e,w),u(e,n),u(n,l),u(l,i),i.checked=t[1].socialSkills[t[4]].inspiration,u(n,s),u(n,r),u(r,a),u(e,c),u(e,f),u(f,p),u(f,_),g||(P=x(i,"change",b),g=!0)},p(G,w){t=G,w&2&&(i.checked=t[1].socialSkills[t[4]].inspiration),w&2&&Q(l,"checked",t[1].socialSkills[t[4]].inspiration),w&2&&o!==(o=In(t[1].GetSkill(t[4]))+"")&&K(a,o),w&2&&m!==(m="+".repeat(t[1].socialSkills[t[4]].points)+"")&&K(_,m)},d(G){G&&k(e),g=!1,P()}}}function Ur(t){let e,n,l,i,s,r,o=In(t[1].GetSkill(t[4]))+"",a,c,f,p,m="+".repeat(t[1].socialSkills[t[4]].points)+"",_,g,P,b;function G(){t[3].call(i,t[4])}return{c(){e=h("div"),n=h("div"),l=h("label"),i=h("input"),s=v(),r=h("button"),a=R(o),c=v(),f=h("p"),p=R(t[4]),_=R(m),g=v(),d(i,"type","checkbox"),d(i,"class","svelte-evp5uj"),d(l,"class","inspiration-check svelte-evp5uj"),Q(l,"checked",t[1].socialSkills[t[4]].inspiration),d(r,"class","skill-button svelte-evp5uj"),d(n,"class","skill-cell-row svelte-evp5uj"),d(f,"class","svelte-evp5uj"),d(e,"class","skill-cell svelte-evp5uj")},m(w,y){$(w,e,y),u(e,n),u(n,l),u(l,i),i.checked=t[1].socialSkills[t[4]].inspiration,u(n,s),u(n,r),u(r,a),u(e,c),u(e,f),u(f,p),u(f,_),u(e,g),P||(b=x(i,"change",G),P=!0)},p(w,y){t=w,y&2&&(i.checked=t[1].socialSkills[t[4]].inspiration),y&2&&Q(l,"checked",t[1].socialSkills[t[4]].inspiration),y&2&&o!==(o=In(t[1].GetSkill(t[4]))+"")&&K(a,o),y&2&&m!==(m="+".repeat(t[1].socialSkills[t[4]].points)+"")&&K(_,m)},d(w){w&&k(e),P=!1,b()}}}function af(t){let e,n,l,i,s,r,o,a,c,f=V($l),p=[];for(let b=0;b<f.length;b+=1)p[b]=Br(qr(t,f,b));let m=V(Gn),_=[];for(let b=0;b<m.length;b+=1)_[b]=Wr(Fr(t,m,b));let g=V(Bn),P=[];for(let b=0;b<g.length;b+=1)P[b]=Ur(Dr(t,g,b));return{c(){e=h("div"),n=h("h4"),n.textContent="Social Stats",l=v();for(let b=0;b<p.length;b+=1)p[b].c();i=v(),s=h("h4"),s.textContent="Social Skills",r=v();for(let b=0;b<_.length;b+=1)_[b].c();o=v(),a=h("div"),c=v();for(let b=0;b<P.length;b+=1)P[b].c();d(n,"class","svelte-evp5uj"),d(s,"class","svelte-evp5uj"),d(a,"class","grid-divider svelte-evp5uj"),d(e,"class","skill-grid svelte-evp5uj")},m(b,G){$(b,e,G),u(e,n),u(e,l);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(e,null);u(e,i),u(e,s),u(e,r);for(let w=0;w<_.length;w+=1)_[w]&&_[w].m(e,null);u(e,o),u(e,a),u(e,c);for(let w=0;w<P.length;w+=1)P[w]&&P[w].m(e,null)},p(b,[G]){if(G&2){f=V($l);let w;for(w=0;w<f.length;w+=1){const y=qr(b,f,w);p[w]?p[w].p(y,G):(p[w]=Br(y),p[w].c(),p[w].m(e,i))}for(;w<p.length;w+=1)p[w].d(1);p.length=f.length}if(G&2){m=V(Gn);let w;for(w=0;w<m.length;w+=1){const y=Fr(b,m,w);_[w]?_[w].p(y,G):(_[w]=Wr(y),_[w].c(),_[w].m(e,o))}for(;w<_.length;w+=1)_[w].d(1);_.length=m.length}if(G&2){g=V(Bn);let w;for(w=0;w<g.length;w+=1){const y=Dr(b,g,w);P[w]?P[w].p(y,G):(P[w]=Ur(y),P[w].c(),P[w].m(e,null))}for(;w<P.length;w+=1)P[w].d(1);P.length=g.length}},i:N,o:N,d(b){b&&k(e),he(p,b),he(_,b),he(P,b)}}}function In(t){return t<-1?"--":(t<0?"":"+")+t}function cf(t,e,n){let l,i=N,s=()=>(i(),i=Sl(r,c=>n(1,l=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();function o(c){l.socialSkills[c].inspiration=this.checked,r.set(l)}function a(c){l.socialSkills[c].inspiration=this.checked,r.set(l)}return t.$$set=c=>{"character"in c&&s(n(0,r=c.character))},[r,l,o,a]}class uf extends Le{constructor(e){super(),je(this,e,cf,af,Pe,{character:0})}}function ff(t){let e,n,l,i;function s(o){t[3](o)}let r={};return t[0]!==void 0&&(r.character=t[0]),e=new uf({props:r}),me.push(()=>Ae(e,"character",s)),{c(){q(e.$$.fragment),l=R(`

  Social Feat/Abilities Here.`)},m(o,a){D(e,o,a),$(o,l,a),i=!0},p(o,a){const c={};!n&&a&1&&(n=!0,c.character=o[0],Me(()=>n=!1)),e.$set(c)},i(o){i||(M(e.$$.fragment,o),i=!0)},o(o){j(e.$$.fragment,o),i=!1},d(o){o&&k(l),F(e,o)}}}function _f(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",d(e,"class","page")},m(n,l){$(n,e,l)},p:N,i:N,o:N,d(n){n&&k(e)}}}function pf(t){let e,n;return{c(){e=h("div"),n=R(t[1]),d(e,"class","sheet-block")},m(l,i){$(l,e,i),u(e,n)},p(l,i){i&2&&K(n,l[1])},i:N,o:N,d(l){l&&k(e)}}}function hf(t){let e,n,l,i;const s=[pf,_f,ff],r=[];function o(a,c){return a[1]?0:!a[0]||a[2]==null?1:2}return e=o(t),n=r[e]=s[e](t),{c(){n.c(),l=Ce()},m(a,c){r[e].m(a,c),$(a,l,c),i=!0},p(a,[c]){let f=e;e=o(a),e===f?r[e].p(a,c):($e(),j(r[f],1,1,()=>{r[f]=null}),we(),n=r[e],n?n.p(a,c):(n=r[e]=s[e](a),n.c()),M(n,1),n.m(l.parentNode,l))},i(a){i||(M(n),i=!0)},o(a){j(n),i=!1},d(a){a&&k(l),r[e].d(a)}}}function df(t,e,n){let l,i=N,s=()=>(i(),i=Sl(r,c=>n(2,l=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();let o;En(async()=>{n(1,o=r||l==null?void 0:"Failed to load character")});function a(c){r=c,s(n(0,r))}return t.$$set=c=>{"character"in c&&s(n(0,r=c.character))},[r,o,l,a]}class mf extends Le{constructor(e){super(),je(this,e,df,hf,Pe,{character:0})}}function Yr(t,e,n){const l=t.slice();return l[4]=e[n],l[5]=e,l[6]=n,l}function Vr(t,e,n){const l=t.slice();return l[4]=e[n],l[7]=e,l[8]=n,l}function Jr(t,e,n){const l=t.slice();return l[9]=e[n],l}function Kr(t){let e,n,l=On(t[1].GetStat(t[9]))+"",i,s,r,o;return{c(){e=h("div"),n=h("button"),i=R(l),s=v(),r=h("p"),o=h("b"),o.textContent=`${t[9]}`,d(n,"class","passive-button svelte-3wsbgf"),Z(r,"text-align","center"),d(r,"class","svelte-3wsbgf"),d(e,"class","skill-cell svelte-3wsbgf")},m(a,c){$(a,e,c),u(e,n),u(n,i),u(e,s),u(e,r),u(r,o)},p(a,c){c&2&&l!==(l=On(a[1].GetStat(a[9]))+"")&&K(i,l)},d(a){a&&k(e)}}}function Qr(t){let e,n,l,i,s,r,o=On(t[1].GetSkill(t[4]))+"",a,c,f,p,m="+".repeat(t[1].explorationSkills[t[4]].points)+"",_,g,P;function b(){t[2].call(i,t[4])}return{c(){e=h("div"),n=h("div"),l=h("label"),i=h("input"),s=v(),r=h("button"),a=R(o),c=v(),f=h("p"),p=R(t[4]),_=R(m),d(i,"type","checkbox"),d(i,"class","svelte-3wsbgf"),d(l,"class","inspiration-check svelte-3wsbgf"),Q(l,"checked",t[1].explorationSkills[t[4]].inspiration),d(r,"class","skill-button svelte-3wsbgf"),d(n,"class","skill-cell-row svelte-3wsbgf"),d(f,"class","svelte-3wsbgf"),d(e,"class","skill-cell svelte-3wsbgf")},m(G,w){$(G,e,w),u(e,n),u(n,l),u(l,i),i.checked=t[1].explorationSkills[t[4]].inspiration,u(n,s),u(n,r),u(r,a),u(e,c),u(e,f),u(f,p),u(f,_),g||(P=x(i,"change",b),g=!0)},p(G,w){t=G,w&2&&(i.checked=t[1].explorationSkills[t[4]].inspiration),w&2&&Q(l,"checked",t[1].explorationSkills[t[4]].inspiration),w&2&&o!==(o=On(t[1].GetSkill(t[4]))+"")&&K(a,o),w&2&&m!==(m="+".repeat(t[1].explorationSkills[t[4]].points)+"")&&K(_,m)},d(G){G&&k(e),g=!1,P()}}}function Xr(t){let e,n,l,i,s,r,o=On(t[1].GetSkill(t[4]))+"",a,c,f,p,m="+".repeat(t[1].explorationSkills[t[4]].points)+"",_,g,P,b;function G(){t[3].call(i,t[4])}return{c(){e=h("div"),n=h("div"),l=h("label"),i=h("input"),s=v(),r=h("button"),a=R(o),c=v(),f=h("p"),p=R(t[4]),_=R(m),g=v(),d(i,"type","checkbox"),d(i,"class","svelte-3wsbgf"),d(l,"class","inspiration-check svelte-3wsbgf"),Q(l,"checked",t[1].explorationSkills[t[4]].inspiration),d(r,"class","skill-button svelte-3wsbgf"),d(n,"class","skill-cell-row svelte-3wsbgf"),d(f,"class","svelte-3wsbgf"),d(e,"class","skill-cell svelte-3wsbgf")},m(w,y){$(w,e,y),u(e,n),u(n,l),u(l,i),i.checked=t[1].explorationSkills[t[4]].inspiration,u(n,s),u(n,r),u(r,a),u(e,c),u(e,f),u(f,p),u(f,_),u(e,g),P||(b=x(i,"change",G),P=!0)},p(w,y){t=w,y&2&&(i.checked=t[1].explorationSkills[t[4]].inspiration),y&2&&Q(l,"checked",t[1].explorationSkills[t[4]].inspiration),y&2&&o!==(o=On(t[1].GetSkill(t[4]))+"")&&K(a,o),y&2&&m!==(m="+".repeat(t[1].explorationSkills[t[4]].points)+"")&&K(_,m)},d(w){w&&k(e),P=!1,b()}}}function gf(t){let e,n,l,i,s,r,o,a,c,f=V(Ll),p=[];for(let b=0;b<f.length;b+=1)p[b]=Kr(Jr(t,f,b));let m=V(Rn),_=[];for(let b=0;b<m.length;b+=1)_[b]=Qr(Vr(t,m,b));let g=V(Wn),P=[];for(let b=0;b<g.length;b+=1)P[b]=Xr(Yr(t,g,b));return{c(){e=h("div"),n=h("h4"),n.textContent="Exploration Stats",l=v();for(let b=0;b<p.length;b+=1)p[b].c();i=v(),s=h("h4"),s.textContent="Exploration Skills",r=v();for(let b=0;b<_.length;b+=1)_[b].c();o=v(),a=h("div"),c=v();for(let b=0;b<P.length;b+=1)P[b].c();d(n,"class","svelte-3wsbgf"),d(s,"class","svelte-3wsbgf"),d(a,"class","grid-divider svelte-3wsbgf"),d(e,"class","skill-grid svelte-3wsbgf")},m(b,G){$(b,e,G),u(e,n),u(e,l);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(e,null);u(e,i),u(e,s),u(e,r);for(let w=0;w<_.length;w+=1)_[w]&&_[w].m(e,null);u(e,o),u(e,a),u(e,c);for(let w=0;w<P.length;w+=1)P[w]&&P[w].m(e,null)},p(b,[G]){if(G&2){f=V(Ll);let w;for(w=0;w<f.length;w+=1){const y=Jr(b,f,w);p[w]?p[w].p(y,G):(p[w]=Kr(y),p[w].c(),p[w].m(e,i))}for(;w<p.length;w+=1)p[w].d(1);p.length=f.length}if(G&2){m=V(Rn);let w;for(w=0;w<m.length;w+=1){const y=Vr(b,m,w);_[w]?_[w].p(y,G):(_[w]=Qr(y),_[w].c(),_[w].m(e,o))}for(;w<_.length;w+=1)_[w].d(1);_.length=m.length}if(G&2){g=V(Wn);let w;for(w=0;w<g.length;w+=1){const y=Yr(b,g,w);P[w]?P[w].p(y,G):(P[w]=Xr(y),P[w].c(),P[w].m(e,null))}for(;w<P.length;w+=1)P[w].d(1);P.length=g.length}},i:N,o:N,d(b){b&&k(e),he(p,b),he(_,b),he(P,b)}}}function On(t){return t<-1?"--":(t<0?"":"+")+t}function bf(t,e,n){let l,i=N,s=()=>(i(),i=Sl(r,c=>n(1,l=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();function o(c){l.explorationSkills[c].inspiration=this.checked,r.set(l)}function a(c){l.explorationSkills[c].inspiration=this.checked,r.set(l)}return t.$$set=c=>{"character"in c&&s(n(0,r=c.character))},[r,l,o,a]}class vf extends Le{constructor(e){super(),je(this,e,bf,gf,Pe,{character:0})}}function kf(t){let e,n,l,i;function s(o){t[3](o)}let r={};return t[0]!==void 0&&(r.character=t[0]),e=new vf({props:r}),me.push(()=>Ae(e,"character",s)),{c(){q(e.$$.fragment),l=R(`

  Exploration Abilities Here.`)},m(o,a){D(e,o,a),$(o,l,a),i=!0},p(o,a){const c={};!n&&a&1&&(n=!0,c.character=o[0],Me(()=>n=!1)),e.$set(c)},i(o){i||(M(e.$$.fragment,o),i=!0)},o(o){j(e.$$.fragment,o),i=!1},d(o){o&&k(l),F(e,o)}}}function $f(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",d(e,"class","page")},m(n,l){$(n,e,l)},p:N,i:N,o:N,d(n){n&&k(e)}}}function wf(t){let e,n;return{c(){e=h("div"),n=R(t[1]),d(e,"class","sheet-block")},m(l,i){$(l,e,i),u(e,n)},p(l,i){i&2&&K(n,l[1])},i:N,o:N,d(l){l&&k(e)}}}function Sf(t){let e,n,l,i;const s=[wf,$f,kf],r=[];function o(a,c){return a[1]?0:!a[0]||a[2]==null?1:2}return e=o(t),n=r[e]=s[e](t),{c(){n.c(),l=Ce()},m(a,c){r[e].m(a,c),$(a,l,c),i=!0},p(a,[c]){let f=e;e=o(a),e===f?r[e].p(a,c):($e(),j(r[f],1,1,()=>{r[f]=null}),we(),n=r[e],n?n.p(a,c):(n=r[e]=s[e](a),n.c()),M(n,1),n.m(l.parentNode,l))},i(a){i||(M(n),i=!0)},o(a){j(n),i=!1},d(a){a&&k(l),r[e].d(a)}}}function Cf(t,e,n){let l,i=N,s=()=>(i(),i=Sl(r,c=>n(2,l=c)),r);t.$$.on_destroy.push(()=>i());let{character:r}=e;s();let o;En(async()=>{n(1,o=r||l==null?void 0:"Failed to load character")});function a(c){r=c,s(n(0,r))}return t.$$set=c=>{"character"in c&&s(n(0,r=c.character))},[r,o,l,a]}class Pf extends Le{constructor(e){super(),je(this,e,Cf,Sf,Pe,{character:0})}}function yf(t){let e;return{c(){e=R("Summary goes here")},m(n,l){$(n,e,l)},p:N,i:N,o:N,d(n){n&&k(e)}}}function Mf(t,e,n){let{id:l}=e,{character:i}=e;return t.$$set=s=>{"id"in s&&n(0,l=s.id),"character"in s&&n(1,i=s.character)},[l,i]}class Af extends Le{constructor(e){super(),je(this,e,Mf,yf,Pe,{id:0,character:1})}}function jf(t){let e,n,l,i=(t[3].name&&t[3].name.length>0?t[3].name:"Unnamed Character")+"",s,r,o,a,c,f;return c=new Un({props:{$$slots:{default:[Of]},$$scope:{ctx:t}}}),{c(){e=h("div"),n=h("div"),l=h("p"),s=R(i),r=v(),o=h("div"),o.textContent="HP Display",a=v(),q(c.$$.fragment),d(l,"id","name-label"),Z(n,"display","flex"),Z(n,"flex-direction","column"),d(e,"class","sheet-block"),Z(e,"display","flex"),Z(e,"flex-direction","row"),Z(e,"flex-wrap","nowrap"),Z(e,"flex-grow","1")},m(p,m){$(p,e,m),u(e,n),u(n,l),u(l,s),u(e,r),u(e,o),$(p,a,m),D(c,p,m),f=!0},p(p,m){(!f||m&8)&&i!==(i=(p[3].name&&p[3].name.length>0?p[3].name:"Unnamed Character")+"")&&K(s,i);const _={};m&259&&(_.$$scope={dirty:m,ctx:p}),c.$set(_)},i(p){f||(M(c.$$.fragment,p),f=!0)},o(p){j(c.$$.fragment,p),f=!1},d(p){p&&(k(e),k(a)),F(c,p)}}}function Lf(t){let e;return{c(){e=h("div"),e.innerHTML="<h2>Loading...</h2>",d(e,"class","page")},m(n,l){$(n,e,l)},p:N,i:N,o:N,d(n){n&&k(e)}}}function Gf(t){let e,n;return{c(){e=h("div"),n=R(t[2]),d(e,"class","sheet-block")},m(l,i){$(l,e,i),u(e,n)},p(l,i){i&4&&K(n,l[2])},i:N,o:N,d(l){l&&k(e)}}}function Rf(t){let e,n,l,i;function s(a){t[4](a)}function r(a){t[5](a)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new Af({props:o}),me.push(()=>Ae(e,"id",s)),me.push(()=>Ae(e,"character",r)),{c(){q(e.$$.fragment)},m(a,c){D(e,a,c),i=!0},p(a,c){const f={};!n&&c&1&&(n=!0,f.id=a[0],Me(()=>n=!1)),!l&&c&2&&(l=!0,f.character=a[1],Me(()=>l=!1)),e.$set(f)},i(a){i||(M(e.$$.fragment,a),i=!0)},o(a){j(e.$$.fragment,a),i=!1},d(a){F(e,a)}}}function Tf(t){let e,n,l;function i(r){t[6](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new mf({props:s}),me.push(()=>Ae(e,"character",i)),{c(){q(e.$$.fragment)},m(r,o){D(e,r,o),l=!0},p(r,o){const a={};!n&&o&2&&(n=!0,a.character=r[1],Me(()=>n=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){F(e,r)}}}function If(t){let e,n,l;function i(r){t[7](r)}let s={};return t[1]!==void 0&&(s.character=t[1]),e=new Pf({props:s}),me.push(()=>Ae(e,"character",i)),{c(){q(e.$$.fragment)},m(r,o){D(e,r,o),l=!0},p(r,o){const a={};!n&&o&2&&(n=!0,a.character=r[1],Me(()=>n=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){F(e,r)}}}function Of(t){let e,n,l,i,s,r;return e=new It({props:{path:"/",$$slots:{default:[Rf]},$$scope:{ctx:t}}}),l=new It({props:{path:"/social",$$slots:{default:[Tf]},$$scope:{ctx:t}}}),s=new It({props:{path:"/exploration",$$slots:{default:[If]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment),n=v(),q(l.$$.fragment),i=v(),q(s.$$.fragment)},m(o,a){D(e,o,a),$(o,n,a),D(l,o,a),$(o,i,a),D(s,o,a),r=!0},p(o,a){const c={};a&259&&(c.$$scope={dirty:a,ctx:o}),e.$set(c);const f={};a&258&&(f.$$scope={dirty:a,ctx:o}),l.$set(f);const p={};a&258&&(p.$$scope={dirty:a,ctx:o}),s.$set(p)},i(o){r||(M(e.$$.fragment,o),M(l.$$.fragment,o),M(s.$$.fragment,o),r=!0)},o(o){j(e.$$.fragment,o),j(l.$$.fragment,o),j(s.$$.fragment,o),r=!1},d(o){o&&(k(n),k(i)),F(e,o),F(l,o),F(s,o)}}}function Nf(t){let e,n,l,i;const s=[Gf,Lf,jf],r=[];function o(a,c){return a[2]?0:!a[1]||a[3]==null?1:2}return e=o(t),n=r[e]=s[e](t),{c(){n.c(),l=Ce()},m(a,c){r[e].m(a,c),$(a,l,c),i=!0},p(a,[c]){let f=e;e=o(a),e===f?r[e].p(a,c):($e(),j(r[f],1,1,()=>{r[f]=null}),we(),n=r[e],n?n.p(a,c):(n=r[e]=s[e](a),n.c()),M(n,1),n.m(l.parentNode,l))},i(a){i||(M(n),i=!0)},o(a){j(n),i=!1},d(a){a&&k(l),r[e].d(a)}}}function Ef(t,e,n){let l,i=N,s=()=>(i(),i=Sl(o,_=>n(3,l=_)),o);t.$$.on_destroy.push(()=>i());let{id:r}=e,{character:o}=e;s();let a;En(async()=>{n(2,a=o||l==null?void 0:"Failed to load character")});function c(_){r=_,n(0,r)}function f(_){o=_,s(n(1,o))}function p(_){o=_,s(n(1,o))}function m(_){o=_,s(n(1,o))}return t.$$set=_=>{"id"in _&&n(0,r=_.id),"character"in _&&s(n(1,o=_.character))},[r,o,a,l,c,f,p,m]}class Hf extends Le{constructor(e){super(),je(this,e,Ef,Nf,Pe,{id:0,character:1})}}function zf(t){let e,n,l,i,s,r,o,a,c,f;function p(_){t[5](_)}let m={};return t[0]!==void 0&&(m.id=t[0]),l=new of({props:m}),me.push(()=>Ae(l,"id",p)),o=new Un({props:{$$slots:{default:[Wf]},$$scope:{ctx:t}}}),{c(){e=h("button"),e.innerHTML='<img src="/img/HnsSmall.svg" alt="H&amp;S"/>',n=v(),q(l.$$.fragment),s=v(),r=h("div"),q(o.$$.fragment),d(e,"id","nav-button"),d(e,"class","svelte-ckpesr"),d(r,"id","character-page-content"),d(r,"class","svelte-ckpesr")},m(_,g){$(_,e,g),$(_,n,g),D(l,_,g),$(_,s,g),$(_,r,g),D(o,r,null),a=!0,c||(f=x(e,"click",t[4]),c=!0)},p(_,g){const P={};!i&&g&1&&(i=!0,P.id=_[0],Me(()=>i=!1)),l.$set(P);const b={};g&1027&&(b.$$scope={dirty:g,ctx:_}),o.$set(b)},i(_){a||(M(l.$$.fragment,_),M(o.$$.fragment,_),a=!0)},o(_){j(l.$$.fragment,_),j(o.$$.fragment,_),a=!1},d(_){_&&(k(e),k(n),k(s),k(r)),F(l,_),F(o),c=!1,f()}}}function Df(t){let e,n,l,i,s,r,o;return r=new Ht({props:{to:"/characters",$$slots:{default:[Uf]},$$scope:{ctx:t}}}),{c(){e=h("h2"),e.textContent="Error",n=v(),l=h("p"),i=R(t[2]),s=v(),q(r.$$.fragment),d(e,"class","svelte-ckpesr")},m(a,c){$(a,e,c),$(a,n,c),$(a,l,c),u(l,i),$(a,s,c),D(r,a,c),o=!0},p(a,c){(!o||c&4)&&K(i,a[2]);const f={};c&1024&&(f.$$scope={dirty:c,ctx:a}),r.$set(f)},i(a){o||(M(r.$$.fragment,a),o=!0)},o(a){j(r.$$.fragment,a),o=!1},d(a){a&&(k(e),k(n),k(l),k(s)),F(r,a)}}}function Ff(t){let e;return{c(){e=h("h2"),e.textContent="Loading...",d(e,"class","svelte-ckpesr")},m(n,l){$(n,e,l)},p:N,i:N,o:N,d(n){n&&k(e)}}}function qf(t){let e,n,l,i;function s(a){t[6](a)}function r(a){t[7](a)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new qu({props:o}),me.push(()=>Ae(e,"id",s)),me.push(()=>Ae(e,"character",r)),{c(){q(e.$$.fragment)},m(a,c){D(e,a,c),i=!0},p(a,c){const f={};!n&&c&1&&(n=!0,f.id=a[0],Me(()=>n=!1)),!l&&c&2&&(l=!0,f.character=a[1],Me(()=>l=!1)),e.$set(f)},i(a){i||(M(e.$$.fragment,a),i=!0)},o(a){j(e.$$.fragment,a),i=!1},d(a){F(e,a)}}}function Bf(t){let e,n,l,i;function s(a){t[8](a)}function r(a){t[9](a)}let o={};return t[0]!==void 0&&(o.id=t[0]),t[1]!==void 0&&(o.character=t[1]),e=new Hf({props:o}),me.push(()=>Ae(e,"id",s)),me.push(()=>Ae(e,"character",r)),{c(){q(e.$$.fragment)},m(a,c){D(e,a,c),i=!0},p(a,c){const f={};!n&&c&1&&(n=!0,f.id=a[0],Me(()=>n=!1)),!l&&c&2&&(l=!0,f.character=a[1],Me(()=>l=!1)),e.$set(f)},i(a){i||(M(e.$$.fragment,a),i=!0)},o(a){j(e.$$.fragment,a),i=!1},d(a){F(e,a)}}}function Wf(t){let e,n,l,i;return e=new It({props:{path:"/build/*",$$slots:{default:[qf]},$$scope:{ctx:t}}}),l=new It({props:{path:"/play/*",$$slots:{default:[Bf]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment),n=v(),q(l.$$.fragment)},m(s,r){D(e,s,r),$(s,n,r),D(l,s,r),i=!0},p(s,r){const o={};r&1027&&(o.$$scope={dirty:r,ctx:s}),e.$set(o);const a={};r&1027&&(a.$$scope={dirty:r,ctx:s}),l.$set(a)},i(s){i||(M(e.$$.fragment,s),M(l.$$.fragment,s),i=!0)},o(s){j(e.$$.fragment,s),j(l.$$.fragment,s),i=!1},d(s){s&&k(n),F(e,s),F(l,s)}}}function Uf(t){let e;return{c(){e=R("Return to Characters List")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function Yf(t){let e,n,l,i;const s=[Ff,Df,zf],r=[];function o(a,c){return!a[1]||a[3]==null?0:a[2]?1:2}return n=o(t),l=r[n]=s[n](t),{c(){e=h("div"),l.c(),d(e,"id","character-page"),d(e,"class","svelte-ckpesr")},m(a,c){$(a,e,c),r[n].m(e,null),i=!0},p(a,[c]){let f=n;n=o(a),n===f?r[n].p(a,c):($e(),j(r[f],1,1,()=>{r[f]=null}),we(),l=r[n],l?l.p(a,c):(l=r[n]=s[n](a),l.c()),M(l,1),l.m(e,null))},i(a){i||(M(l),i=!0)},o(a){j(l),i=!1},d(a){a&&k(e),r[n].d()}}}function Vf(t,e,n){let l,i=N,s=()=>(i(),i=Sl(o,P=>n(3,l=P)),o);t.$$.on_destroy.push(()=>i());let{id:r=fi}=e,o,a;En(async()=>{if(n(2,a=o||l==null?void 0:"Could not load character."),a){r!=="local"&&!ui(r)&&n(2,a="Could not load character: Invalid ID.");return}if(window.location.pathname.endsWith(`/character/${r}`)||window.location.pathname.endsWith(`/character/${r}/`)){console.log("redirecting to play view"),ci(`/character/${r}/play`,{replace:!0});return}});const c=()=>So(yo);function f(P){r=P,n(0,r)}function p(P){r=P,n(0,r)}function m(P){o=P,s(n(1,o))}function _(P){r=P,n(0,r)}function g(P){o=P,s(n(1,o))}return t.$$set=P=>{"id"in P&&n(0,r=P.id)},t.$$.update=()=>{t.$$.dirty&1&&s(n(1,o=r=="local"?rc:oc(r)))},[r,o,a,l,c,f,p,m,_,g]}class Jf extends Le{constructor(e){super(),je(this,e,Vf,Yf,Pe,{id:0})}}function Zr(t,e,n){const l=t.slice();return l[4]=e[n][0],l[5]=e[n][1],l[7]=n,l}function xr(t){let e,n,l,i,s,r,o,a,c,f,p,m;return{c(){e=h("div"),n=h("h1"),n.textContent="Characters",l=v(),i=h("p"),i.textContent="You are not logged into an account.",s=v(),r=h("p"),r.innerHTML=`You can try Hammer and Steel&#39;s character sheet without an account.<br/>
            Creating a character sheet without an account means it is <b>not</b> stored on our servers.
            You will only be able to access it on this device and it will not be backed up or secured.<br/>
            To store a character on our server, to be accessed from anywhere, you&#39;ll need to create an account and save the character to your account.`,o=v(),a=h("br"),c=v(),f=h("a"),f.textContent="Try the Character Forge",Z(r,"text-align","left"),d(f,"class","button"),d(f,"href","/character/local"),d(e,"class","page")},m(_,g){$(_,e,g),u(e,n),u(e,l),u(e,i),u(e,s),u(e,r),u(e,o),u(e,a),u(e,c),u(e,f),p||(m=hn(mn.call(null,f)),p=!0)},d(_){_&&k(e),p=!1,m()}}}function Kf(t){let e,n=V(Object.entries(t[1])),l=[];for(let i=0;i<n.length;i+=1)l[i]=eo(Zr(t,n,i));return{c(){e=h("div");for(let i=0;i<l.length;i+=1)l[i].c();d(e,"class","char-list svelte-122uifz")},m(i,s){$(i,e,s);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(i,s){if(s&2){n=V(Object.entries(i[1]));let r;for(r=0;r<n.length;r+=1){const o=Zr(i,n,r);l[r]?l[r].p(o,s):(l[r]=eo(o),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(i){i&&k(e),he(l,i)}}}function Qf(t){let e;return{c(){e=R("No characters exist yet.")},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function eo(t){let e,n=t[5].name+"",l,i,s;return{c(){e=h("a"),l=R(n),d(e,"href","/character/"+t[4]),d(e,"class","button-outlined char-button svelte-122uifz")},m(r,o){$(r,e,o),u(e,l),i||(s=hn(mn.call(null,e)),i=!0)},p:N,d(r){r&&k(e),i=!1,s()}}}function Xf(t){let e,n,l,i,s,r,o,a,c,f,p,m,_=t[0]===null&&xr();function g(G,w){return Object.keys(G[1]).length==0?Qf:Kf}let b=g(t)(t);return{c(){_&&_.c(),e=v(),n=h("div"),l=h("h1"),l.textContent="Characters:",i=v(),b.c(),s=v(),r=h("br"),o=v(),a=h("button"),a.textContent="+",c=v(),f=h("br"),d(a,"class","button"),d(n,"class","page")},m(G,w){_&&_.m(G,w),$(G,e,w),$(G,n,w),u(n,l),u(n,i),b.m(n,null),u(n,s),u(n,r),u(n,o),u(n,a),u(n,c),u(n,f),p||(m=x(a,"click",t[2]),p=!0)},p(G,[w]){G[0]===null?_||(_=xr(),_.c(),_.m(e.parentNode,e)):_&&(_.d(1),_=null),b.p(G,w)},i:N,o:N,d(G){G&&(k(e),k(n)),_&&_.d(G),b.d(),p=!1,m()}}}function Zf(t,e,n){let l,i;rl(t,Ci,o=>n(3,l=o)),rl(t,wl,o=>n(0,i=o));let s=l;function r(){Ci.create(o=>{console.log("Navigating to '/character/"+o+"'"),ci("/character/"+o)})}return[i,s,r]}class xf extends Le{constructor(e){super(),je(this,e,Zf,Xf,Pe,{})}}function to(t,e,n){const l=t.slice();return l[16]=e[n],l[17]=e,l[18]=n,l}function lo(t,e,n){const l=t.slice();return l[19]=e[n],l}function e1(t){let e=t[2][t[19]]+"",n,l,i;return{c(){n=R(e),l=R("d"),i=R(t[19])},m(s,r){$(s,n,r),$(s,l,r),$(s,i,r)},p(s,r){r&4&&e!==(e=s[2][s[19]]+"")&&K(n,e)},d(s){s&&(k(n),k(l),k(i))}}}function t1(t){let e=t[2][t[19]]+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&4&&e!==(e=l[2][l[19]]+"")&&K(n,e)},d(l){l&&k(n)}}}function l1(t){let e,n;return{c(){e=R("d"),n=R(t[19])},m(l,i){$(l,e,i),$(l,n,i)},p:N,d(l){l&&(k(e),k(n))}}}function no(t){let e,n,l;function i(a,c){return(a[2][a[19]]??0)==0?l1:a[2][a[19]]>9?t1:e1}let s=i(t),r=s(t);function o(){return t[8](t[19])}return{c(){e=h("button"),r.c(),d(e,"type","button"),d(e,"class","die-button svelte-90mbn5"),Z(e,"background-image","url('/img/dice/d"+t[19]+"-inverted.svg')")},m(a,c){$(a,e,c),r.m(e,null),n||(l=x(e,"click",o),n=!0)},p(a,c){t=a,s===(s=i(t))&&r?r.p(t,c):(r.d(1),r=s(t),r&&(r.c(),r.m(e,null)))},d(a){a&&k(e),r.d(),n=!1,l()}}}function n1(t){let e=t[2][-1]+"",n,l;return{c(){n=R(e),l=R("dF")},m(i,s){$(i,n,s),$(i,l,s)},p(i,s){s&4&&e!==(e=i[2][-1]+"")&&K(n,e)},d(i){i&&(k(n),k(l))}}}function i1(t){let e=t[2][-1]+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&4&&e!==(e=l[2][-1]+"")&&K(n,e)},d(l){l&&k(n)}}}function s1(t){let e;return{c(){e=R("dF")},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function io(t,e){let n,l,i=e[18],s,r,o;const a=()=>e[10](l,i),c=()=>e[10](null,i);function f(_){e[11](_,e[16])}function p(_){e[12](_,e[16])}let m={faces:e[16].faces};return e[16].result!==void 0&&(m.result=e[16].result),e[16].active!==void 0&&(m.active=e[16].active),l=new il({props:m}),a(),me.push(()=>Ae(l,"result",f)),me.push(()=>Ae(l,"active",p)),{key:t,first:null,c(){n=Ce(),q(l.$$.fragment),this.first=n},m(_,g){$(_,n,g),D(l,_,g),o=!0},p(_,g){e=_,i!==e[18]&&(c(),i=e[18],a());const P={};g&1&&(P.faces=e[16].faces),!s&&g&1&&(s=!0,P.result=e[16].result,Me(()=>s=!1)),!r&&g&1&&(r=!0,P.active=e[16].active,Me(()=>r=!1)),l.$set(P)},i(_){o||(M(l.$$.fragment,_),o=!0)},o(_){j(l.$$.fragment,_),o=!1},d(_){_&&k(n),c(),F(l,_)}}}function r1(t){let e;return{c(){e=R("SELECTION SUMMARY")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function o1(t){let e;return{c(){e=R("SUMMARY")},m(n,l){$(n,e,l)},d(n){n&&k(e)}}}function a1(t){let e=t[2].activeSum+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&4&&e!==(e=l[2].activeSum+"")&&K(n,e)},d(l){l&&k(n)}}}function c1(t){let e=t[2].sum+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&4&&e!==(e=l[2].sum+"")&&K(n,e)},d(l){l&&k(n)}}}function u1(t){let e;return{c(){e=R("0")},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function f1(t){let e;function n(s,r){return s[2].active==0?p1:_1}let l=n(t),i=l(t);return{c(){i.c(),e=Ce()},m(s,r){i.m(s,r),$(s,e,r)},p(s,r){l===(l=n(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&k(e),i.d(s)}}}function _1(t){let e=t[2].activeLow+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&4&&e!==(e=l[2].activeLow+"")&&K(n,e)},d(l){l&&k(n)}}}function p1(t){let e=t[2].low+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&4&&e!==(e=l[2].low+"")&&K(n,e)},d(l){l&&k(n)}}}function h1(t){let e;return{c(){e=R("0")},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function d1(t){let e;function n(s,r){return s[2].active==0?g1:m1}let l=n(t),i=l(t);return{c(){i.c(),e=Ce()},m(s,r){i.m(s,r),$(s,e,r)},p(s,r){l===(l=n(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&k(e),i.d(s)}}}function m1(t){let e=t[2].activeHigh+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&4&&e!==(e=l[2].activeHigh+"")&&K(n,e)},d(l){l&&k(n)}}}function g1(t){let e=t[2].high+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&4&&e!==(e=l[2].high+"")&&K(n,e)},d(l){l&&k(n)}}}function b1(t){let e=t[2].activeSum+t[3]+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&12&&e!==(e=l[2].activeSum+l[3]+"")&&K(n,e)},d(l){l&&k(n)}}}function v1(t){let e=t[2].sum+t[3]+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&12&&e!==(e=l[2].sum+l[3]+"")&&K(n,e)},d(l){l&&k(n)}}}function k1(t){let e;return{c(){e=R(t[3])},m(n,l){$(n,e,l)},p(n,l){l&8&&K(e,n[3])},d(n){n&&k(e)}}}function $1(t){let e;function n(s,r){return s[2].active==0?S1:w1}let l=n(t),i=l(t);return{c(){i.c(),e=Ce()},m(s,r){i.m(s,r),$(s,e,r)},p(s,r){l===(l=n(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&k(e),i.d(s)}}}function w1(t){let e=t[2].activeLow+t[3]+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&12&&e!==(e=l[2].activeLow+l[3]+"")&&K(n,e)},d(l){l&&k(n)}}}function S1(t){let e=t[2].low+t[3]+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&12&&e!==(e=l[2].low+l[3]+"")&&K(n,e)},d(l){l&&k(n)}}}function C1(t){let e;return{c(){e=R(t[3])},m(n,l){$(n,e,l)},p(n,l){l&8&&K(e,n[3])},d(n){n&&k(e)}}}function P1(t){let e;function n(s,r){return s[2].active==0?M1:y1}let l=n(t),i=l(t);return{c(){i.c(),e=Ce()},m(s,r){i.m(s,r),$(s,e,r)},p(s,r){l===(l=n(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&k(e),i.d(s)}}}function y1(t){let e=t[2].activeHigh+t[3]+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&12&&e!==(e=l[2].activeHigh+l[3]+"")&&K(n,e)},d(l){l&&k(n)}}}function M1(t){let e=t[2].high+t[3]+"",n;return{c(){n=R(e)},m(l,i){$(l,n,i)},p(l,i){i&12&&e!==(e=l[2].high+l[3]+"")&&K(n,e)},d(l){l&&k(n)}}}function A1(t){let e,n,l,i,s,r,o,a,c,f,p,m,_,g,P=t[1].length+"",b,G,w,y,T=t[2].active+"",J,ie,Y,U,E=t[2].active==0?"Clear All":"Clear "+String(t[2].active),ee,A,H,te,ge=t[2].active==t[0].length?"Select None":"Select All",le,Be,Ne,_e,fe=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),z,W,Ge,ae,Te=[],Xt=new Map,tt,lt,nt,ot,at,Ie,Ot,Ve,el,pe,zt,Dt,xe,ct,Yt,He,We,oe,be,yt,tl,ue,it,ol,bl,Ft,ll,qt,Vt,Nt,et,Zt,Mt,At,vl,Jt,Cl,Ee,Et,Je,ut,jt,fl,Lt,Bt,al,Wt,Ue,st,rt,nl=V([2,4,6,8,10,12,20]),ft=[];for(let B=0;B<7;B+=1)ft[B]=no(lo(t,nl,B));function _t(B,ne){return(B[2][-1]??0)==0?s1:B[2][-1]>9?i1:n1}let _l=_t(t),ze=_l(t),Gt=V(t[0]);const kl=B=>B[16].id;for(let B=0;B<Gt.length;B+=1){let ne=to(t,Gt,B),ce=kl(ne);Xt.set(ce,Te[B]=io(ce,ne))}function Ke(B,ne){return B[2].active==0?o1:r1}let De=Ke(t),Fe=De(t);function X(B,ne){return B[2].active==0?c1:a1}let ke=X(t),Qe=ke(t);function Zl(B,ne){return B[2].low!=1/0?f1:u1}let Gl=Zl(t),cl=Gl(t);function Pl(B,ne){return B[2].low!=1/0?d1:h1}let Hl=Pl(t),xt=Hl(t);function xl(B,ne){return B[2].active==0?v1:b1}let ul=xl(t),Xe=ul(t);function Rt(B,ne){return B[2].low!=1/0?$1:k1}let Kt=Rt(t),Oe=Kt(t);function yl(B,ne){return B[2].low!=1/0?P1:C1}let Ze=yl(t),Tt=Ze(t);return{c(){e=h("div"),n=h("h1"),n.textContent="Dice Roller",l=v(),i=h("h3"),i.textContent="ADD DICE",s=v(),r=h("hr"),o=v(),a=h("div");for(let B=0;B<7;B+=1)ft[B].c();c=v(),f=h("button"),ze.c(),p=v(),m=h("div"),_=h("span"),g=R("Total: "),b=R(P),G=v(),w=h("span"),y=R("Selected: "),J=R(T),ie=v(),Y=h("div"),U=h("button"),ee=R(E),H=v(),te=h("button"),le=R(ge),Ne=v(),_e=h("button"),z=R(fe),Ge=v(),ae=h("div");for(let B=0;B<Te.length;B+=1)Te[B].c();tt=v(),lt=h("h3"),Fe.c(),nt=v(),ot=h("hr"),at=v(),Ie=h("div"),Ot=h("div"),Ve=h("h4"),Ve.textContent="SUM",el=v(),pe=h("h3"),Qe.c(),zt=v(),Dt=h("div"),xe=h("div"),ct=h("h4"),ct.textContent="LOW",Yt=v(),He=h("h3"),cl.c(),We=v(),oe=h("div"),be=h("h4"),be.textContent="HIGH",yt=v(),tl=h("h3"),xt.c(),ue=v(),it=h("h3"),it.textContent="MODIFIER",ol=v(),bl=h("hr"),Ft=v(),ll=h("div"),qt=h("input"),Vt=v(),Nt=h("input"),et=v(),Zt=h("div"),Mt=h("div"),At=h("h4"),At.textContent="SUM",vl=v(),Jt=h("h3"),Xe.c(),Cl=v(),Ee=h("div"),Et=h("div"),Je=h("h4"),Je.textContent="LOW",ut=v(),jt=h("h3"),Oe.c(),fl=v(),Lt=h("div"),Bt=h("h4"),Bt.textContent="HIGH",al=v(),Wt=h("h3"),Tt.c(),Z(i,"margin-bottom","0"),d(r,"class","underule svelte-90mbn5"),d(f,"type","button"),d(f,"class","die-button svelte-90mbn5"),Z(f,"background-image","url('/img/dice/dF-inverted.svg')"),d(a,"class","dice-button-box svelte-90mbn5"),d(_,"class","svelte-90mbn5"),d(w,"class","svelte-90mbn5"),d(m,"class","total-readout svelte-90mbn5"),d(U,"class","button-outlined"),U.disabled=A=t[0].length<=0,d(te,"class","button-outlined"),te.disabled=Be=t[0].length<=0,d(_e,"class","button-outlined"),_e.disabled=W=t[0].length<=0,d(Y,"class","operation-button-box svelte-90mbn5"),d(ae,"class","dice-box svelte-90mbn5"),Z(lt,"margin-bottom","0"),d(ot,"class","underule svelte-90mbn5"),d(Ve,"class","text-center"),Z(Ve,"margin","0"),d(pe,"class","result svelte-90mbn5"),Z(pe,"width","120px"),Z(pe,"margin","0 auto 0 auto"),d(Ot,"class","svelte-90mbn5"),d(ct,"class","text-center"),Z(ct,"margin","0"),d(He,"class","result svelte-90mbn5"),Z(He,"width","120px"),Z(He,"margin","0 auto 0 auto"),d(xe,"class","svelte-90mbn5"),d(be,"class","text-center"),Z(be,"margin","0"),d(tl,"class","result svelte-90mbn5"),Z(tl,"width","120px"),Z(tl,"margin","0 auto 0 auto"),d(oe,"class","svelte-90mbn5"),d(Dt,"class","result-summary svelte-90mbn5"),d(Ie,"class","result-summary svelte-90mbn5"),Z(it,"margin-top","48px"),Z(it,"margin-bottom","0"),d(bl,"class","underule svelte-90mbn5"),d(qt,"class","modifier-input svelte-90mbn5"),d(qt,"type","number"),d(Nt,"class","modifier-range svelte-90mbn5"),d(Nt,"type","range"),d(Nt,"min","-15"),d(Nt,"max","15"),d(ll,"class","result-modifier svelte-90mbn5"),d(At,"class","text-center"),Z(At,"margin","0"),d(Jt,"class","result svelte-90mbn5"),Z(Jt,"width","120px"),Z(Jt,"margin","0 auto 0 auto"),d(Mt,"class","svelte-90mbn5"),d(Je,"class","text-center"),Z(Je,"margin","0"),d(jt,"class","result svelte-90mbn5"),Z(jt,"width","120px"),Z(jt,"margin","0 auto 0 auto"),d(Et,"class","svelte-90mbn5"),d(Bt,"class","text-center"),Z(Bt,"margin","0"),d(Wt,"class","result svelte-90mbn5"),Z(Wt,"width","120px"),Z(Wt,"margin","0 auto 0 auto"),d(Lt,"class","svelte-90mbn5"),d(Ee,"class","result-summary svelte-90mbn5"),d(Zt,"class","result-summary svelte-90mbn5"),d(e,"class","page")},m(B,ne){$(B,e,ne),u(e,n),u(e,l),u(e,i),u(e,s),u(e,r),u(e,o),u(e,a);for(let ce=0;ce<7;ce+=1)ft[ce]&&ft[ce].m(a,null);u(a,c),u(a,f),ze.m(f,null),u(e,p),u(e,m),u(m,_),u(_,g),u(_,b),u(m,G),u(m,w),u(w,y),u(w,J),u(e,ie),u(e,Y),u(Y,U),u(U,ee),u(Y,H),u(Y,te),u(te,le),u(Y,Ne),u(Y,_e),u(_e,z),u(e,Ge),u(e,ae);for(let ce=0;ce<Te.length;ce+=1)Te[ce]&&Te[ce].m(ae,null);u(e,tt),u(e,lt),Fe.m(lt,null),u(e,nt),u(e,ot),u(e,at),u(e,Ie),u(Ie,Ot),u(Ot,Ve),u(Ot,el),u(Ot,pe),Qe.m(pe,null),u(Ie,zt),u(Ie,Dt),u(Dt,xe),u(xe,ct),u(xe,Yt),u(xe,He),cl.m(He,null),u(Dt,We),u(Dt,oe),u(oe,be),u(oe,yt),u(oe,tl),xt.m(tl,null),u(e,ue),u(e,it),u(e,ol),u(e,bl),u(e,Ft),u(e,ll),u(ll,qt),de(qt,t[3]),u(ll,Vt),u(ll,Nt),de(Nt,t[3]),u(e,et),u(e,Zt),u(Zt,Mt),u(Mt,At),u(Mt,vl),u(Mt,Jt),Xe.m(Jt,null),u(Zt,Cl),u(Zt,Ee),u(Ee,Et),u(Et,Je),u(Et,ut),u(Et,jt),Oe.m(jt,null),u(Ee,fl),u(Ee,Lt),u(Lt,Bt),u(Lt,al),u(Lt,Wt),Tt.m(Wt,null),Ue=!0,st||(rt=[x(f,"click",t[9]),x(U,"click",t[7]),x(te,"click",t[5]),x(_e,"click",t[6]),x(qt,"input",t[13]),x(Nt,"change",t[14]),x(Nt,"input",t[14])],st=!0)},p(B,[ne]){if(ne&20){nl=V([2,4,6,8,10,12,20]);let ce;for(ce=0;ce<7;ce+=1){const Ml=lo(B,nl,ce);ft[ce]?ft[ce].p(Ml,ne):(ft[ce]=no(Ml),ft[ce].c(),ft[ce].m(a,c))}for(;ce<7;ce+=1)ft[ce].d(1)}_l===(_l=_t(B))&&ze?ze.p(B,ne):(ze.d(1),ze=_l(B),ze&&(ze.c(),ze.m(f,null))),(!Ue||ne&2)&&P!==(P=B[1].length+"")&&K(b,P),(!Ue||ne&4)&&T!==(T=B[2].active+"")&&K(J,T),(!Ue||ne&4)&&E!==(E=B[2].active==0?"Clear All":"Clear "+String(B[2].active))&&K(ee,E),(!Ue||ne&1&&A!==(A=B[0].length<=0))&&(U.disabled=A),(!Ue||ne&5)&&ge!==(ge=B[2].active==B[0].length?"Select None":"Select All")&&K(le,ge),(!Ue||ne&1&&Be!==(Be=B[0].length<=0))&&(te.disabled=Be),(!Ue||ne&4)&&fe!==(fe=B[2].active==0?"Reroll All":"Reroll "+String(B[2].active))&&K(z,fe),(!Ue||ne&1&&W!==(W=B[0].length<=0))&&(_e.disabled=W),ne&3&&(Gt=V(B[0]),$e(),Te=ai(Te,ne,kl,1,B,Gt,Xt,ae,oi,io,null,to),we()),De!==(De=Ke(B))&&(Fe.d(1),Fe=De(B),Fe&&(Fe.c(),Fe.m(lt,null))),ke===(ke=X(B))&&Qe?Qe.p(B,ne):(Qe.d(1),Qe=ke(B),Qe&&(Qe.c(),Qe.m(pe,null))),Gl===(Gl=Zl(B))&&cl?cl.p(B,ne):(cl.d(1),cl=Gl(B),cl&&(cl.c(),cl.m(He,null))),Hl===(Hl=Pl(B))&&xt?xt.p(B,ne):(xt.d(1),xt=Hl(B),xt&&(xt.c(),xt.m(tl,null))),ne&8&&jn(qt.value)!==B[3]&&de(qt,B[3]),ne&8&&de(Nt,B[3]),ul===(ul=xl(B))&&Xe?Xe.p(B,ne):(Xe.d(1),Xe=ul(B),Xe&&(Xe.c(),Xe.m(Jt,null))),Kt===(Kt=Rt(B))&&Oe?Oe.p(B,ne):(Oe.d(1),Oe=Kt(B),Oe&&(Oe.c(),Oe.m(jt,null))),Ze===(Ze=yl(B))&&Tt?Tt.p(B,ne):(Tt.d(1),Tt=Ze(B),Tt&&(Tt.c(),Tt.m(Wt,null)))},i(B){if(!Ue){for(let ne=0;ne<Gt.length;ne+=1)M(Te[ne]);Ue=!0}},o(B){for(let ne=0;ne<Te.length;ne+=1)j(Te[ne]);Ue=!1},d(B){B&&k(e),he(ft,B),ze.d();for(let ne=0;ne<Te.length;ne+=1)Te[ne].d();Fe.d(),Qe.d(),cl.d(),xt.d(),Xe.d(),Oe.d(),Tt.d(),st=!1,Ye(rt)}}}function j1(t,e,n){let l=0,i=[],s=[];function r(y){n(0,i=i.concat({id:l++,faces:y,result:0,active:!1}))}let o={active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0};function a(){o.active==i.length?i.forEach(y=>y.active=!1):i.forEach(y=>y.active=!0),n(0,i)}function c(){o.active==0?s.filter(y=>y).forEach(y=>y.roll()):s.filter(y=>y).forEach(y=>y.rollIfActive())}function f(){o.active==0?n(0,i=[]):n(0,i=i.filter(y=>!y.active))}let p=1;const m=y=>r(y),_=()=>r(-1);function g(y,T){me[y?"unshift":"push"](()=>{s[T]=y,n(1,s)})}function P(y,T){t.$$.not_equal(T.result,y)&&(T.result=y,n(0,i))}function b(y,T){t.$$.not_equal(T.active,y)&&(T.active=y,n(0,i))}function G(){p=jn(this.value),n(3,p)}function w(){p=jn(this.value),n(3,p)}return t.$$.update=()=>{t.$$.dirty&2&&n(1,s=s.filter(y=>y)),t.$$.dirty&1&&n(2,o=i.reduce((y,T)=>(y.hasOwnProperty(T.faces)?y[T.faces]=y[T.faces]+1:y[T.faces]=1,y.sum+=T.result,T.result<y.low&&(y.low=T.result),T.result>y.high&&(y.high=T.result),T.active&&(y.active=y.active+1,y.activeSum+=T.result,T.result<y.activeLow&&(y.activeLow=T.result),T.result>y.activeHigh&&(y.activeHigh=T.result)),y),{active:0,sum:0,activeSum:0,low:1/0,high:-1/0,activeLow:1/0,activeHigh:-1/0}))},[i,s,o,p,r,a,c,f,m,_,g,P,b,G,w]}class L1 extends Le{constructor(e){super(),je(this,e,j1,A1,Pe,{})}}function so(t,e,n){const l=t.slice();return l[13]=e[n],l[14]=e,l[15]=n,l}function G1(t){let e,n=t[0].length+"",l,i;return{c(){e=R("Add to "),l=R(n),i=R("dE")},m(s,r){$(s,e,r),$(s,l,r),$(s,i,r)},p(s,r){r&1&&n!==(n=s[0].length+"")&&K(l,n)},d(s){s&&(k(e),k(l),k(i))}}}function R1(t){let e;return{c(){e=R("Add 1dE")},m(n,l){$(n,e,l)},p:N,d(n){n&&k(e)}}}function ro(t,e){let n,l,i=e[15],s,r,o;const a=()=>e[9](l,i),c=()=>e[9](null,i);function f(_){e[10](_,e[13])}function p(_){e[11](_,e[13])}let m={faces:-2};return e[13].result!==void 0&&(m.result=e[13].result),e[13].active!==void 0&&(m.active=e[13].active),l=new il({props:m}),a(),me.push(()=>Ae(l,"result",f)),me.push(()=>Ae(l,"active",p)),{key:t,first:null,c(){n=Ce(),q(l.$$.fragment),this.first=n},m(_,g){$(_,n,g),D(l,_,g),o=!0},p(_,g){e=_,i!==e[15]&&(c(),i=e[15],a());const P={};!s&&g&1&&(s=!0,P.result=e[13].result,Me(()=>s=!1)),!r&&g&1&&(r=!0,P.active=e[13].active,Me(()=>r=!1)),l.$set(P)},i(_){o||(M(l.$$.fragment,_),o=!0)},o(_){j(l.$$.fragment,_),o=!1},d(_){_&&k(n),c(),F(l,_)}}}function T1(t){let e,n,l,i,s,r,o,a,c=t[2].active==0?"Clear All":"Remove "+String(t[2].active),f,p,m,_,g=t[2].active==t[0].length?"Select None":"Select All",P,b,G,w,y=t[2].active==0?"Reroll All":"Reroll "+String(t[2].active),T,J,ie,Y,U=[],E=new Map,ee,A,H,te,ge,le,Be,Ne,_e,fe,z,W,Ge,ae,Te,Xt,tt,lt,nt,ot,at,Ie,Ot,Ve,el,pe,zt,Dt,xe,ct,Yt,He,We,oe,be,yt,tl,ue,it,ol,bl,Ft,ll,qt,Vt,Nt,et,Zt,Mt,At,vl,Jt,Cl,Ee,Et,Je,ut,jt,fl,Lt,Bt,al,Wt,Ue,st,rt,nl,ft,_t,_l,ze;function Gt(X,ke){return X[0].length==0?R1:G1}let kl=Gt(t),Ke=kl(t),De=V(t[0]);const Fe=X=>X[13].id;for(let X=0;X<De.length;X+=1){let ke=so(t,De,X),Qe=Fe(ke);E.set(Qe,U[X]=ro(Qe,ke))}return ae=new il({props:{faces:-2,result:2,active:!1,enabled:!1}}),ot=new il({props:{faces:-2,result:3,active:!1,enabled:!1}}),Ie=new il({props:{faces:-2,result:1,active:!1,enabled:!1}}),Ve=new il({props:{faces:-2,result:3,active:!1,enabled:!1}}),pe=new il({props:{faces:-2,result:3,active:!1,enabled:!1}}),ct=new il({props:{faces:-2,result:2,active:!1,enabled:!1}}),ol=new il({props:{faces:-2,result:1,active:!1,enabled:!1}}),Vt=new il({props:{faces:-2,result:2,active:!1,enabled:!1}}),At=new il({props:{faces:-2,result:3,active:!1,enabled:!1}}),Et=new il({props:{faces:-2,result:1,active:!1,enabled:!1}}),ut=new il({props:{faces:-2,result:3,active:!1,enabled:!1}}),al=new il({props:{faces:-2,result:2,active:!1,enabled:!1}}),Ue=new il({props:{faces:-2,result:3,active:!1,enabled:!1}}),{c(){e=h("div"),n=h("div"),l=h("h1"),l.textContent="Eye Roller",i=v(),s=h("button"),Ke.c(),r=v(),o=h("div"),a=h("button"),f=R(c),m=v(),_=h("button"),P=R(g),G=v(),w=h("button"),T=R(y),ie=v(),Y=h("div");for(let X=0;X<U.length;X+=1)U[X].c();ee=v(),A=h("div"),H=R(t[3]),te=v(),ge=h("div"),le=h("div"),Be=h("h2"),Be.textContent="What are Eye Dice?",Ne=v(),_e=h("p"),_e.textContent="Eye dice are 6-sided dice that have one circle side, two pip sides, and three pip-in-circle sides.",fe=v(),z=h("div"),W=h("div"),Ge=v(),q(ae.$$.fragment),Te=v(),Xt=h("div"),tt=v(),lt=h("div"),nt=v(),q(ot.$$.fragment),at=v(),q(Ie.$$.fragment),Ot=v(),q(Ve.$$.fragment),el=v(),q(pe.$$.fragment),zt=v(),Dt=h("div"),xe=v(),q(ct.$$.fragment),Yt=v(),He=h("div"),We=v(),oe=h("div"),be=v(),yt=h("p"),yt.innerHTML=`Each side type can be referred to individually or in groups, which each have their own, unique chances of occurring.<br/><br/>
        The chances of each are:`,tl=v(),ue=h("div"),it=h("div"),q(ol.$$.fragment),bl=v(),Ft=h("div"),Ft.textContent="⅙ Snake",ll=v(),qt=h("div"),q(Vt.$$.fragment),Nt=v(),et=h("div"),et.textContent="⅓ Bat",Zt=v(),Mt=h("div"),q(At.$$.fragment),vl=v(),Jt=h("div"),Jt.textContent="½ Fish",Cl=v(),Ee=h("div"),q(Et.$$.fragment),Je=v(),q(ut.$$.fragment),jt=v(),fl=h("div"),fl.textContent="⅔ Pips",Lt=v(),Bt=h("div"),q(al.$$.fragment),Wt=v(),q(Ue.$$.fragment),st=v(),rt=h("div"),rt.textContent="⅚ Rings",nl=v(),ft=h("p"),ft.textContent="Rolling multiple eye dice for the same thing multiplies that fraction by itself number-of-dice times. For example, rolling 2dE for fish gives you a 50% * 50% = 25% chance of rolling all fish.",d(s,"class","button-outlined"),d(a,"class","button-outlined"),a.disabled=p=t[0].length<=0,d(_,"class","button-outlined"),_.disabled=b=t[0].length<=0,d(w,"class","button-outlined"),w.disabled=J=t[0].length<=0,Z(o,"display","grid"),Z(o,"grid-template-columns","32% 32% 32%"),Z(o,"justify-content","center"),d(Y,"class","dice-box"),d(A,"class","text-center"),Z(A,"font-size","small"),Z(A,"white-space","pre"),d(A,"id","result-view"),d(n,"class","content-box"),d(e,"class","page"),d(W,"class","svelte-15n9wmj"),d(Xt,"class","svelte-15n9wmj"),d(lt,"class","svelte-15n9wmj"),d(Dt,"class","svelte-15n9wmj"),d(He,"class","svelte-15n9wmj"),d(oe,"class","svelte-15n9wmj"),d(z,"class","die-diagram svelte-15n9wmj"),d(it,"class","svelte-15n9wmj"),d(Ft,"class","svelte-15n9wmj"),d(qt,"class","svelte-15n9wmj"),d(et,"class","svelte-15n9wmj"),d(Mt,"class","svelte-15n9wmj"),d(Jt,"class","svelte-15n9wmj"),d(Ee,"class","svelte-15n9wmj"),d(fl,"class","svelte-15n9wmj"),d(Bt,"class","svelte-15n9wmj"),d(rt,"class","svelte-15n9wmj"),d(ue,"class","die-list svelte-15n9wmj"),d(le,"class","content-box"),d(ge,"class","page")},m(X,ke){$(X,e,ke),u(e,n),u(n,l),u(n,i),u(n,s),Ke.m(s,null),u(n,r),u(n,o),u(o,a),u(a,f),u(o,m),u(o,_),u(_,P),u(o,G),u(o,w),u(w,T),u(n,ie),u(n,Y);for(let Qe=0;Qe<U.length;Qe+=1)U[Qe]&&U[Qe].m(Y,null);u(n,ee),u(n,A),u(A,H),$(X,te,ke),$(X,ge,ke),u(ge,le),u(le,Be),u(le,Ne),u(le,_e),u(le,fe),u(le,z),u(z,W),u(z,Ge),D(ae,z,null),u(z,Te),u(z,Xt),u(z,tt),u(z,lt),u(z,nt),D(ot,z,null),u(z,at),D(Ie,z,null),u(z,Ot),D(Ve,z,null),u(z,el),D(pe,z,null),u(z,zt),u(z,Dt),u(z,xe),D(ct,z,null),u(z,Yt),u(z,He),u(z,We),u(z,oe),u(le,be),u(le,yt),u(le,tl),u(le,ue),u(ue,it),D(ol,it,null),u(ue,bl),u(ue,Ft),u(ue,ll),u(ue,qt),D(Vt,qt,null),u(ue,Nt),u(ue,et),u(ue,Zt),u(ue,Mt),D(At,Mt,null),u(ue,vl),u(ue,Jt),u(ue,Cl),u(ue,Ee),D(Et,Ee,null),u(Ee,Je),D(ut,Ee,null),u(ue,jt),u(ue,fl),u(ue,Lt),u(ue,Bt),D(al,Bt,null),u(Bt,Wt),D(Ue,Bt,null),u(ue,st),u(ue,rt),u(le,nl),u(le,ft),_t=!0,_l||(ze=[x(s,"click",t[8]),x(a,"click",t[7]),x(_,"click",t[5]),x(w,"click",t[6])],_l=!0)},p(X,[ke]){kl===(kl=Gt(X))&&Ke?Ke.p(X,ke):(Ke.d(1),Ke=kl(X),Ke&&(Ke.c(),Ke.m(s,null))),(!_t||ke&4)&&c!==(c=X[2].active==0?"Clear All":"Remove "+String(X[2].active))&&K(f,c),(!_t||ke&1&&p!==(p=X[0].length<=0))&&(a.disabled=p),(!_t||ke&5)&&g!==(g=X[2].active==X[0].length?"Select None":"Select All")&&K(P,g),(!_t||ke&1&&b!==(b=X[0].length<=0))&&(_.disabled=b),(!_t||ke&4)&&y!==(y=X[2].active==0?"Reroll All":"Reroll "+String(X[2].active))&&K(T,y),(!_t||ke&1&&J!==(J=X[0].length<=0))&&(w.disabled=J),ke&3&&(De=V(X[0]),$e(),U=ai(U,ke,Fe,1,X,De,E,Y,oi,ro,null,so),we()),(!_t||ke&8)&&K(H,X[3])},i(X){if(!_t){for(let ke=0;ke<De.length;ke+=1)M(U[ke]);M(ae.$$.fragment,X),M(ot.$$.fragment,X),M(Ie.$$.fragment,X),M(Ve.$$.fragment,X),M(pe.$$.fragment,X),M(ct.$$.fragment,X),M(ol.$$.fragment,X),M(Vt.$$.fragment,X),M(At.$$.fragment,X),M(Et.$$.fragment,X),M(ut.$$.fragment,X),M(al.$$.fragment,X),M(Ue.$$.fragment,X),_t=!0}},o(X){for(let ke=0;ke<U.length;ke+=1)j(U[ke]);j(ae.$$.fragment,X),j(ot.$$.fragment,X),j(Ie.$$.fragment,X),j(Ve.$$.fragment,X),j(pe.$$.fragment,X),j(ct.$$.fragment,X),j(ol.$$.fragment,X),j(Vt.$$.fragment,X),j(At.$$.fragment,X),j(Et.$$.fragment,X),j(ut.$$.fragment,X),j(al.$$.fragment,X),j(Ue.$$.fragment,X),_t=!1},d(X){X&&(k(e),k(te),k(ge)),Ke.d();for(let ke=0;ke<U.length;ke+=1)U[ke].d();F(ae),F(ot),F(Ie),F(Ve),F(pe),F(ct),F(ol),F(Vt),F(At),F(Et),F(ut),F(al),F(Ue),_l=!1,Ye(ze)}}}function I1(t){var e=[];e.push(`${t.snakes} snake${t.snakes==1?"":"s"}`),e.push(`${t.bats} bat${t.bats==1?"":"s"}`),e.push(`${t.fish} fish`);var n=[e.join("  ")];return e=[],e.push(`${t.pips} pip${t.pips==1?"":"s"}`),e.push(`${t.rings} ring${t.rings==1?"":"s"}`),n.push(e.join("  ")),n.join(`\r
`)}function O1(t,e,n){let l=0,i=[],s=[];function r(){n(0,i=i.concat({id:l++,result:0,active:!1}))}let o={active:0,snakes:0,bats:0,fish:0,rings:0,pips:0};function a(){o.active==i.length?i.forEach(b=>b.active=!1):i.forEach(b=>b.active=!0),n(0,i)}function c(){o.active==0?s.filter(b=>b).forEach(b=>b.roll()):s.filter(b=>b).forEach(b=>b.rollIfActive())}function f(){o.active==0?n(0,i=[]):n(0,i=i.filter(b=>!b.active))}let p="";const m=()=>r();function _(b,G){me[b?"unshift":"push"](()=>{s[G]=b,n(1,s)})}function g(b,G){t.$$.not_equal(G.result,b)&&(G.result=b,n(0,i))}function P(b,G){t.$$.not_equal(G.active,b)&&(G.active=b,n(0,i))}return t.$$.update=()=>{t.$$.dirty&2&&n(1,s=s.filter(b=>b)),t.$$.dirty&1&&n(2,o=i.reduce((b,G)=>(G.active&&(b.active+=1),G.result==1?(b.snakes+=1,b.pips+=1):G.result==2?(b.bats+=1,b.rings+=1):G.result==3&&(b.fish+=1,b.pips+=1,b.rings+=1),b),{active:0,snakes:0,bats:0,fish:0,rings:0,pips:0})),t.$$.dirty&4&&n(3,p=I1(o))},[i,s,o,p,r,a,c,f,m,_,g,P]}class N1 extends Le{constructor(e){super(),je(this,e,O1,T1,Pe,{})}}function E1(t){let e;return{c(){e=h("div"),e.innerHTML='© 2024 <a href="http://corybeutler.com" class="svelte-x3udvl">Cory Beutler</a><br/> <span style="margin: 0pt 10pt">Report a problem:</span> <a href="https://github.com/cgbeutler/hns-site" class="svelte-x3udvl"><img src="/img/github_logo.png" alt="github.com/cgbeutler/hns-site" class="svelte-x3udvl"/></a>',d(e,"class","ext-nav svelte-x3udvl")},m(n,l){$(n,e,l)},p:N,i:N,o:N,d(n){n&&k(e)}}}class H1 extends Le{constructor(e){super(),je(this,e,null,E1,Pe,{})}}function oo(t){let e,n,l=t[1]?"":"█",i,s,r,o,a,c,f,p,m,_,g;return{c(){e=h("pre"),n=R(t[0]),i=R(l),s=v(),r=h("div"),o=h("div"),a=h("a"),a.textContent="Login",c=h("a"),c.textContent="Create Account",f=h("br"),p=v(),m=h("a"),m.textContent="Try the Character Builder",Z(e,"height","25lh"),d(e,"class","svelte-cz83gi"),d(a,"href","/login"),d(a,"class","button"),d(c,"href","/account"),d(c,"class","button"),d(o,"class","h-button-box svelte-cz83gi"),d(m,"href","/character/local/build"),d(m,"class","button"),d(r,"class","v-button-box svelte-cz83gi")},m(P,b){$(P,e,b),u(e,n),u(e,i),$(P,s,b),$(P,r,b),u(r,o),u(o,a),u(o,c),u(o,f),u(r,p),u(r,m),_||(g=[hn(mn.call(null,a)),hn(mn.call(null,c)),hn(mn.call(null,m))],_=!0)},p(P,b){b&1&&K(n,P[0]),b&2&&l!==(l=P[1]?"":"█")&&K(i,l)},d(P){P&&(k(e),k(s),k(r)),_=!1,Ye(g)}}}function z1(t){let e,n,l,i,s,r,o,a=!t[2]&&oo(t);return r=new H1({}),{c(){e=h("div"),n=h("h1"),n.textContent="The Kleptonomicon",l=v(),a&&a.c(),i=v(),s=h("div"),q(r.$$.fragment),d(e,"id","home-page"),d(e,"class","svelte-cz83gi"),d(s,"id","end-matter"),d(s,"class","svelte-cz83gi")},m(c,f){$(c,e,f),u(e,n),u(e,l),a&&a.m(e,null),$(c,i,f),$(c,s,f),D(r,s,null),o=!0},p(c,[f]){c[2]?a&&(a.d(1),a=null):a?a.p(c,f):(a=oo(c),a.c(),a.m(e,null))},i(c){o||(M(r.$$.fragment,c),o=!0)},o(c){j(r.$$.fragment,c),o=!1},d(c){c&&(k(e),k(i),k(s)),a&&a.d(),F(r)}}}function D1(t,e,n){let l;rl(t,wl,p=>n(2,l=p));let{location:i="/"}=e,s=`                              

You pick up the Kleptonomicon.
  |\\'""""""""""""""""""".
  | \\ __________________\\
  | |":      ______      |
  | | :    ."      ".    |
  |\\| :   /__________\\   |
  | |-:--""___    ___""--|
  |\\|_:_  (_O_)__(_O_)  _|
  | | : '-____(..)____-' |
  |\\| :  |   .====.   |  |
  |\\|-------|| () ||-----|
  | |-------|| || ||-----|
  | | :    \\ '====' /    |
  \\ | :   Kleptonomicon  |
   \\|,:__________________/

 The masked face on the cover
   stares at you lifelessly.
 A large lock binds the book.
You can tell the book contains
 a Tabletop Roleplaying Game.

        What do you do?`,r="",o=0,a=4,c=!1,f=setInterval(()=>{if(o>=s.length){n(1,c=!0),clearInterval(f);return}n(0,r+=s.slice(o,Math.min(o+a,s.length))),o+=a,o>60&&o<460?a=10:o>=460&&o<590?a=4:o>=590&&(a=1)},2);return t.$$set=p=>{"location"in p&&n(3,i=p.location)},t.$$.update=()=>{t.$$.dirty&8&&console.log(i)},[r,c,l,i]}class F1 extends Le{constructor(e){super(),je(this,e,D1,z1,Pe,{location:3})}}function q1(t){let e,n,l,i,s,r;return{c(){e=h("div"),n=h("h1"),n.textContent="Page Not Found",l=v(),i=h("a"),i.textContent="Return To Homepage",d(i,"href","/"),d(i,"class","button-outlined"),d(e,"class","page")},m(o,a){$(o,e,a),u(e,n),u(e,l),u(e,i),s||(r=hn(mn.call(null,i)),s=!0)},p:N,i:N,o:N,d(o){o&&k(e),s=!1,r()}}}class B1 extends Le{constructor(e){super(),je(this,e,null,q1,Pe,{})}}class W1 extends Le{constructor(e){super(),je(this,e,null,null,Pe,{})}}function U1(t){let e,n,l,i,s;return i=new Po({}),{c(){e=h("div"),n=h("h1"),n.textContent="Login",l=v(),q(i.$$.fragment),d(e,"id","login-page"),d(e,"class","svelte-1u4l0nb")},m(r,o){$(r,e,o),u(e,n),u(e,l),D(i,e,null),s=!0},p:N,i(r){s||(M(i.$$.fragment,r),s=!0)},o(r){j(i.$$.fragment,r),s=!1},d(r){r&&k(e),F(i)}}}class Y1 extends Le{constructor(e){super(),je(this,e,null,U1,Pe,{})}}function V1(t){let e,n,l,i,s;return{c(){e=h("div"),d(e,"slot","backdrop"),d(e,"class","backdrop svelte-bpnpmw"),d(e,"role","none")},m(r,o){$(r,e,o),l=!0,i||(s=[x(e,"click",wo),x(e,"keypress",t[1])],i=!0)},p:N,i(r){l||(r&&El(()=>{l&&(n||(n=ni(e,Di,{},!0)),n.run(1))}),l=!0)},o(r){r&&(n||(n=ni(e,Di,{},!1)),n.run(0)),l=!1},d(r){r&&k(e),r&&n&&n.end(),i=!1,Ye(s)}}}function J1(t){let e,n,l,i,s,r,o,a,c,f,p,m,_,g,P,b,G,w,y,T,J,ie,Y,U,E,ee;return e=new Ka({props:{$$slots:{backdrop:[V1]},$$scope:{ctx:t}}}),s=new It({props:{component:B1}}),o=new It({props:{path:"/",component:F1}}),c=new It({props:{path:"/character",component:xf}}),p=new It({props:{path:"/character/:id/*",component:Jf}}),_=new It({props:{path:"/dice",component:L1}}),P=new It({props:{path:"/dice/ageroller",component:Bc}}),G=new It({props:{path:"/dice/eyeroller",component:N1}}),y=new It({props:{path:"/srd",component:W1}}),J=new It({props:{path:"/account",component:Nc}}),Y=new It({props:{path:"/login",component:Y1}}),{c(){q(e.$$.fragment),n=v(),l=h("button"),l.innerHTML='<img src="/img/HnsSmall.svg" alt="H&amp;S"/>',i=v(),q(s.$$.fragment),r=v(),q(o.$$.fragment),a=v(),q(c.$$.fragment),f=v(),q(p.$$.fragment),m=v(),q(_.$$.fragment),g=v(),q(P.$$.fragment),b=v(),q(G.$$.fragment),w=v(),q(y.$$.fragment),T=v(),q(J.$$.fragment),ie=v(),q(Y.$$.fragment),d(l,"id","nav-button"),d(l,"class","svelte-bpnpmw")},m(A,H){D(e,A,H),$(A,n,H),$(A,l,H),$(A,i,H),D(s,A,H),$(A,r,H),D(o,A,H),$(A,a,H),D(c,A,H),$(A,f,H),D(p,A,H),$(A,m,H),D(_,A,H),$(A,g,H),D(P,A,H),$(A,b,H),D(G,A,H),$(A,w,H),D(y,A,H),$(A,T,H),D(J,A,H),$(A,ie,H),D(Y,A,H),U=!0,E||(ee=x(l,"click",t[3]),E=!0)},p(A,H){const te={};H&16&&(te.$$scope={dirty:H,ctx:A}),e.$set(te)},i(A){U||(M(e.$$.fragment,A),M(s.$$.fragment,A),M(o.$$.fragment,A),M(c.$$.fragment,A),M(p.$$.fragment,A),M(_.$$.fragment,A),M(P.$$.fragment,A),M(G.$$.fragment,A),M(y.$$.fragment,A),M(J.$$.fragment,A),M(Y.$$.fragment,A),U=!0)},o(A){j(e.$$.fragment,A),j(s.$$.fragment,A),j(o.$$.fragment,A),j(c.$$.fragment,A),j(p.$$.fragment,A),j(_.$$.fragment,A),j(P.$$.fragment,A),j(G.$$.fragment,A),j(y.$$.fragment,A),j(J.$$.fragment,A),j(Y.$$.fragment,A),U=!1},d(A){A&&(k(n),k(l),k(i),k(r),k(a),k(f),k(m),k(g),k(b),k(w),k(T),k(ie)),F(e,A),F(s,A),F(o,A),F(c,A),F(p,A),F(_,A),F(P,A),F(G,A),F(y,A),F(J,A),F(Y,A),E=!1,ee()}}}function K1(t){let e,n,l,i;return El(t[2]),e=new Un({props:{$$slots:{default:[J1]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(s,r){D(e,s,r),n=!0,l||(i=x(window,"resize",t[2]),l=!0)},p(s,[r]){const o={};r&16&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){n||(M(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){F(e,s),l=!1,i()}}}function Q1(t,e,n){let l=0;function i(o){o.repeat||o.key==="Escape"&&(wo(),o.preventDefault())}function s(){n(0,l=window.innerWidth)}return[l,i,s,()=>So(yo)]}class X1 extends Le{constructor(e){super(),je(this,e,Q1,K1,Pe,{})}}const Z1=ml(window.location.pathname);new X1({target:document.getElementById("app")});const x1=()=>{let t=window.location.pathname;const e=document.querySelector("body");new MutationObserver(l=>{l.forEach(()=>{t!==document.location.pathname&&(t=document.location.pathname,Z1.set(t))})}).observe(e,{childList:!0,subtree:!0})};window.onload=x1;
